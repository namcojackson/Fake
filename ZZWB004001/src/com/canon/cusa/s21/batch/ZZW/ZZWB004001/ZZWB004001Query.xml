<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="ZZWB004001Query">

      <statement id="getProcAndTaskIdByApvlId" parameterClass="Map" resultClass="Map">
           SELECT
             WI.WF_PROC_PK
             , WI.WF_WRK_ITEM_PK 
           FROM
             WF_WRK_ITEM_APVL WIP
             , WF_WRK_ITEM WI 
           WHERE
             WIP.WF_WRK_ITEM_PK = WI.WF_WRK_ITEM_PK 
             AND WIP.WF_WRK_ITEM_APVL_ID = #wrkItemApvlId#
             AND WIP.GLBL_CMPY_CD = #glblCmpyCd# 
             AND WI.GLBL_CMPY_CD = #glblCmpyCd#
             AND WIP.EZCANCELFLAG = '0'
             AND WI.EZCANCELFLAG = '0'
      </statement>
      
      <statement id="getQidByFromAddr" parameterClass="Map" resultClass="Map">
           SELECT
             USR_NM
           FROM
             AUTH_PSN AP 
           WHERE
             AP.EML_ADDR=#fromAddr#
             AND AP.GLBL_CMPY_CD = #glblCmpyCd#
             AND AP.EZCANCELFLAG = '0'
      </statement>
<!--
      <statement id="checkAccessAuthorityByQid" parameterClass="Map" resultClass="Map">
           SELECT
             COUNT(*) CNT
           FROM
             WF_WRK_ITEM WI
             , WF_WRK_ITEM_USR_RELN WIUR
             , WF_USR WU
           where
             WI.WF_WRK_ITEM_PK = WIUR.WF_WRK_ITEM_PK 
             AND WIUR.WF_USR_PK = WU.WF_USR_PK 
             AND WU.WF_USR_PK = UA.WF_USR_PK 
             AND WI.WF_WRK_ITEM_PK = #taskId#
             AND WU.WF_USR_ID = #userId#
             AND U.WF_USR_ACCS_TP_CD = #accessType#
             AND WI.GLBL_CMPY_CD = #glblCmpyCd#
             AND WIUR.GLBL_CMPY_CD = #glblCmpyCd#
             AND WU.GLBL_CMPY_CD = #glblCmpyCd#
             AND WI.EZCANCELFLAG = '0'
             AND WIUR.EZCANCELFLAG = '0'
             AND WU.EZCANCELFLAG = '0'
      </statement>
-->

      <statement id="getMlTmplRtrnId" parameterClass="Map" resultClass="Map">
           SELECT
             NE.ML_TMPL_RTRN_ID
           FROM
             WF_WRK_ITEM_NTFY_EVENT NE
             , WF_WRK_ITEM_APVL IA
           where
             IA.WF_WRK_ITEM_APVL_ID= #wrkItemApvlId#
             AND IA.WF_WRK_ITEM_PK = NE.WF_WRK_ITEM_PK
             AND IA.WF_EVENT_TP_CD = NE.WF_EVENT_TP_CD
             AND IA.WF_EVENT_AUTO_FLG = NE.WF_EVENT_AUTO_FLG
             AND IA.WF_NTFY_EVENT_TP_CD = NE.WF_NTFY_EVENT_TP_CD
             AND IA.WF_NTFY_ACT_TP_CD = NE.WF_NTFY_ACT_TP_CD
             AND IA.GLBL_CMPY_CD = #glblCmpyCd#
             AND IA.EZCANCELFLAG = '0'
             AND NE.GLBL_CMPY_CD = #glblCmpyCd#
             AND NE.EZCANCELFLAG = '0'
      </statement>

      <statement id="getMlTmplErrId" parameterClass="Map" resultClass="Map">
           SELECT
             NE.ML_TMPL_ERR_ID
           FROM
             WF_WRK_ITEM_NTFY_EVENT NE
             , WF_WRK_ITEM_APVL IA
           where
             IA.WF_WRK_ITEM_APVL_ID= #wrkItemApvlId#
             AND IA.WF_WRK_ITEM_PK = NE.WF_WRK_ITEM_PK
             AND IA.WF_EVENT_TP_CD = NE.WF_EVENT_TP_CD
             AND IA.WF_EVENT_AUTO_FLG = NE.WF_EVENT_AUTO_FLG
             AND IA.WF_NTFY_EVENT_TP_CD = NE.WF_NTFY_EVENT_TP_CD
             AND IA.WF_NTFY_ACT_TP_CD = NE.WF_NTFY_ACT_TP_CD
             AND IA.GLBL_CMPY_CD = #glblCmpyCd#
             AND IA.EZCANCELFLAG = '0'
             AND NE.GLBL_CMPY_CD = #glblCmpyCd#
             AND NE.EZCANCELFLAG = '0'
      </statement>
</sqlMap>