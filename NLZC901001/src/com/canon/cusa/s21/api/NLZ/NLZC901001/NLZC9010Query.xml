<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NLZC9010Query">

    <typeAlias alias="ORD_TAKE_MDSETMsg"  type="business.db.ORD_TAKE_MDSETMsg"/>

    <statement id="searchShipInfo" parameterClass="Map" resultClass="Map">
        SELECT
            SOD.SO_NUM
           ,SOD.MDSE_CD
           ,SOD.RTL_WH_CD
           ,SOD.RTL_SWH_CD
           ,SOD.FROM_STK_STS_CD
           ,SOD.SHPG_QTY
           ,SOD.TOT_SHPG_WT
           ,SO.SHIP_TO_CUST_CD
           ,ST.LOC_NM
           ,IB.BIN_LOC_CD
           ,RW.INVTY_OWNR_CD
        FROM
            PRT_SHIP_NUM_MAP  SN
           ,SHPG_ORD_DTL      SOD
           ,SHPG_ORD          SO
           ,ITEM_BIN_LOC      IB
           ,RTL_WH            RW
           ,SHIP_TO_CUST      ST
        WHERE
            SN.GLBL_CMPY_CD     = #glblCmpyCd#
        AND SN.PRT_SHIP_NUM     = #shipNum#
        AND SN.EZCANCELFLAG     = '0'
        AND SN.GLBL_CMPY_CD     = SOD.GLBL_CMPY_CD
        AND SN.EZCANCELFLAG     = SOD.EZCANCELFLAG
        AND SN.SO_NUM           = SOD.SO_NUM
        AND SOD.GLBL_CMPY_CD    = IB.GLBL_CMPY_CD
        AND SOD.EZCANCELFLAG    = IB.EZCANCELFLAG
        AND SOD.MDSE_CD         = IB.MDSE_CD
        AND SOD.RTL_WH_CD       = IB.RTL_WH_CD
        AND SOD.RTL_SWH_CD      = IB.RTL_SWH_CD
        AND SOD.FROM_STK_STS_CD = IB.STK_STS_CD
        AND SOD.GLBL_CMPY_CD    = RW.GLBL_CMPY_CD
        AND SOD.EZCANCELFLAG    = RW.EZCANCELFLAG
        AND SOD.RTL_WH_CD       = RW.RTL_WH_CD
        AND SOD.GLBL_CMPY_CD    = SO.GLBL_CMPY_CD
        AND SOD.EZCANCELFLAG    = SO.EZCANCELFLAG
        AND SOD.SO_NUM          = SO.SO_NUM
        AND SO.GLBL_CMPY_CD     = ST.GLBL_CMPY_CD
        AND SO.EZCANCELFLAG     = ST.EZCANCELFLAG
        AND SO.SHIP_TO_CUST_CD  = ST.SHIP_TO_CUST_CD
    </statement>
</sqlMap>