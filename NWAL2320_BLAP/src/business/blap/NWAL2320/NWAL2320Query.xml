<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NWAL2320Query">
    <statement id="getDsOrdCatgCd" parameterClass="Map" resultClass="String">
        SELECT
             DOC.DS_ORD_CATG_CD
        FROM
            DS_ORD_CATG          DOC
        WHERE
            DOC.EZCANCELFLAG                = '0'
            AND DOC.GLBL_CMPY_CD            = #glblCmpyCd#
            AND DOC.DS_ORD_CATG_DESC_TXT    = #dsOrdCatgDescTxt#
    </statement>

    <statement id="getDsOrdLineCatgCd" parameterClass="Map" resultClass="String">
        SELECT
            DOLC.DS_ORD_LINE_CATG_CD
        FROM
            DS_ORD_LINE_CATG     DOLC
        WHERE
            DOLC.EZCANCELFLAG       = '0'
            AND DOLC.GLBL_CMPY_CD   = #glblCmpyCd#
            AND DOLC.DS_ORD_LINE_CATG_DESC_TXT = #dsOrdLineCatgDescTxt#
    </statement>

    <statement id="getDsOrdTpCd" parameterClass="Map" resultClass="String">
        SELECT
             DOT.DS_ORD_TP_CD
        FROM
            DS_ORD_TP            DOT
        WHERE
            DOT.EZCANCELFLAG            = '0'
            AND DOT.GLBL_CMPY_CD        = #glblCmpyCd#
            AND DOT.DS_ORD_TP_DESC_TXT  = #dsOrdTpDescTxt#
    </statement>

    <statement id="getTocInfo" parameterClass="Map" resultClass="Map">
        SELECT
             T.TOC_CD
             ,T.ORG_FUNC_ROLE_TP_CD
             ,T.COA_EXTN_CD
        FROM
            TOC                  T
        WHERE
            T.EZCANCELFLAG       = '0'
            AND T.GLBL_CMPY_CD   = #glblCmpyCd#
            AND T.TOC_NM         = #tocNm#
    </statement>

    <statement id="getRtlWhCd" parameterClass="Map" resultClass="String">
        SELECT
             RW.RTL_WH_CD
        FROM
            RTL_WH               RW
        WHERE
            RW.EZCANCELFLAG       = '0'
            AND RW.GLBL_CMPY_CD   = #glblCmpyCd#
            AND RW.RTL_WH_NM      = #rtlWhNm#
    </statement>

    <statement id="getRtlSwhCd" parameterClass="Map" resultClass="String">
        SELECT
            RS.RTL_SWH_CD
        FROM
            RTL_SWH              RS
        WHERE
            RS.EZCANCELFLAG       = '0'
            AND RS.GLBL_CMPY_CD   = #glblCmpyCd#
            AND RS.RTL_SWH_NM     = #rtlSwhNm#
    </statement>

    <statement id="getRtrnRsnCd" parameterClass="Map" resultClass="String">
        SELECT
            RR.RTRN_RSN_CD
        FROM
            RTRN_RSN             RR
        WHERE
            RR.EZCANCELFLAG             = '0'
            AND RR.GLBL_CMPY_CD         = #glblCmpyCd#
            AND RR.RTRN_RSN_DESC_TXT    = #rtrnRsnDescTxt#
    </statement>

    <statement id="getMdseNm" parameterClass="Map" resultClass="String">
        SELECT
            AMV.MDSE_NM
        FROM
            ALL_MDSE_V           AMV
        WHERE
            AMV.EZCANCELFLAG        = '0'
            AND AMV.GLBL_CMPY_CD    = #glblCmpyCd#
            AND AMV.MDSE_CD         = #mdseCd#
    </statement>

    <statement id="getMaxDsOrdPosnNum" parameterClass="Map" resultClass="String">
        SELECT
            NVL(MAX(TO_NUMBER(DCC.DS_ORD_POSN_NUM)), '0')
        FROM
            DS_CPO_CONFIG        DCC
        WHERE
            DCC.EZCANCELFLAG       = '0'
            AND DCC.GLBL_CMPY_CD   = #glblCmpyCd#
            AND DCC.CPO_ORD_NUM    = #cpoOrdNum#
            AND DCC.CONFIG_CATG_CD = #configCatgCd#
    </statement>

    <statement id="getMaxCpoDtlLineNum" parameterClass="Map" resultClass="String">
        SELECT
            MAX(CD.CPO_DTL_LINE_NUM)
        FROM
            CPO_DTL              CD
        WHERE
            CD.EZCANCELFLAG       = '0'
            AND CD.GLBL_CMPY_CD   = #glblCmpyCd#
            AND CD.CPO_ORD_NUM    = #cpoOrdNum#
    </statement>

    <statement id="getMaxDsCpoRtrnLineNum" parameterClass="Map" resultClass="String">
        SELECT
            MAX(DCRD.DS_CPO_RTRN_LINE_NUM)
        FROM
            DS_CPO_RTRN_DTL      DCRD
        WHERE
            DCRD.EZCANCELFLAG       = '0'
            AND DCRD.GLBL_CMPY_CD   = #glblCmpyCd#
            AND DCRD.CPO_ORD_NUM    = #cpoOrdNum#
    </statement>

    <statement id="getCoaMdseTpList" parameterClass="Map" resultClass="String">
        SELECT
            VS.COA_MDSE_TP_CD
        FROM
            MDSE_TP_VAL_SET VS
        WHERE
            VS.GLBL_CMPY_CD          = #glblCmpyCd#
            AND VS.MDSE_TP_CTX_TP_CD = #mainMach#
            AND VS.EZCANCELFLAG      = '0'
    </statement>

    <!-- QC#16836 Add Start -->
    <statement id="getShpgSerTakeFlgFromAllMdse" parameterClass="Map" resultClass="String">
        SELECT
            ALL_MDSE.SHPG_SER_TAKE_FLG
        FROM
            (SELECT
                 M.GLBL_CMPY_CD
                ,M.SHPG_SER_TAKE_FLG
                ,M.EZCANCELFLAG
             FROM
                 MDSE M
             WHERE
                 M.GLBL_CMPY_CD     = #glblCmpyCd#
                 AND M.MDSE_CD      = #mdseCd#
                 AND M.EZCANCELFLAG = '0'
             UNION ALL
             SELECT
                 M.GLBL_CMPY_CD
                ,M.SHPG_SER_TAKE_FLG
                ,M.EZCANCELFLAG
             FROM
                 ORD_TAKE_MDSE OTM
                ,MDSE M
             WHERE
                 OTM.GLBL_CMPY_CD         = #glblCmpyCd#
                 AND OTM.ORD_TAKE_MDSE_CD = #mdseCd#
                 AND OTM.EZCANCELFLAG     = '0'
                 AND OTM.GLBL_CMPY_CD     = M.GLBL_CMPY_CD
                 AND OTM.MDSE_CD          = M.MDSE_CD
                 AND M.EZCANCELFLAG       = '0'
            ) ALL_MDSE
        WHERE
            ALL_MDSE.GLBL_CMPY_CD     = #glblCmpyCd#
            AND ALL_MDSE.EZCANCELFLAG = '0'
     </statement>
     <!-- QC#16836 Add End -->

    <!-- 2018/12/14 QC#29315 Add Start -->
    <statement id="getLocNumFromShipTo" parameterClass="Map" resultClass="Map">
        SELECT
            SHIP.LOC_NUM         AS LOC_NUM
        FROM
            SHIP_TO_CUST SHIP
        WHERE
                  SHIP.GLBL_CMPY_CD    = #glblCmpyCd#
            AND   SHIP.EZCANCELFLAG    = '0'
            AND   SHIP.RGTN_STS_CD     = #rgtnStsCd#
            AND   SHIP.SHIP_TO_CUST_CD = #shipToCustCd#
            AND   ROWNUM               = 1
    </statement>
    <!-- 2018/12/14 QC#29315 Add End -->

</sqlMap>