<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NPZC107001">

    <!-- Alias Definition -->
    <typeAlias alias="MRP_INFOTMsg" type="business.db.MRP_INFOTMsg" />

    <!-- Searches ASL Detail. -->
    <statement id="getSupersessionFromMDSECode" parameterClass="Map" resultMap="result.MRP_INFOTMsg">
        SELECT
            MI.MRP_INFO_PK
            ,MI.INVTY_LOC_CD
            ,MI.MRP_PLN_NM
            ,MI.RTL_WH_CATG_CD
            ,MI.RTL_WH_CD
            ,MI.RTL_SWH_CD
            ,MI.LOC_ROLE_TP_CD
            ,MI.ROP_QTY
            ,MI.MAX_INVTY_QTY
            ,MI.MIN_ORD_QTY
            ,MI.INCR_ORD_QTY
            ,MI.PROCR_TP_CD
            ,MI.SRC_LOC_CD
            ,MI.SRC_RTL_WH_CD
            ,MI.SRC_RTL_SWH_CD
            ,MI.RPLSH_DLY_FLG
            ,MI.RPLSH_MON_FLG
            ,MI.RPLSH_TUE_FLG
            ,MI.RPLSH_WED_FLG
            ,MI.RPLSH_THU_FLG
            ,MI.RPLSH_FRI_FLG
        FROM
            MRP_INFO MI
        WHERE
            MI.GLBL_CMPY_CD         = #glblCmpyCd#
        AND MI.MDSE_CD              = #supdFrmMdsCd#
        AND MI.MRP_INFO_RGTN_STS_CD = 'P20'
        AND MI.EZCANCELFLAG         = '0'
    </statement>
    <resultMap id="result.MRP_INFOTMsg" class="MRP_INFOTMsg">
        <result property="mrpInfoPk"           column="MRP_INFO_PK"      javaType="EZDTBigDecimalItem"/>
        <result property="invtyLocCd"          column="INVTY_LOC_CD"     javaType="EZDTStringItem"/>
        <result property="mrpPlnNm"            column="MRP_PLN_NM"       javaType="EZDTStringItem"/>
        <result property="rtlWhCatgCd"         column="RTL_WH_CATG_CD"   javaType="EZDTStringItem"/>
        <result property="rtlWhCd"             column="RTL_WH_CD"        javaType="EZDTStringItem"/>
        <result property="rtlSwhCd"            column="RTL_SWH_CD"       javaType="EZDTStringItem"/>
        <result property="locRoleTpCd"         column="LOC_ROLE_TP_CD"   javaType="EZDTStringItem"/>
        <result property="ropQty"              column="ROP_QTY"          javaType="EZDTBigDecimalItem"/>
        <result property="maxInvtyQty"         column="MAX_INVTY_QTY"    javaType="EZDTBigDecimalItem"/>
        <result property="minOrdQty"           column="MIN_ORD_QTY"      javaType="EZDTBigDecimalItem"/>
        <result property="incrOrdQty"          column="INCR_ORD_QTY"     javaType="EZDTBigDecimalItem"/>
        <result property="procrTpCd"           column="PROCR_TP_CD"      javaType="EZDTStringItem"/>
        <result property="srcLocCd"            column="SRC_LOC_CD"       javaType="EZDTStringItem"/>
        <result property="srcRtlWhCd"          column="SRC_RTL_WH_CD"    javaType="EZDTStringItem"/>
        <result property="srcRtlSwhCd"         column="SRC_RTL_SWH_CD"   javaType="EZDTStringItem"/>
        <result property="rplshDlyFlg"         column="RPLSH_DLY_FLG"    javaType="EZDTStringItem"/>
        <result property="rplshMonFlg"         column="RPLSH_MON_FLG"    javaType="EZDTStringItem"/>
        <result property="rplshTueFlg"         column="RPLSH_TUE_FLG"    javaType="EZDTStringItem"/>
        <result property="rplshWedFlg"         column="RPLSH_WED_FLG"    javaType="EZDTStringItem"/>
        <result property="rplshThuFlg"         column="RPLSH_THU_FLG"    javaType="EZDTStringItem"/>
        <result property="rplshFriFlg"         column="RPLSH_FRI_FLG"    javaType="EZDTStringItem"/>
    </resultMap>
    
    <statement id="getSupersessionToMDSECode" parameterClass="Map" resultClass="BigDecimal">
        SELECT
            MI.MRP_INFO_PK
        FROM
            MRP_INFO MI
        WHERE
            MI.GLBL_CMPY_CD         = #glblCmpyCd#
        AND MI.MDSE_CD              = #supdToMdsCd#
        AND MI.INVTY_LOC_CD         = #invtyLocCd#
        AND MI.MRP_INFO_RGTN_STS_CD = 'P20'
        AND MI.EZCANCELFLAG         = '0'
    </statement>
</sqlMap>