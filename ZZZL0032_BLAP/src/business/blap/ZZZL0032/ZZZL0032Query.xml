<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="ZZZL0032Query">
	
	<typeAlias alias="ZZZL0032_ACMsg" type="business.blap.ZZZL0032.ZZZL0032_ACMsg"/>
    <typeAlias alias="ZZZL0032_ACMsgArray" type="business.blap.ZZZL0032.ZZZL0032_ACMsgArray"/>
	
	<statement id="getEventIdList" resultMap="result.ZZZL0032_ACMsg" parameterClass="Map">
		<!--  
		SELECT	*
		FROM	(
				SELECT DISTINCT
					BIZ_ID,
					SCR_APP_ID
				FROM 
					ONL_PROC_LOG
				WHERE
		        	EZCANCELFLAG = 0 	
		        <isNotNull property="glblCmpyCd">
					AND UPPER(GLBL_CMPY_CD) = #glblCmpyCd#
				</isNotNull>
				<isNotNull property="bizId">
					AND UPPER(BIZ_ID) LIKE #bizId#
				</isNotNull>
				<isNotNull property="eventId">
					AND SCR_APP_ID LIKE #eventId#
				</isNotNull>	
					ORDER BY BIZ_ID ASC, SCR_APP_ID ASC
				)
		WHERE ROWNUM &lt;= 201  
		-->   
		SELECT	*
		FROM	ONL_PROC_LOG_MV
		WHERE	ROWNUM &lt;= 201 
	        	<isNotNull property="glblCmpyCd">
	        		AND	GLBL_CMPY_CD  = #glblCmpyCd#
				</isNotNull>
				<isNotNull property="bizId">
					AND UPPER(BIZ_ID) LIKE #bizId#
				</isNotNull>
				<isNotNull property="eventId">
					AND SCR_APP_ID LIKE #eventId#
				</isNotNull>	
		ORDER BY BIZ_ID ASC, SCR_APP_ID ASC			
	</statement>
	
	<resultMap id="result.ZZZL0032_ACMsg" class="ZZZL0032_ACMsg">
		<result property="bizId_A" column="BIZ_ID" javaType="StringItemEZD"/>
		<result property="scrAppId_A" column="SCR_APP_ID" javaType="StringItemEZD"/>
	</resultMap>
	
</sqlMap>