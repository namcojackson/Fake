<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZYPL0310Query">
    <!-- get ATT_DATA_CMNT_CLOD -->
    <statement id="getAttCmnt" parameterClass="Map" resultClass="Map">
        SELECT
                ATT_DATA_PK
            ,   ATT_DATA_CMNT_CLOD
            ,   DBMS_LOB.GETCHUNKSIZE(EZBUSINESSID) AS CHUNK_SIZE
        FROM
                ATT_DATA
        WHERE
                EZCANCELFLAG     = '0'
            AND GLBL_CMPY_CD     = #glblCmpyCd#
            AND EZBUSINESSID     = #ezBusinessID#
            AND ATT_DATA_GRP_TXT = #attDataGrpTxt#
    </statement>

    <!-- update ATT_DATA_CMNT_CLOD -->
    <statement id="updAttCmnt" parameterClass="Map">
        UPDATE
                ATT_DATA
        SET
                ATT_DATA_CMNT_CLOD = #attDataCmnt#
        WHERE
                EZCANCELFLAG  = '0'
            AND GLBL_CMPY_CD  = #glblCmpyCd#
            AND ATT_DATA_PK    = #attDataPk#
    </statement>

    <!-- Add Start 2019/05/09 QC#50015 -->
    <statement id="getAttDocTpCdList" parameterClass="Map" resultClass="Map">
        SELECT
             ADDT.ATT_DATA_DOC_TP_CD
            ,ADDT.ATT_DATA_DOC_TP_NM
        FROM
            ATT_DATA_DOC_TP ADDT
        WHERE
                ADDT.GLBL_CMPY_CD          = #glblCmpyCd#
            <isNotNull property="attDocTpCdList">
            <iterate property="attDocTpCdList" var="attDocTpCd[]" open=" AND ADDT.ATT_DATA_DOC_TP_CD IN (" close=")" conjunction=",">
                #attDocTpCd[]#
            </iterate>
            </isNotNull>
            AND ADDT.EZCANCELFLAG          = '0'
        ORDER BY
            ADDT.ATT_DATA_DOC_TP_SORT_NUM
    </statement>
    <!-- Add End 2019/05/09 QC#50015 -->
</sqlMap>