<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NSAL9900Query">
    <statement id="getTblInfo" parameterClass="Map" resultClass="Map">
        SELECT
             A.PHYS_MAINT_TRGT_TBL_NM     AS PHYS_MAINT_TRGT_TBL_NM
            ,A.LOGIC_MAINT_TRGT_TBL_NM    AS LOGIC_MAINT_TRGT_TBL_NM
            ,A.BIZ_FUNC_GRP_ID            AS BIZ_FUNC_GRP_ID
            ,A.BIZ_FUNC_ID                AS BIZ_FUNC_ID
            ,A.DEL_FUNC_AVAL_FLG          AS DEL_FUNC_AVAL_FLG
            ,A.INSR_FUNC_AVAL_FLG         AS INSR_FUNC_AVAL_FLG <!-- 2018/11/26 S21_NA#27299 Add -->
        FROM
            MAINT_TRGT_TBL_INFO A
        WHERE
                A.GLBL_CMPY_CD           = #glblCmpyCd#
            AND A.EZCANCELFLAG           = '0'
            AND A.PHYS_MAINT_TRGT_TBL_NM = #tblNm#
    </statement>
    <statement id="getColInfo" parameterClass="Map" resultClass="Map">
        SELECT
             A.PHYS_MAINT_TRGT_TBL_NM    AS PHYS_MAINT_TRGT_TBL_NM
            ,A.PHYS_MAINT_TRGT_COL_NM    AS PHYS_MAINT_TRGT_COL_NM
            ,A.LOGIC_MAINT_TRGT_COL_NM   AS LOGIC_MAINT_TRGT_COL_NM
            ,A.UNIQ_KEY_FLG              AS UNIQ_KEY_FLG
            ,A.COL_TP_CD                 AS COL_TP_CD
            ,A.ITEM_MAX_LG               AS ITEM_MAX_LG
            ,A.ITEM_DPLY_LG              AS ITEM_DPLY_LG
            ,A.ITEM_SCL_NUM              AS ITEM_SCL_NUM
            ,A.DPLY_CTRL_CD              AS DPLY_CTRL_CD
            ,A.DPLY_SORT_NUM             AS DPLY_SORT_NUM
            ,A.TO_UPPER_FLG              AS TO_UPPER_FLG
            ,A.COMMA_SEPT_FLG            AS COMMA_SEPT_FLG
            ,A.DEF_VAL_TXT               AS DEF_VAL_TXT
            ,A.SRCH_ITEM_FLG             AS SRCH_ITEM_FLG
            ,A.LIKE_SRCH_FLG             AS LIKE_SRCH_FLG
            ,A.ITEM_SORT_NUM             AS ITEM_SORT_NUM
            ,A.SORT_TP_CD                AS SORT_TP_CD
            ,A.PHYS_RELN_TBL_NM          AS PHYS_RELN_TBL_NM
            ,A.PHYS_RELN_COL_CD          AS PHYS_RELN_COL_CD
            ,A.PHYS_RELN_COL_NM          AS PHYS_RELN_COL_NM
            ,A.PHYS_SRC_COL_CD           AS PHYS_SRC_COL_CD
            ,A.ITEM_INAC_FLG             AS ITEM_INAC_FLG
            ,A.MND_FLG                   AS MND_FLG
            ,A.LOGIC_POPUP_COL_NM        AS LOGIC_POPUP_COL_NM
            ,A.PHYS_POPUP_COL_NM         AS PHYS_POPUP_COL_NM
        FROM
            MAINT_TRGT_COL_INFO A
        WHERE
                A.GLBL_CMPY_CD           = #glblCmpyCd#
            AND A.EZCANCELFLAG           = '0'
            AND A.PHYS_MAINT_TRGT_TBL_NM = #tblNm#
        ORDER BY
            DPLY_SORT_NUM

    </statement>
    <statement id="getPullDownData" parameterClass="Map" resultClass="Map">
        SELECT
             A.$colCd$                     AS $colCd$
            ,A.$colCd$ || ':' || A.$colNm$ AS $colNm$
        FROM
            $tblNm$ A
        WHERE
                A.GLBL_CMPY_CD = #glblCmpyCd#
            AND A.EZCANCELFLAG = '0'
        <!-- add start 2016/05/10 CSA Defect#7471 -->
        UNION ALL
        SELECT
             A.SPCL_VAL_CD                 AS $colCd$
            ,A.SPCL_VAL_CD || ':' || A.SPCL_VAL_DESC_TXT AS $colNm$
        FROM
            MAINT_TRGT_COL_SPCL_VAL A
        WHERE
                A.GLBL_CMPY_CD = #glblCmpyCd#
            AND A.PHYS_MAINT_TRGT_TBL_NM = #physMaintTrgtTblNm#
            AND A.PHYS_MAINT_TRGT_COL_NM = #physMaintTrgtColNm#
            AND A.EZCANCELFLAG = '0'
        ORDER BY
            $colCd$
        <!-- add end 2016/05/10 CSA Defect#7471 -->
    </statement>
    <statement id="getSearchInfo" parameterClass="Map" resultClass="Map">
        SELECT
            $searchInfo$
        FROM
            $tblNm$ A
        WHERE
                A.GLBL_CMPY_CD = #glblCmpyCd#
            AND A.EZCANCELFLAG = '0'
            AND ROWNUM &lt;= $searchLimit$
        <isNotNull property="whereInfo">
            $whereInfo$
        </isNotNull>
        <isNotNull property="sortInfo">
        ORDER BY
            $sortInfo$
        </isNotNull>
    </statement>
    <statement id="getRelationInfo" parameterClass="Map" resultClass="Map">
        <isEqual property="hasPhysRelnInfo" compareValue="Y">
        SELECT
             A.$physRelnColCd$ AS $physRelnColCd$
          FROM $physRelnTblNm$ A
         WHERE A.GLBL_CMPY_CD = #glblCmpyCd#
           AND A.$physRelnColCd$ = #targetValue#
           AND A.EZCANCELFLAG = '0'
        <!-- add start 2016/05/10 CSA Defect#7471 -->
        UNION ALL
        </isEqual>
        SELECT
             A.SPCL_VAL_CD AS $physRelnColCd$
        FROM
            MAINT_TRGT_COL_SPCL_VAL A
        WHERE
                A.GLBL_CMPY_CD = #glblCmpyCd#
            AND A.PHYS_MAINT_TRGT_TBL_NM = #physMaintTrgtTblNm#
            AND A.PHYS_MAINT_TRGT_COL_NM = #physMaintTrgtColNm#
            AND A.SPCL_VAL_CD = #targetValue#
            AND A.EZCANCELFLAG = '0'
        <!-- add end 2016/05/10 CSA Defect#7471 -->
    <!-- START 2017/07/12 M.Kidokoro [QC#18659,19534, ADD] -->
    </statement>
        <statement id="getRelationInfoForNumber" parameterClass="Map" resultClass="Map">
        SELECT
             A.$physRelnColCd$ AS $physRelnColCd$
          FROM $physRelnTblNm$ A
         WHERE A.GLBL_CMPY_CD = #glblCmpyCd#
           AND A.$physRelnColCd$ = #targetValue#
           AND A.EZCANCELFLAG = '0'
    </statement>
    <!-- END 2017/07/12 M.Kidokoro [QC#18659,19534, ADD] -->
    <statement id="getRecordByUniqKey" parameterClass="Map" resultClass="BigDecimal">
        SELECT
            1
        FROM
            $tblNm$ A
        WHERE
                A.EZCANCELFLAG = '0'
            AND A.GLBL_CMPY_CD = #glblCmpyCd#
            $whereInfo$
    </statement>

    <!-- 2021/07/02 S21_NA#58926 Add -->
    <statement id="getCondSqlTxt" parameterClass="Map" resultClass="String">
        SELECT
            A.COND_SQL_TXT               AS COND_SQL_TXT 
        FROM
            MAINT_TRGT_TBL_COND A
        WHERE
                A.GLBL_CMPY_CD           = #glblCmpyCd#
            AND A.EZCANCELFLAG           = '0'
            AND A.PHYS_MAINT_TRGT_TBL_NM = #tblNm#
    </statement>
</sqlMap>
