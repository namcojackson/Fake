<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NFCL0740Query">

    <statement id="getArAdjRsnPullDownList" parameterClass="Map" resultClass="Map">
        SELECT
             A.AR_ADJ_RSN_CD
            ,A.AR_ADJ_RSN_NM
        FROM
                AR_ADJ_RSN A
        WHERE
                A.GLBL_CMPY_CD  = #glblCmpyCd#
            AND A.EZCANCELFLAG  = '0'
        ORDER BY
            A.AR_ADJ_RSN_SORT_NUM
    </statement>

    <statement id="getDsAcctNm" parameterClass="Map" resultClass="String">
        SELECT
                STC.DS_ACCT_NM
        FROM
                SELL_TO_CUST STC
        WHERE
                STC.SELL_TO_CUST_CD  = #dsAcctNum#
            AND STC.GLBL_CMPY_CD     = #glblCmpyCd#
            AND STC.EZCANCELFLAG     = '0'
            AND ROWNUM           &lt;= $rowNum$
    </statement>

    <!-- QC7971 INSERT start -->
    <statement id="getArAdjTpPullDownList" parameterClass="Map" resultClass="Map">
        SELECT
             A.AR_ADJ_TP_CD
            ,A.AR_ADJ_TP_DESC_TXT
        FROM
                AR_ADJ_TP A
        WHERE
                A.GLBL_CMPY_CD  = #glblCmpyCd#
            AND A.EZCANCELFLAG  = '0'
            AND A.AR_ADJ_CATG_CD= #arAdjCatgCd_ADJ#
        ORDER BY
            A.AR_ADJ_TP_SORT_NUM
    </statement>
    <!-- QC7971 INSERT end -->
    <!-- START   2023/06/30 S.Fujita [QC#60397,ADD] -->
    <statement id="getHrTtlNm" parameterClass="Map" resultClass="String">
        SELECT
             HTAL.HR_TTL_NM
        FROM
             HR_TTL_APVL_LIMIT HTAL
            ,S21_CSA_APPS.S21_PSN SP
        WHERE
            <!-- START   2023/08/02 S.Fujita [QC#60397,MOD] -->
                HTAL.GLBL_CMPY_CD        = #glblCmpyCd#
            AND HTAL.GLBL_CMPY_CD        = SP.GLBL_CMPY_CD
            AND HTAL.EZCANCELFLAG        = '0'
            AND SP.EZCANCELFLAG          = '0'
            AND HTAL.APVL_LIMIT_ACTV_FLG = 'Y'
            AND HTAL.AR_ADJ_CATG_CD      = #catgCd#
            AND SP.PSN_CD                = #psnCd#
            AND HTAL.HR_TTL_NM           = SP.HR_TTL_NM
            <!-- END   2023/08/02 S.Fujita [QC#60397,MOD] -->
    </statement>

    <statement id="getHrTtlApvlLimitPk" parameterClass="Map" resultClass="BigDecimal">
        SELECT
             HTAL.HR_TTL_APVL_LIMIT_PK
        FROM
             HR_TTL_APVL_LIMIT HTAL
        WHERE
            <!-- START   2023/08/02 S.Fujita [QC#60397,MOD] -->
                HTAL.GLBL_CMPY_CD        = #glblCmpyCd#
            AND HTAL.EZCANCELFLAG        = '0'
            AND HTAL.APVL_LIMIT_ACTV_FLG = 'Y'
            AND HTAL.AR_ADJ_CATG_CD      = #catgCd#
            AND HTAL.HR_TTL_NM           = #hrTtlNm#
            <!-- END   2023/08/02 S.Fujita [QC#60397,MOD] -->
    </statement>

    <!-- END   2023/06/30 S.Fujita [QC#60397,ADD] -->
</sqlMap>