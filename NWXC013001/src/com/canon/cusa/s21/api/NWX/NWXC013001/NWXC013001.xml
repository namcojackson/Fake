<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWXC013001">

    <statement id="getPrcGrpDtlTrgtItem" parameterClass="Map" resultClass="Map">
        SELECT
            B.PRC_GRP_FROM_TXT MDSE_CD
        FROM
            PRC_GRP_DTL B
        WHERE
                B.GLBL_CMPY_CD = #glblCmpyCd#
            AND B.EZCANCELFLAG = '0'
            AND B.PRC_GRP_TRGT_ATTRB_CD = #prcGrpTrgtAttrbCd#
            AND B.EFF_FROM_DT &lt;= #prcBaseDt#
            AND (
                   B.EFF_THRU_DT &gt;= #prcBaseDt#
                OR B.EFF_THRU_DT IS NULL
            )
            AND B.PRC_GRP_PK IN (
                SELECT
                    TO_NUMBER(A.PRC_RULE_COND_FROM_TXT)
                FROM
                    PRC_RULE_TRX_COND A
                WHERE
                        A.GLBL_CMPY_CD = #glblCmpyCd#
                    AND A.EZCANCELFLAG = '0'
                    AND A.PRC_RULE_HDR_PK = #prcRuleHdrPk#
                    AND A.PRC_RULE_ATTRB_CD = #prcRuleAttrbCd#
                    AND A.EFF_FROM_DT &lt;= #prcBaseDt#
                    AND (
                           A.EFF_THRU_DT &gt;= #prcBaseDt#
                        OR A.EFF_THRU_DT IS NULL
                    )
            )
    </statement>
</sqlMap>
