<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NWAL2340Query">

    <statement id="getCntAcct" parameterClass="Map" resultClass="Integer">
        SELECT COUNT(SHIP_TO_CUST_PK)
            FROM SHIP_TO_CUST SC
            WHERE
                    SC.GLBL_CMPY_CD    = #glblCmpyCd#
                AND SC.SELL_TO_CUST_CD = #sellToCustCd#
                AND SC.SHIP_TO_CUST_CD = #shipToCustCd#
                AND SC.EZCANCELFLAG    = '0'
    </statement>

    <!-- Add Start 2017/09/20 QC#21114 -->
    <statement id="getAcctInfoList" parameterClass="Map" resultClass="Map">
        SELECT
              SC.DS_ACCT_NM
            , SC.SELL_TO_CUST_CD
            , SC.SHIP_TO_CUST_CD
            , SC.FIRST_LINE_ADDR
            , SC.SCD_LINE_ADDR
            , SC.THIRD_LINE_ADDR
            , SC.FRTH_LINE_ADDR
            , SC.CTY_ADDR
            , SC.ST_CD
            , SC.POST_CD 
        FROM
              SHIP_TO_CUST SC 
        WHERE
                SC.GLBL_CMPY_CD    = 'ADB' 
            <isNotNull property="sellToCustCd" >
            AND SC.SELL_TO_CUST_CD = #sellToCustCd# 
            </isNotNull>
            <isNotNull property="shipToCustCd" >
            AND SC.SHIP_TO_CUST_CD = #shipToCustCd# 
            </isNotNull>
            AND SC.EZCANCELFLAG    = '0' 
            AND ROWNUM         &lt;=#maxRows#

    </statement>
    <!-- Add End 2017/09/20 QC#21114 -->
</sqlMap>