<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NMAL6050Query">

	<typeAlias alias="NMAL6050CMsg"		type="business.blap.NMAL6050.NMAL6050CMsg"/>
    <typeAlias alias="NMAL6050_ASMsg"   type="business.blap.NMAL6050.NMAL6050_ASMsg"/>

	<resultMap id="result.getNMAL6050"    class="NMAL6050_ASMsg">
		<result property="xxNewRowNum"     column="COLUMN1"       javaType="EZDCStringItem"/>
		<result property="xxDtlCd"         column="COLUMN2"         javaType="EZDCStringItem"/>
		<result property="xxDtlNm"         column="COLUMN3"         javaType="EZDCStringItem"/>
	</resultMap>
	
    <statement id="getNMAL6050" parameterClass="Map" resultMap="result.getNMAL6050">
        SELECT 
              A.ROW_NUM         AS COLUMN1
            , A.$xxTblCdColNm$  AS COLUMN2
            , SUBSTR(A.$xxTblNmColNm$, 1, 70 )  AS COLUMN3
        FROM 
            (SELECT
                   ROW_NUMBER() OVER (ORDER BY W.$xxTblSortColNm$ ) AS ROW_NUM 
                 , W.$xxTblCdColNm$  AS $xxTblCdColNm$
                 , W.$xxTblNmColNm$  AS $xxTblNmColNm$
              FROM
                   $xxTblNm$ W
             WHERE
                   W.GLBL_CMPY_CD  = #globalCmpyCd#
               AND W.EZCANCELFLAG = '0'
            <isNotNull property="cMsg.xxCondCd">
               AND W.$xxTblCdColNm$ LIKE #xxCondCd#
            </isNotNull>
            <isNotNull property="cMsg.xxCondNm">
               AND (UPPER(W.$xxTblNmColNm$) LIKE UPPER(#xxCondNm#)
               OR UPPER(W.$xxTblNmColNm$) LIKE #xxCondNm#)
            </isNotNull>
            ) A
        WHERE 
            A.ROW_NUM &lt;= #rowNum#
        ORDER BY
            A.ROW_NUM
    </statement>


</sqlMap>
