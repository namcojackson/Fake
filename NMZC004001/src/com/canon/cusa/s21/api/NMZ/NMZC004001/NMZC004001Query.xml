<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NMZC004001Query">

    <statement id="getCusaParts" parameterClass="Map" resultClass="Map">
        SELECT
              P.P_PARTS_NUM
            , P.P_SPEC_WGHT_PART
        FROM
            $cusaPartsTbl$ P
        WHERE
                P.EZCANCELFLAG = '0'
            AND P.P_PARTS_NUM  = #partsNum#
            AND ROWNUM = 1
    </statement>
    <statement id="getCusaMdse" parameterClass="Map" resultClass="Map">
        SELECT
              M.MDSE_NM
            , M.MDSE_FML_NM
            , M.COA_PROD_CD
            , M.UPC_CD
            , M.MDSE_TP_CD
            <!-- QC#12451 -->
            , M.FRT_CLS_CD
        FROM
            $cusaMdseTbl$ M
        WHERE
                M.GLBL_CMPY_CD = #cusaGlblCmpyCd#
            AND M.EZCANCELFLAG = '0'
            AND M.MDSE_CD      = #mdseCd#
            AND ROWNUM = 1
    </statement>
    <statement id="getCusaSfty" parameterClass="Map" resultClass="Map">
        SELECT
              S.HAZ_MAT_FLG
            , S.MADE_IN_CTRY_CD
            , S.ASM_IN_CTRY_CD
            , S.HAZ_MAT_CD
        FROM
            $cusaSftyTbl$ S
        WHERE
                S.GLBL_CMPY_CD = #cusaGlblCmpyCd#
            AND S.EZCANCELFLAG = '0'
            AND S.MDSE_CD      = #mdseCd#
            AND ROWNUM = 1
    </statement>
    <statement id="getCusaSetList" parameterClass="Map" resultClass="Map">
        SELECT
            CV.PRNT_MDSE_CD
          , CV.MDSE_CMPSN_TP_CD
          , CV.CHILD_MDSE_CD
          , CV.CHILD_ORD_TAKE_MDSE_CD
          , CV.CHILD_MDSE_QTY
          , CV.MAIN_CMPSN_FLG
        FROM
            $cusaMdse$    MV
          , $cusaCmpsnTbl$   CV
        WHERE
            MV.GLBL_CMPY_CD = #cusaGlblCmpyCd#
        AND MV.EZCANCELFLAG = '0'
        AND MV.MDSE_CD      = #mdseCd#
        AND MV.MDSE_TP_CD   = #mdseTpCd#
        AND MV.GLBL_CMPY_CD = CV.GLBL_CMPY_CD
        AND CV.EZCANCELFLAG = '0'
        AND MV.MDSE_CD      = CV.PRNT_MDSE_CD
    </statement>
    <statement id="getCusaCmpsnList" parameterClass="Map" resultClass="Map">
        SELECT
              C.PRNT_MDSE_CD
            , C.MDSE_CMPSN_TP_CD
            , C.CHILD_MDSE_CD
            , C.CHILD_ORD_TAKE_MDSE_CD
            , C.CHILD_MDSE_QTY
            , C.MAIN_CMPSN_FLG
        FROM
            $cusaCmpsnTbl$ C
        WHERE
                C.GLBL_CMPY_CD = #cusaGlblCmpyCd#
            AND C.EZCANCELFLAG = '0'
            AND C.PRNT_MDSE_CD = #mdseCd#
            AND ( C.CHILD_MDSE_CD IS NOT NULL OR C.CHILD_ORD_TAKE_MDSE_CD IS NOT NULL)
            AND ROWNUM     &lt;= #rowNum#
    </statement>
    <statement id="existCusaCmpsn" parameterClass="Map" resultClass="Map">
        SELECT
              C.PRNT_MDSE_CD
        FROM
            $cusaCmpsnTbl$ C
        WHERE
                C.GLBL_CMPY_CD = #cusaGlblCmpyCd#
            AND C.EZCANCELFLAG = '0'
            AND C.PRNT_MDSE_CD = #mdseCd#
            AND C.MDSE_CMPSN_TP_CD = #mdseCmpsnTpCd#
        <isNotNull property="childMdseCd">
            AND C.CHILD_MDSE_CD = #childMdseCd#
        </isNotNull>
        <isNotNull property="childOrdTakeMdseCd">
            AND C.CHILD_ORD_TAKE_MDSE_CD = #childOrdTakeMdseCd#
        </isNotNull>
            AND C.CHILD_MDSE_QTY = #childMdseQty#
            <!-- AND C.MAIN_CMPSN_FLG = #mainCmpsnFlg#  2017/01/27 S21_NA#17260 Del-->
            AND ROWNUM = 1
    </statement>
    <statement id="getCusaStore" parameterClass="Map" resultClass="Map">
        SELECT
              S.IN_EACH_QTY
            , S.IN_INCH_LG
            , S.IN_INCH_WDT
            , S.IN_INCH_HGT
            , S.IN_POUND_WT
        FROM
            $cusaStoreTbl$ S
        WHERE
                S.GLBL_CMPY_CD = #cusaGlblCmpyCd#
            AND S.EZCANCELFLAG = '0'
            AND S.MDSE_CD      = #mdseCd#
            AND S.PKG_UOM_CD   = #pkgUomCd#
            AND ROWNUM = 1
    </statement>
    <statement id="getCusaSerNumList" parameterClass="Map" resultClass="Map">
        SELECT
              S.MDSE_CD
            , S.FROM_SER_NUM
            , S.THRU_SER_NUM
        FROM
            $cusaSerNumTbl$ S
        WHERE
                S.GLBL_CMPY_CD = #cusaGlblCmpyCd#
            AND S.EZCANCELFLAG = '0'
            AND S.MDSE_CD      = #mdseCd#
            AND ROWNUM     &lt;= #rowNum#
    </statement>
    <statement id="getAmerMstrCmpy" parameterClass="Map" resultClass="Map">
        SELECT
              M.AMER_MDSE_CD
        FROM
              AMER_MSTR M
            , AMER_CMPY C
        WHERE
                M.GLBL_CMPY_CD = #glblCmpyCd#
            AND M.EZCANCELFLAG = '0'
            AND (TRIM(M.AMER_MDSE_CD) = #mdseCd# OR SUBSTR(M.AMER_MDSE_CD,1,8) = #mdseCd#)
            AND M.GLBL_CMPY_CD = C.GLBL_CMPY_CD
            AND C.EZCANCELFLAG = '0'
            AND M.AMER_MDSE_CD = C.AMER_MDSE_CD
            AND ROWNUM = 1
    </statement>
    <statement id="getMdseStru" parameterClass="Map" resultClass="Map">
        SELECT
              S.PROD_CTRL_CD
        FROM
              MDSE_STRU S
        WHERE
                S.GLBL_CMPY_CD = #glblCmpyCd#
            AND S.EZCANCELFLAG = '0'
        <isNotNull property="zerothProdCtrlCd">
            AND S.ZEROTH_PROD_CTRL_CD = #zerothProdCtrlCd#
        </isNotNull>
        <isNull property="zerothProdCtrlCd">
            AND S.ZEROTH_PROD_CTRL_CD IS NULL
        </isNull>
        <isNotNull property="firstProdCtrlCd">
            AND S.FIRST_PROD_CTRL_CD = #firstProdCtrlCd#
        </isNotNull>
        <isNull property="firstProdCtrlCd">
            AND S.FIRST_PROD_CTRL_CD IS NULL
        </isNull>
        <isNotNull property="scdProdCtrlCd">
            AND S.SCD_PROD_CTRL_CD = #scdProdCtrlCd#
        </isNotNull>
        <isNull property="scdProdCtrlCd">
            AND S.SCD_PROD_CTRL_CD IS NULL
        </isNull>
        <isNotNull property="thirdProdCtrlCd">
            AND S.THIRD_PROD_CTRL_CD = #thirdProdCtrlCd#
        </isNotNull>
        <isNull property="thirdProdCtrlCd">
            AND S.THIRD_PROD_CTRL_CD IS NULL
        </isNull>
        <isNotNull property="frthProdCtrlCd">
            AND S.FRTH_PROD_CTRL_CD = #frthProdCtrlCd#
        </isNotNull>
        <isNull property="frthProdCtrlCd">
            AND S.FRTH_PROD_CTRL_CD IS NULL
        </isNull>
            AND ROWNUM = 1
    </statement>
    <statement id="isDupAsl" parameterClass="Map" resultClass="Map">
        SELECT
            H.ASL_HDR_PK
        FROM
              ASL_HDR H
            , ASL_DTL D
        <isNotNull property="bigDeal">
            , ASL_QLFY_RELN Q1
            , ASL_QLFY_RELN Q2
        </isNotNull>
        WHERE 
                H.GLBL_CMPY_CD = #glblCmpyCd#
            AND H.EZCANCELFLAG = '0'
            AND H.PRNT_VND_CD  = #prntVndCd#
            AND H.ASL_HDR_PK  &lt;&gt; #aslHdrPk#
            AND H.GLBL_CMPY_CD = D.GLBL_CMPY_CD
            AND D.EZCANCELFLAG = '0'
            AND H.ASL_HDR_PK   = D.ASL_HDR_PK
            AND D.VND_CD       = #vndCd#
            AND D.MDSE_CD      = #mdseCd#
            AND ( <!-- MOD Start QC#9073 2016/05/27 -->
                   #effFromDt# BETWEEN D.EFF_FROM_DT AND NVL(D.EFF_THRU_DT, #maxDate#)
        <isNotNull property="effThruDt">
                OR #effThruDt# BETWEEN D.EFF_FROM_DT AND NVL(D.EFF_THRU_DT, #maxDate#)
                OR D.EFF_FROM_DT BETWEEN #effFromDt# AND #effThruDt#
        </isNotNull> <!-- MOD Start QC#9073 2016/05/27 -->
                )
        <isNotNull property="bigDeal">
            AND H.GLBL_CMPY_CD  = Q1.GLBL_CMPY_CD
            AND Q1.EZCANCELFLAG = '0'
            AND Q1.ASL_HDR_PK   = #aslHdrPk#
            AND H.GLBL_CMPY_CD     = Q2.GLBL_CMPY_CD
            AND Q2.EZCANCELFLAG    = '0'
            AND H.ASL_HDR_PK       = Q2.ASL_HDR_PK
            AND Q2.ASL_QLFY_TP_CD  = #aslQlfyTpCd#
            AND Q1.ASL_QLFY_REF_CD = Q2.ASL_QLFY_REF_CD
        </isNotNull>
        <isNull property="bigDeal">
            AND NOT EXISTS
                (
                    SELECT 1 FROM ASL_QLFY_RELN Q
                    WHERE
                            H.GLBL_CMPY_CD   = Q.GLBL_CMPY_CD
                        AND Q.EZCANCELFLAG   = '0'
                        AND H.ASL_HDR_PK     = Q.ASL_HDR_PK
                        AND Q.ASL_QLFY_TP_CD = #aslQlfyTpCd#
                )
        </isNull>
            AND ROWNUM = 1
    </statement>
    <statement id="existPrimVnd" parameterClass="Map" resultClass="Map">
        SELECT
            PV.PRNT_VND_PK
        FROM
              PRNT_VND PV
            , VND V
        WHERE
                PV.GLBL_CMPY_CD = #glblCmpyCd#
            AND PV.EZCANCELFLAG = '0'
            AND PV.PRNT_VND_CD  = #prntVndCd#
            AND PV.GLBL_CMPY_CD = V.GLBL_CMPY_CD
            AND V.EZCANCELFLAG  = '0'
            AND V.VND_CD        = #vndCd#
            AND ( V.RGTN_STS_CD = #rgtnStsCd10# OR V.RGTN_STS_CD = #rgtnStsCd20# ) 
            AND PV.PRNT_VND_PK  = V.PRNT_VND_PK
            AND ROWNUM = 1
    </statement>
    <statement id="existCmpsnHierarchy10" parameterClass="Map" resultClass="Map">
        SELECT
            C1.PRNT_MDSE_CD
        FROM
              CMPSN C1
            , CMPSN C2
        WHERE
                C1.GLBL_CMPY_CD = #glblCmpyCd#
            AND C1.EZCANCELFLAG = '0'
            AND C1.PRNT_MDSE_CD = #prntMdseCd#
            AND C1.GLBL_CMPY_CD = C2.GLBL_CMPY_CD
            AND C2.EZCANCELFLAG = '0'
            AND C1.CHILD_MDSE_CD = C2.PRNT_MDSE_CD
            AND ROWNUM = 1
    </statement>
    <statement id="existCmpsnHierarchy8to10" parameterClass="Map" resultClass="Map">
        SELECT
            C1.PRNT_MDSE_CD
        FROM
              ORD_TAKE_MDSE O
            , CMPSN C1
            , CMPSN C2
        WHERE
                O.GLBL_CMPY_CD     = #glblCmpyCd#
            AND O.EZCANCELFLAG     = '0'
            AND O.ORD_TAKE_MDSE_CD = #ordTakeMdseCd#
            AND O.GLBL_CMPY_CD  = C1.GLBL_CMPY_CD
            AND C1.EZCANCELFLAG = '0'
            AND O.MDSE_CD       = C1.PRNT_MDSE_CD
            AND C1.GLBL_CMPY_CD = C2.GLBL_CMPY_CD
            AND C2.EZCANCELFLAG = '0'
            AND C1.CHILD_MDSE_CD = C2.PRNT_MDSE_CD
            AND ROWNUM = 1
    </statement>
    <statement id="existCmpsnHierarchy10to8" parameterClass="Map" resultClass="Map">
        SELECT
            C1.PRNT_MDSE_CD
        FROM
              CMPSN C1
            , ORD_TAKE_MDSE O
            , CMPSN C2
        WHERE
                C1.GLBL_CMPY_CD = #glblCmpyCd#
            AND C1.EZCANCELFLAG = '0'
            AND C1.PRNT_MDSE_CD = #prntMdseCd#
            AND C1.GLBL_CMPY_CD           = O.GLBL_CMPY_CD
            AND O.EZCANCELFLAG            = '0'
            AND C1.CHILD_ORD_TAKE_MDSE_CD = O.ORD_TAKE_MDSE_CD
            AND O.GLBL_CMPY_CD  = C2.GLBL_CMPY_CD
            AND C2.EZCANCELFLAG = '0'
            AND O.MDSE_CD       = C2.PRNT_MDSE_CD
            AND ROWNUM = 1
    </statement>
    <statement id="existCmpsnHierarchy8" parameterClass="Map" resultClass="Map">
        SELECT
            C1.PRNT_MDSE_CD
        FROM
              ORD_TAKE_MDSE O1
            , CMPSN C1
            , ORD_TAKE_MDSE O2
            , CMPSN C2
        WHERE
                O1.GLBL_CMPY_CD     = #glblCmpyCd#
            AND O1.EZCANCELFLAG     = '0'
            AND O1.ORD_TAKE_MDSE_CD = #ordTakeMdseCd#
            AND O1.GLBL_CMPY_CD = C1.GLBL_CMPY_CD
            AND C1.EZCANCELFLAG = '0'
            AND O1.MDSE_CD      = C1.PRNT_MDSE_CD
            AND C1.GLBL_CMPY_CD           = O2.GLBL_CMPY_CD
            AND O2.EZCANCELFLAG           = '0'
            AND C1.CHILD_ORD_TAKE_MDSE_CD = O2.ORD_TAKE_MDSE_CD
            AND C1.GLBL_CMPY_CD = C2.GLBL_CMPY_CD
            AND C2.EZCANCELFLAG = '0'
            AND O2.MDSE_CD      = C2.PRNT_MDSE_CD
            AND ROWNUM = 1
    </statement>
    <statement id="existPrcCatg" parameterClass="Map" resultClass="Map">
        SELECT 
            P.PRC_CATG_CD
        FROM 
            PRC_CATG P
        WHERE
                P.GLBL_CMPY_CD = #glblCmpyCd#
            AND P.EZCANCELFLAG = '0'
            AND P.PRC_CATG_CD = #prcCatgCd#
            AND P.ACTV_FLG = 'Y'
            AND P.EFF_FROM_DT &lt;= #slsDt#
            AND NVL(P.EFF_THRU_DT, '99991231') &gt;= #slsDt#
            AND P.PRC_LIST_TP_CD = #prcListTpCd#
            AND ROWNUM = 1
    </statement>
    <statement id="getPrcListStruTpCd" parameterClass="Map" resultClass="Map">
        SELECT 
            L.PRC_LIST_STRU_TP_CD
        FROM 
              PRC_CATG P
            , PRC_LIST_TP L
        WHERE
                P.GLBL_CMPY_CD = #glblCmpyCd#
            AND P.EZCANCELFLAG = '0'
            AND P.PRC_CATG_CD = #prcCatgCd#
            AND P.ACTV_FLG = 'Y'
            AND P.EFF_FROM_DT &lt;= #slsDt#
            AND NVL(P.EFF_THRU_DT, '99991231') &gt;= #slsDt#
            AND P.GLBL_CMPY_CD = L.GLBL_CMPY_CD
            AND L.EZCANCELFLAG = '0'
            AND P.PRC_LIST_TP_CD = L.PRC_LIST_TP_CD
            AND L.FL_LIST_PRC_FLG = 'Y'
            AND L.PRC_LIST_STRU_TP_CD = #prcListStruTpCd#
            AND ROWNUM = 1
    </statement>
    <statement id="getMdlId" parameterClass="Map" resultClass="Map">
        SELECT
            M.MDL_ID
        FROM
            MDL_NM N
            ,DS_MDL M
        WHERE
                N.T_GLBL_CMPY_CD = #glblCmpyCd#
            AND N.EZCANCELFLAG = '0'
            AND N.T_MDL_NM = #mdlNm#
            AND N.T_GLBL_CMPY_CD = M.GLBL_CMPY_CD
            AND M.EZCANCELFLAG = '0'
            AND N.T_MDL_ID = M.MDL_ID
    </statement>
    <statement id="getPrcListEquip" parameterClass="Map" resultClass="Map">
        SELECT
        <isNotNull property = "current">
              E.PRC_LIST_EQUIP_PRC_AMT
            , E.PRC_LIST_EQUIP_PK
            , E.EFF_THRU_DT
        </isNotNull>
        <isNull property = "current">
            MIN(E.EFF_FROM_DT) AS EFF_THRU_DT
        </isNull>
        FROM
            PRC_LIST_EQUIP E
        WHERE
                E.GLBL_CMPY_CD     = #glblCmpyCd#
            AND E.EZCANCELFLAG     = '0'
            AND E.PRC_CATG_CD      = #prcCatgCd#
            AND E.PRC_QLFY_TP_CD   = #prcQlfyTpCd#
            AND E.PRC_QLFY_VAL_TXT = #prcQltyValTxt#
            AND E.DEL_FLG          = 'N'
        <isNotNull property = "current">
            AND NVL(E.EFF_FROM_DT, '00000101') &lt;= #slsDt#
            AND NVL(E.EFF_THRU_DT, '99991231') &gt;= #slsDt#
        </isNotNull>
        <isNull property = "current">
            AND NVL(E.EFF_FROM_DT, '00000101') &gt; #slsDt#
        </isNull>
            AND ROWNUM = 1
    </statement>
    <statement id ="getItemStatusList" parameterClass="Map"  resultClass="Map">
        SELECT 
            MIS.MDSE_ITEM_STS_CD 
           ,MIS.MDSE_ITEM_STS_NM
        FROM 
            MDSE_ITEM_STS MIS
        WHERE 
            MIS.EZCANCELFLAG = '0'
        AND MIS.GLBL_CMPY_CD = #glblCmpyCd#
        AND MIS.DEF_FLG = #defFlg#
        ORDER BY
            MIS.MDSE_ITEM_STS_SORT_NUM
           ,MIS.MDSE_ITEM_STS_CD
    </statement>
    <statement id ="getSlsMatGrp" parameterClass="Map"  resultClass="Map">
        SELECT 
            SMG.SLS_MAT_GRP_CD
           ,SMG.SLS_MAT_GRP_DESC_TXT
        FROM 
            SLS_MAT_GRP SMG
        WHERE 
            SMG.EZCANCELFLAG = '0'
        AND SMG.GLBL_CMPY_CD = #glblCmpyCd#
        AND SMG.SLS_MAT_GRP_CD = #slsMatGrpCd#
        AND SMG.SLS_MAT_GRP_SQ_NUM = #slsMatGrpSqNum#
    </statement>
    <statement id ="getDsCmsnGrp" parameterClass="Map"  resultClass="Map">
        SELECT 
            DCG.DS_CMSN_GRP_CD
           ,DCG.DS_CMSN_GRP_DESC_TXT
        FROM 
            DS_CMSN_GRP DCG
        WHERE 
            DCG.EZCANCELFLAG = '0'
        AND DCG.GLBL_CMPY_CD = #glblCmpyCd#
        AND DCG.DS_CMSN_GRP_CD = #dsCmsnGrpCd#
    </statement>
    <!-- QC#4203 -->
    <statement id ="getRtrnCtrlTpVndReln" parameterClass="Map"  resultClass="Map">
        SELECT 
            RCTVR.RTRN_CTRL_TP_VND_RELN_PK
        FROM 
            RTRN_CTRL_TP_VND_RELN RCTVR
           ,RTL_WH RW
        WHERE 
            RCTVR.EZCANCELFLAG = '0'
        AND RCTVR.GLBL_CMPY_CD = #glblCmpyCd#
        AND RCTVR.RTRN_CTRL_TP_CD = #rtrnCtrlTpCd#
        AND RCTVR.GLBL_CMPY_CD = RW.GLBL_CMPY_CD(+)
        AND RCTVR.EZCANCELFLAG = RW.EZCANCELFLAG(+)
        AND RCTVR.RTRN_WH_CD = RW.RTL_WH_CD(+)
        AND RW.EFF_FROM_DT(+) &lt;= #slsDt#
        AND NVL(RW.EFF_THRU_DT(+), '99991231') &gt;= #slsDt#
        <isNotNull property = "rtrnToVndCd">
        AND RCTVR.VND_CD = #rtrnToVndCd#
        </isNotNull>
        <isNull property = "rtrnToVndCd">
        AND RCTVR.VND_CD IS NULL
        </isNull>
        <isNotNull property = "rtrnWhCd">
        AND RCTVR.RTRN_WH_CD = #rtrnWhCd#
        </isNotNull>
        <isNull property = "rtrnWhCd">
        AND RCTVR.RTRN_WH_CD IS NULL
        </isNull>
    </statement>
    <statement id ="getPoVndV" parameterClass="Map"  resultClass="Map">
        SELECT 
            PVV.VND_CD
        FROM 
            PO_VND_V PVV
        WHERE 
            PVV.EZCANCELFLAG = '0'
        AND PVV.GLBL_CMPY_CD = #glblCmpyCd#
        <isNotNull property = "rtrnToVndCd">
        AND PVV.VND_CD = #rtrnToVndCd#
        </isNotNull>
        <isNull property = "rtrnToVndCd">
        AND PVV.VND_CD IS NULL
        </isNull>
        <isNotNull property = "rtrnToPrntVndCd">
        AND PVV.PRNT_VND_CD = #rtrnToPrntVndCd#
        </isNotNull>
        <isNull property = "rtrnToPrntVndCd">
        AND PVV.PRNT_VND_CD IS NULL
        </isNull>
    </statement>
    <statement id ="getMdseTpValSet" parameterClass="Map"  resultClass="Map">
        SELECT 
            MTVS.MDSE_TP_VAL_SET_PK
        FROM 
            MDSE_TP_VAL_SET MTVS
        WHERE 
            MTVS.EZCANCELFLAG = '0'
        AND MTVS.GLBL_CMPY_CD = #glblCmpyCd#
        AND MTVS.MDSE_TP_CTX_TP_CD = #mdseTpCtxTpCd#
        AND MTVS.FIRST_BIZ_CTX_ATTRB_TXT = #mdseItemTpCd#
        AND MTVS.COA_MDSE_TP_CD = #coaMdseTpCd#
    </statement>
    <!-- QC#10449 -->
    <statement id ="getRtlWh" parameterClass="Map"  resultClass="Map">
        SELECT
             RW.RTL_WH_CD
            ,RW.RTL_WH_NM
        FROM
            RTL_WH RW
        WHERE
            RW.EZCANCELFLAG = '0'
            AND RW.GLBL_CMPY_CD = #glblCmpyCd#
            AND RW.RTL_WH_CD = #rtlWhCd#
            AND RW.EFF_FROM_DT &lt;= #slsDt#
            AND NVL(RW.EFF_THRU_DT, '99991231') &gt;= #slsDt#
    </statement>
    <statement id ="getRtlWhSubWh" parameterClass="Map"  resultClass="Map">
        SELECT 
            RS.RTL_SWH_CD 
           ,RS.RTL_SWH_NM
        FROM 
            RTL_SWH RS 
        WHERE 
            RS.EZCANCELFLAG = '0' 
        AND RS.GLBL_CMPY_CD = #glblCmpyCd#
        AND RS.RTL_WH_CD = #rtlWhCd#
        AND RS.RTL_SWH_CD = #rtlSwhCd#
        AND RS.EFF_FROM_DT &lt;= #slsDt#
        AND NVL(RS.EFF_THRU_DT, '99991231') &gt;= #slsDt#
    </statement>
    <!-- QC#9823, QC#10129 -->
    <statement id="getCmpsn" parameterClass="Map" resultClass="Map">
        SELECT 
              C.CMPSN_PK
        FROM
              CMPSN C
        WHERE
                C.GLBL_CMPY_CD = #glblCmpyCd#
            AND C.EZCANCELFLAG = '0'
            AND C.PRNT_MDSE_CD = #mdseCd#
    </statement>
    <!-- QC#16628 -->
    <statement id="getPkgUomAndPkgUomClsReln" parameterClass="Map" resultClass="Map">
        SELECT 
            PU.PKG_UOM_CD
        FROM 
            PKG_UOM PU
           ,PKG_UOM_CLS PUC
        WHERE
            PU.EZCANCELFLAG = '0'
        AND PU.GLBL_CMPY_CD = #glblCmpyCd#
        AND PU.GLBL_CMPY_CD = PUC.GLBL_CMPY_CD
        AND PU.PKG_UOM_CLS_CD = PUC.PKG_UOM_CLS_CD
        AND PUC.EZCANCELFLAG = '0'
        AND PU.PKG_UOM_CLS_CD = #pkgUomClsCd#
        AND CASE WHEN PU.PKG_UOM_CD = PUC.BASE_PKG_UOM_CD THEN
                'EA'
            ELSE
                PU.PKG_UOM_CD
            END = #pkgUomCd#
    </statement>

    <statement id="getMrpDefItemPln" parameterClass="Map" resultClass="Map">
        SELECT 
             MDIP.MRP_PLN_NM
            ,MDIP.RTL_WH_CD
            ,RW.RTL_WH_CATG_CD
        FROM 
             MRP_DEF_ITEM_PLN MDIP
            ,RTL_WH RW
        WHERE
            MDIP.GLBL_CMPY_CD                   = #glblCmpyCd#
        AND MDIP.COA_PROJ_CD                    = #coaProjCd#
        AND (MDIP.LINE_BIZ_TP_CD                = #lineBizTpCd# OR MDIP.LINE_BIZ_TP_CD = 'ALL')
        AND MDIP.FIRST_PROD_CTRL_CD             = #firstProdCtrlCd#
        AND MDIP.GLBL_CMPY_CD                   = RW.GLBL_CMPY_CD
        AND MDIP.RTL_WH_CD                      = RW.RTL_WH_CD
        AND RW.EFF_FROM_DT                  &lt;= #slsDt#
        AND NVL(RW.EFF_THRU_DT, '99991231') &gt;= #slsDt#
        AND MDIP.EZCANCELFLAG                   = '0'
        AND RW.EZCANCELFLAG                     = '0'
    </statement>

    <statement id="getMrpInfoPk" parameterClass="Map" resultClass="BigDecimal">
        SELECT 
             MI.MRP_INFO_PK
        FROM 
             MRP_INFO MI
        WHERE
            MI.GLBL_CMPY_CD = #glblCmpyCd#
        AND MI.MRP_PLN_NM   = #mrpPlnNm#
        AND MI.EZCANCELFLAG = '0'
        AND ROWNUM          = 1
    </statement>

    <statement id="getSupplierName" parameterClass="Map" resultClass="String">
        SELECT
            PV.PRNT_VND_NM
        FROM
            PRNT_VND PV
        WHERE 1=1
        AND PV.GLBL_CMPY_CD = #glblCmpyCd#
        AND PV.PRNT_VND_CD  = #prntVndCd#
        AND PV.EZCANCELFLAG = '0'
    </statement>

    <!-- 2023/04/07 QC#61371 START -->
    <statement id="getSupplierItemCodeMaxLength" parameterClass="Map" resultMap="String">
        SELECT
            DCC.DS_COND_CONST_VAL_TXT_02 AS MAX_LENGTH
        FROM
            DS_COND_CONST DCC
        WHERE
                DCC.GLBL_CMPY_CD                = #glblCmpyCd#
            AND DCC.DS_COND_CONST_GRP_ID        = #srchOptAplId#
            AND DCC.DS_COND_CONST_VAL_TXT_01    = #vndCd#
            AND DCC.EZCANCELFLAG                = '0'
    </statement>
    <!-- 2023/04/07 QC#61371 END -->
</sqlMap>