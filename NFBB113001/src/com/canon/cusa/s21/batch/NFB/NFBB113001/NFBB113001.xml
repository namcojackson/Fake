<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NFBB113001">

    <statement id="SELECT_CM_MAINT_INV" parameterClass="Map" resultClass="Map">
        SELECT
            CMI.AP_VND_CD
        ,   SUBSTR(PV.DPLY_VND_NM,1,40) AS PRNT_VND_NM
        ,   CMI.AP_INV_NUM
        ,   NVL(CMI.AP_INV_AMT,0) AP_INV_AMT
        ,   NVL(CMI.AP_ADJ_AMT,0) AP_ADJ_AMT
        ,   CMI.EZINUSERID
        FROM
            CM_MAINT_INV     CMI
        ,   PO_VND_V         PV
        WHERE
            CMI.GLBL_CMPY_CD        = #glblCmpyCd#
        AND CMI.AP_DS_WF_STS_CD     = #apDsWfStsCd#
        AND CMI.AP_MAINT_INV_STS_CD = #apMaintInvStsCd#
        AND CMI.EZCANCELFLAG        = '0'
        AND CMI.GLBL_CMPY_CD        = PV.GLBL_CMPY_CD(+)
        AND CMI.AP_VND_CD           = PV.VND_CD(+)
        AND PV.EZCANCELFLAG(+)      = '0'
        ORDER BY
            CMI.AP_INV_NUM
        ,   CMI.AP_VND_CD
    </statement>

</sqlMap>
