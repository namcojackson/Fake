<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NSBB088001">

    <!-- #################### Type Alias #################### -->

    <!-- #################### Statement #################### -->
    <statement id="getFieldRqst" parameterClass="Map" resultClass="Map">
       SELECT
            CFR.CLICK_FLD_RQST_PK
           ,CFR.SER_NUM
           ,CFR.SVC_CMNT_TXT
           ,CFR.LOC_NM
           ,CFR.ADDL_LOC_NM
           ,CFR.FIRST_LINE_ADDR
           ,CFR.SCD_LINE_ADDR
           ,CFR.THIRD_LINE_ADDR
           ,CFR.FRTH_LINE_ADDR
           ,CFR.CTY_ADDR
           ,CFR.ST_CD
           ,CFR.POST_CD
           ,CFR.CTRY_CD
           ,CFR.SVC_TASK_NUM
           ,CFR.CLICK_FLD_RQST_STS_NM
           ,CFR.CLICK_KEY_TXT
<!--  START 2016/11/17 K.Ochiai [QC#16024, ADD] -->
           ,FSRV.TECH_CD
<!--  END 2016/11/17 K.Ochiai [QC#16024, ADD] -->
        FROM
            CLICK_FLD_RQST CFR
<!--  START 2016/11/17 K.Ochiai [QC#16024, ADD] -->
            ,FSR_VISIT     FSRV
<!--  END 2016/11/17 K.Ochiai [QC#16024, ADD] -->
        WHERE
            CFR.GLBL_CMPY_CD = #glblCmpyCd#
        AND CFR.PROC_STS_CD  IN (#inCompleted#, #error#)
        AND CFR.EZCANCELFLAG = '0'
<!--  START 2016/11/17 K.Ochiai [QC#16024, ADD] -->
<!--  START 2017/02/23 K.Kojima [QC#16301, ADD] -->
<!--         AND CFR.SVC_TASK_NUM    = FSRV.SVC_TASK_NUM -->
<!--         AND CFR.GLBL_CMPY_CD    = FSRV.GLBL_CMPY_CD -->
<!--         AND CFR.EZCANCELFLAG    = FSRV.EZCANCELFLAG -->
        AND CFR.SVC_TASK_NUM    = FSRV.SVC_TASK_NUM(+)
        AND CFR.GLBL_CMPY_CD    = FSRV.GLBL_CMPY_CD(+)
        AND CFR.EZCANCELFLAG    = FSRV.EZCANCELFLAG(+)
<!--  END 2017/02/23 K.Kojima [QC#16301, ADD] -->
<!--  END 2016/11/17 K.Ochiai [QC#16024, ADD] -->
        ORDER BY
            CFR.EZINTIME ASC
    </statement>
</sqlMap>
