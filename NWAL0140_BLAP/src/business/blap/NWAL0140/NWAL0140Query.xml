<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NWAL0140Query">

  <statement id="getAddrByPost" parameterClass="Map" resultClass="Map">
    SELECT 
           DISTINCT
           P.CTY_ADDR
         , P.ST_CD
         , P.POST_CD
         , C.CNTY_NM
      FROM 
           POST P
         , CNTY_POST_RELN R
         , CNTY C
     WHERE 
           P.EZCANCELFLAG = '0'
       AND P.GLBL_CMPY_CD = #glblCmpyCd#
	   AND P.POST_CD = #postCd#
	   AND R.EZCANCELFLAG(+) = '0'
	   AND R.GLBL_CMPY_CD(+) = P.GLBL_CMPY_CD
	   AND R.POST_PK(+) = P.POST_PK
	   <!-- Mod Start 2016/10/24 M.Ohno S21_NA#15317 -->
	   AND C.EZCANCELFLAG = '0'
	   AND C.GLBL_CMPY_CD = R.GLBL_CMPY_CD
	   AND C.CNTY_PK = R.CNTY_PK 
	   <!-- Mod End   2016/10/24 M.Ohno S21_NA#15317 -->
     ORDER BY
           P.CTY_ADDR
         , P.ST_CD
         , P.POST_CD
         , C.CNTY_NM
  </statement>

</sqlMap>
