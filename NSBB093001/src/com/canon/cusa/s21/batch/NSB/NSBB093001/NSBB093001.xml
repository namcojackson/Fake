<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NSBB093001">
    <statement id="getSvcTaskInfo" parameterClass="Map" resultClass="Map">
        SELECT
             STK.SVC_TASK_NUM         SVC_TASK_NUM
            ,STK.SVC_TASK_STS_CD      SVC_TASK_STS_CD
            ,STK.ERL_START_TS         ERL_START_TS
            ,STK.LATE_START_TS        LATE_START_TS
            ,FSR.FSR_NUM              FSR_NUM
            ,FSR.SVC_CALL_INCDT_DT    SVC_CALL_INCDT_DT
            ,FSR.SVC_CALL_INCDT_TM    SVC_CALL_INCDT_TM
            ,FSR.SVC_MACH_MSTR_PK     SVC_MACH_MSTR_PK
            ,STK.FIRST_PROD_CTRL_CD   FIRST_PROD_CTRL_CD
        FROM
             SVC_TASK   STK
            ,FSR        FSR
        WHERE
                STK.GLBL_CMPY_CD    = #glblCmpyCd#
            AND STK.SVC_TASK_NUM    = #svcTaskNum#
            AND STK.EZCANCELFLAG    = '0'
            AND STK.FSR_NUM         = FSR.FSR_NUM
            AND STK.GLBL_CMPY_CD    = FSR.GLBL_CMPY_CD
            AND FSR.EZCANCELFLAG    = '0'
    </statement>
    <statement id="getCitsPlnStartInfo" parameterClass="Map" resultClass="Map">
        SELECT
             CPS.SVC_TASK_PLN_CD               SVC_TASK_PLN_CD
            ,CPS.SVC_TASK_PLN_TM               SVC_TASK_PLN_TM
            ,CPS.SVC_TASK_RCV_CD               SVC_TASK_RCV_CD
            ,CPS.SVC_TASK_RCV_TM               SVC_TASK_RCV_TM
            ,CPS.SVC_CALL_INCDT_CD             SVC_CALL_INCDT_CD
            ,CPS.SVC_CALL_INCDT_TM             SVC_CALL_INCDT_TM
            ,CPS.SVC_TASK_RPT_CD               SVC_TASK_RPT_CD
            ,CPS.SVC_TASK_RPT_TM               SVC_TASK_RPT_TM
        FROM
             CITS_PLN_START   CPS
        WHERE
                CPS.GLBL_CMPY_CD             = #glblCmpyCd#
            AND CPS.SVC_TASK_RCV_FROM_TM &lt;= #svcTaskRsvTm#
            AND CPS.SVC_TASK_RCV_TO_TM   &gt;= #svcTaskRsvTm#
            AND CPS.EZCANCELFLAG             = '0'
      <isNotNull property="mon">
            AND CPS.SVC_TASK_RCV_MON_FLG     = 'Y'
      </isNotNull>
      <isNotNull property="tue">
            AND CPS.SVC_TASK_RCV_TUE_FLG     = 'Y'
      </isNotNull>
      <isNotNull property="wed">
            AND CPS.SVC_TASK_RCV_WED_FLG     = 'Y'
      </isNotNull>
      <isNotNull property="thu">
            AND CPS.SVC_TASK_RCV_THU_FLG     = 'Y'
      </isNotNull>
      <isNotNull property="fri">
            AND CPS.SVC_TASK_RCV_FRI_FLG     = 'Y'
      </isNotNull>
      <isNotNull property="sat">
            AND CPS.SVC_TASK_RCV_SAT_FLG     = 'Y'
      </isNotNull>
      <isNotNull property="sun">
            AND CPS.SVC_TASK_RCV_SUN_FLG     = 'Y'
      </isNotNull>
    </statement>
</sqlMap>
