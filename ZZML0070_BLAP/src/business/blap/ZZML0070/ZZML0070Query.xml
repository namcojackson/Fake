<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZZML0070Query">

    <typeAlias alias="ZZML0070_ASMsg" type="business.blap.ZZML0070.ZZML0070_ASMsg"/>
<!--
    <typeAlias alias="ZZML0070CMsg"   type="business.blap.ZZML0070.ZZML0070CMsg"/>
    <typeAlias alias="ZZML0070_BCMsg" type="business.blap.ZZML0070.ZZML0070_BCMsg"/>
-->
    <resultMap id="result.ZZML0070_ASMsg" class="ZZML0070_ASMsg">
        <result property="ezUpTime_A"      column="EZUPTIME"          javaType="EZDCStringItem"/>
        <result property="ezUpTimeZone_A"  column="EZUPTIMEZONE"      javaType="EZDCStringItem"/>
        <result property="mlUsrAddrPk_A"   column="ML_USR_ADDR_PK"    javaType="EZDSBigDecimalItem"/>
        <result property="mlGrpId_A"       column="ML_GRP_ID"         javaType="EZDCStringItem"/>
        <result property="mlKeyFirstCd_A"  column="ML_KEY_FIRST_CD"   javaType="EZDCStringItem"/>
        <result property="mlKeyScdCd_A"    column="ML_KEY_SCD_CD"     javaType="EZDCStringItem"/>
        <result property="mlKeyThirdCd_A"  column="ML_KEY_THIRD_CD"   javaType="EZDCStringItem"/>
        <result property="mlUsrId_A"       column="ML_USR_ID"         javaType="EZDCStringItem"/>
        <result property="mlUsrAddr_A"     column="ML_USR_ADDR"       javaType="EZDCStringItem"/>
        <result property="mlUsrNm_A"       column="ML_USR_NM"         javaType="EZDCStringItem"/>
        <result property="mlUsrLocId_A"    column="ML_USR_LOC_ID"     javaType="EZDCStringItem"/>
        <result property="langNm_A"        column="LANG_NM"           javaType="EZDCStringItem"/>
        <result property="mlUsrDescTxt_A"  column="ML_USR_DESC_TXT"   javaType="EZDCStringItem"/>
    </resultMap>

    <statement id="getMlUsrAddr" parameterClass="Map" resultMap="result.ZZML0070_ASMsg">
      SELECT
        A.EZUPTIME        AS EZUPTIME,
        A.EZUPTIMEZONE    AS EZUPTIMEZONE,
        A.GLBL_CMPY_CD    AS GLBL_CMPY_CD,
        A.ML_USR_ADDR_PK  AS ML_USR_ADDR_PK,
        A.ML_GRP_ID       AS ML_GRP_ID,
        A.ML_KEY_FIRST_CD AS ML_KEY_FIRST_CD,
        A.ML_KEY_SCD_CD   AS ML_KEY_SCD_CD,
        A.ML_KEY_THIRD_CD AS ML_KEY_THIRD_CD,
        A.ML_USR_ID       AS ML_USR_ID,
        A.ML_USR_ADDR     AS ML_USR_ADDR,
        A.ML_USR_NM       AS ML_USR_NM,
        A.ML_USR_LOC_ID   AS ML_USR_LOC_ID,
        A.ML_USR_DESC_TXT AS ML_USR_DESC_TXT,
        A.ML_USR_LOC_ID	  AS LANG_NM
      FROM
        ML_USR_ADDR A, ML_GRP_ADDR B
      WHERE
        A.EZCANCELFLAG        = '0'
        AND B.EZCANCELFLAG        = '0'
        AND A.GLBL_CMPY_CD    = #glblCmpyCd#
        AND B.ML_GRP_ID = A.ML_GRP_ID
      <isNotNull property="mlGrpId">
        AND A.ML_GRP_ID    LIKE #mlGrpId#
      </isNotNull>
      <isNotNull property="mlKeyFirstCd">
        AND A.ML_KEY_FIRST_CD = #mlKeyFirstCd#
      </isNotNull>
      <isNotNull property="mlKeyScdCd">
        AND A.ML_KEY_SCD_CD   = #mlKeyScdCd#
      </isNotNull>
      <isNotNull property="mlKeyThirdCd">
        AND A.ML_KEY_THIRD_CD = #mlKeyThirdCd#
      </isNotNull>
      <isNotNull property="mlUsrId">
        AND A.ML_USR_ID       = #mlUsrId#
      </isNotNull>
      <isNotNull property="mlUsrAddr">
        AND A.ML_USR_ADDR  LIKE #mlUsrAddr#
      </isNotNull>
      ORDER BY
        A.ML_GRP_ID,
        A.ML_USR_ID,
        A.ML_USR_NM
    </statement>
</sqlMap>
