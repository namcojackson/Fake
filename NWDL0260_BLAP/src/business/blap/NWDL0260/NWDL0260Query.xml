<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NWDL0260Query">

	<typeAlias alias="NWDL0260_ASMsg" type="business.blap.NWDL0260.NWDL0260_ASMsg"/>
 	
 	
	<statement id="getHidingInventoryList" parameterClass="Map" resultMap="result.getHidingInventoryList">
		SELECT
		    HIVT.HID_INVTY_PK
		  , HIVT.HID_TS
		  , HIVT.HID_USER_ID
		  , HIVT.MDSE_CD
		  , M.MDSE_NM
		  , M.FIRST_PROD_CTRL_CD
		  , M.FIRST_PROD_CTRL_NM
		  , HIVT.INVTY_LOC_CD
		  , HIVT.STK_STS_CD
		  , HIVT.INVTY_ADVC_ON_HAND_QTY
		  , HIVT.INVTY_ADVC_IN_TRNST_QTY
		  , HIVT.HID_INVTY_MEMO_TXT
		FROM
		    HID_INVTY HIVT
		  , MDSE      M
		
		WHERE
		  -- HID_INVTY
		      HIVT.GLBL_CMPY_CD = #glblCmpyCd#
		  <isNotNull property="cMsg.mdseCd">
		  AND HIVT.MDSE_CD      = #cMsg.mdseCd#
		  </isNotNull>
		  <isNotNull property="cMsg.invtyLocCd">
		  AND HIVT.INVTY_LOC_CD = #cMsg.invtyLocCd#
		  </isNotNull>
		  <isNotNull property="hidUserId">
		  AND HIVT.HID_USER_ID = #hidUserId#
		  </isNotNull>
		  AND HIVT.EZCANCELFLAG = '0'
		
		  -- MDSE
		  AND M.GLBL_CMPY_CD(+) = HIVT.GLBL_CMPY_CD
		  AND M.MDSE_CD(+)      = HIVT.MDSE_CD
		  <isNotNull property="cMsg.firstProdCtrlCd">
		  AND M.FIRST_PROD_CTRL_CD = #cMsg.firstProdCtrlCd#
		  </isNotNull>
		  AND M.EZCANCELFLAG(+) = '0'
		  
		  AND ROWNUM <![CDATA[ <= ]]> #rowNum#
		  
		ORDER BY
		    HIVT.HID_TS
		  , HIVT.MDSE_CD
		  , HIVT.INVTY_LOC_CD
	</statement>
	<resultMap id="result.getHidingInventoryList" class="NWDL0260_ASMsg">
		<result property="hidInvtyPk_A1" 			column="HID_INVTY_PK" 				javaType="EZDSBigDecimalItem"/>
		<result property="hidTs_A1" 				column="HID_TS" 					javaType="EZDSStringItem"/>
		<result property="hidUserId_A1" 			column="HID_USER_ID" 				javaType="EZDSStringItem"/>
		<result property="mdseCd_A1" 				column="MDSE_CD" 					javaType="EZDSStringItem"/>
		<result property="mdseNm_A1" 				column="MDSE_NM" 					javaType="EZDSStringItem"/>
		<result property="firstProdCtrlCd_A1" 		column="FIRST_PROD_CTRL_CD" 		javaType="EZDSStringItem"/>
		<result property="firstProdCtrlNm_A1" 		column="FIRST_PROD_CTRL_NM" 		javaType="EZDSStringItem"/>
		<result property="invtyLocCd_A1" 			column="INVTY_LOC_CD" 				javaType="EZDSStringItem"/>
		<result property="stkStsCd_A1" 				column="STK_STS_CD" 				javaType="EZDSStringItem"/>
		<result property="invtyAdvcOnHandQty_A1"	column="INVTY_ADVC_ON_HAND_QTY" 	javaType="EZDSBigDecimalItem"/>
		<result property="invtyAdvcInTrnstQty_A1"	column="INVTY_ADVC_IN_TRNST_QTY" 	javaType="EZDSBigDecimalItem"/>
		<result property="hidInvtyMemoTxt_A1" 		column="HID_INVTY_MEMO_TXT" 		javaType="EZDSStringItem"/>
		
	</resultMap>
	

</sqlMap>
