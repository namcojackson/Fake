<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NLXC001001GetInventoryItemCost">

    <statement id="getMdseInventoryCostPercent" parameterClass="Map" resultClass="Map">
        SELECT
              DILV.RTL_WH_CD
             ,DILV.RTL_SWH_CD
             ,RW.INVTY_ACCT_CD
             ,RW.INVTY_OWNR_CD
             ,S.MDSE_COST_TP_CD
             ,S.MDSE_INVTY_COST_PCT
             ,IO.CMPY_INVTY_FLG
        FROM
             DS_INVTY_LOC_V DILV
            ,RTL_WH RW
            ,SWH S
            ,INVTY_OWNR IO
        WHERE
                DILV.GLBL_CMPY_CD = #glblCmpyCd#
            AND DILV.INVTY_LOC_CD = #invtyLocCd#
            AND DILV.EZCANCELFLAG = '0'
            AND RW.GLBL_CMPY_CD   = DILV.GLBL_CMPY_CD
            AND RW.RTL_WH_CD      = DILV.RTL_WH_CD
            AND RW.EZCANCELFLAG   = '0'
            AND S.GLBL_CMPY_CD(+) = DILV.GLBL_CMPY_CD
            AND S.RTL_SWH_CD(+)   = DILV.RTL_SWH_CD
            AND S.EZCANCELFLAG(+) = '0'
            AND IO.GLBL_CMPY_CD   = RW.GLBL_CMPY_CD
            AND IO.INVTY_OWNR_CD  = RW.INVTY_OWNR_CD
            AND IO.EZCANCELFLAG   = '0'
    </statement>

    <statement id="getMdseCost" parameterClass="Map" resultClass="Map">
        SELECT
             AMV.THIS_MTH_TOT_STD_COST_AMT
            ,AMV.ASSET_RECOV_COST_AMT
        FROM
            ALL_MDSE_V AMV
        WHERE
                AMV.GLBL_CMPY_CD = #glblCmpyCd#
            AND AMV.MDSE_CD      = #mdseCd#
            AND AMV.EZCANCELFLAG = '0'
    </statement>
</sqlMap>
