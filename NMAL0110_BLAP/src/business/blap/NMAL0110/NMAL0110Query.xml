<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NMAL0110Query">

    <typeAlias alias="ORD_TAKE_MDSETMsg"	type="business.db.ORD_TAKE_MDSETMsg"/>
    <typeAlias alias="AMER_MSTRTMsg"		type="business.db.AMER_MSTRTMsg"/>

    <statement id ="getItemStatusList" parameterClass="Map"  resultClass="Map">
        SELECT 
            MIS.MDSE_ITEM_STS_CD 
           ,MIS.MDSE_ITEM_STS_NM
        FROM 
            MDSE_ITEM_STS MIS
        WHERE 
            MIS.EZCANCELFLAG = '0'
        AND MIS.GLBL_CMPY_CD = #glblCmpyCd#
        <isNotNull property="defFlg">
        AND MIS.DEF_FLG = #defFlg#
        </isNotNull>
        ORDER BY
            MIS.MDSE_ITEM_STS_SORT_NUM
           ,MIS.MDSE_ITEM_STS_CD
    </statement>
    
    <statement id ="getCoaProjList" parameterClass="Map"  resultClass="Map">
        SELECT 
            CP.COA_PROJ_CD 
           ,CP.COA_PROJ_NM
        FROM 
            COA_PROJ CP
        WHERE 
            CP.EZCANCELFLAG = '0'
        AND CP.GLBL_CMPY_CD = #glblCmpyCd#
    </statement>
    
    <!--
    <statement id ="setRtrnVndList" parameterClass="Map"  resultClass="Map">
        SELECT 
            distinct 
            R.VND_CD 
           ,V.VND_NM
        FROM 
            RTRN_CTRL_TP_VND_RELN R
           ,PO_VND_V V
        WHERE 
            R.EZCANCELFLAG = '0'
        AND R.GLBL_CMPY_CD = #glblCmpyCd#
        AND R.RTRN_CTRL_TP_CD = #rtrnCtrlTpCd#
        AND R.EZCANCELFLAG = V.EZCANCELFLAG
        AND R.GLBL_CMPY_CD = V.GLBL_CMPY_CD
        AND R.VND_CD = V.VND_CD
    </statement>
    -->

    <statement id ="getRtrnParntVnd" parameterClass="Map"  resultClass="String">
        SELECT 
            V.PRNT_VND_CD
        FROM 
            PO_VND_V V
        WHERE 
            V.EZCANCELFLAG = '0'
        AND V.GLBL_CMPY_CD = #glblCmpyCd#
        AND V.VND_CD = #vndCd#
    </statement>

    <statement id ="getPlanningGroupList" parameterClass="Map"  resultClass="Map">
        SELECT 
            PG.PRCH_GRP_CD 
           ,PG.PRCH_GRP_NM
        FROM 
            PRCH_GRP PG
        WHERE 
            PG.EZCANCELFLAG = '0'
        AND PG.GLBL_CMPY_CD = #glblCmpyCd#
    </statement>

    <statement id ="getPkgUomPullDownList" parameterClass="Map"  resultClass="Map">
        SELECT 
            PU.PKG_UOM_CD 
           ,PU.PKG_UOM_DESC_TXT
        FROM 
            PKG_UOM PU
        WHERE 
            PU.EZCANCELFLAG = '0'
        AND PU.GLBL_CMPY_CD = #glblCmpyCd#
        AND PU.PKG_UOM_STD_FLG = 'Y'
        AND PU.PKG_UOM_CLS_CD = #pkgUomClsCd#
        ORDER BY PU.PKG_UOM_SORT_NUM
    </statement>

    <statement id ="getProductLevelName" parameterClass="Map"  resultClass="Map">
        SELECT 
            MSET.MDSE_STRU_ELMNT_TP_CD
           ,MSET.MDSE_STRU_ELMNT_TP_DESC_TXT MDSE_STRU_ELMNT_TP_NM
        FROM 
            MDSE_STRU_ELMNT_TP MSET
        WHERE 
            MSET.EZCANCELFLAG = '0'
        AND MSET.GLBL_CMPY_CD = #glblCmpyCd#
    </statement>

    <statement id ="search" parameterClass="Map"  resultClass="Map">
        SELECT 
           --Header
            M.GLBL_CMPY_CD
           ,M.MDSE_CD
           ,M.MDSE_DESC_SHORT_TXT
           ,M.MDSE_ITEM_MNF_CD
           ,MIM.MDSE_ITEM_MNF_NM <!-- 2019/10/18 QC#53815 Add -->
           ,M.MNF_ITEM_CD
           ,M.UPC_CD
           ,M.MDSE_ITEM_STS_CD
           ,M.MDSE_DESC_LONG_TXT
           ,M.MDSE_ITEM_ACTV_DT
           ,'' MDSE_CRAT_TMPL_NM
           ,M.MDSE_ITEM_TP_CD
           ,M.MDSE_ITEM_CLS_TP_CD
           ,M.COA_MDSE_TP_CD
           ,CJ.COA_PROJ_DESC_TXT
           ,M.COA_PROD_CD
           ,CP.COA_PROD_NM
           ,M.PRCH_GRP_CD
           ,M.MDSE_PRC_GRP_CD
           ,M.MKT_MDL_CD
           ,MM.MKT_MDL_NM
           ,M.MKT_MDL_SEG_CD
           ,MMS.MKT_MDL_SEG_NM
           ,M.ZEROTH_PROD_CTRL_CD
           ,M.ZEROTH_PROD_CTRL_NM
           ,M.FIRST_PROD_CTRL_CD
           ,M.FIRST_PROD_CTRL_NM
           ,M.SCD_PROD_CTRL_CD
           ,M.SCD_PROD_CTRL_NM
           ,M.THIRD_PROD_CTRL_CD
           ,M.THIRD_PROD_CTRL_NM
           ,M.FRTH_PROD_CTRL_CD
           ,M.FRTH_PROD_CTRL_NM
           ,'' MDSE_CRAT_TMPL_NM
           ,'' MDSE_CRAT_TMPL_CRAT_DT
           ,M.THIRD_PTY_ITEM_FLG
           ,M.SLS_MAT_GRP_CD_01
           ,SMG1.SLS_MAT_GRP_DESC_TXT SLS_MAT_GRP_DESC_TXT_01
           ,M.SLS_MAT_GRP_CD_02
           ,SMG2.SLS_MAT_GRP_DESC_TXT SLS_MAT_GRP_DESC_TXT_02
           ,M.SLS_MAT_GRP_CD_03
           ,SMG3.SLS_MAT_GRP_DESC_TXT SLS_MAT_GRP_DESC_TXT_03
           ,M.DS_CMSN_GRP_CD
           ,DCG.DS_CMSN_GRP_DESC_TXT
           <!-- QC#2872 -->
           ,M.EZINTIME    AS XX_REC_HIST_CRAT_TS
           ,M.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM
           ,M.EZUPTIME    AS XX_REC_HIST_UPD_TS
           ,M.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM
           ,M.EZTABLEID   AS XX_REC_HIST_TBL_NM
           --General Tab
           ,MSP_EA.IN_POUND_WT IN_POUND_WT_EA
           ,MSP_EA.IN_INCH_LG IN_INCH_LG_EA
           ,MSP_EA.IN_INCH_WDT IN_INCH_WDT_EA
           ,MSP_EA.IN_INCH_HGT IN_INCH_HGT_EA
           ,MSP_UN.IN_POUND_WT IN_POUND_WT_UN
           ,MSP_UN.IN_INCH_LG IN_INCH_LG_UN
           ,MSP_UN.IN_INCH_WDT IN_INCH_WDT_UN
           ,MSP_UN.IN_INCH_HGT IN_INCH_HGT_UN
            <!-- 2019/10/28 QC#53741 Add Start -->
           ,MSP_UN.IN_POUND_WT_UOM_CD AS IN_POUND_WT_UOM_CD_UN
           ,MSP_UN.IN_INCH_LG_UOM_CD  AS IN_INCH_LG_UOM_CD_UN
           ,MSP_UN.IN_INCH_WDT_UOM_CD AS IN_INCH_WDT_UOM_CD_UN
           ,MSP_UN.IN_INCH_HGT_UOM_CD AS IN_INCH_HGT_UOM_CD_UN
            <!-- 2019/10/28 QC#53741 Add End -->
           <!-- QC#2872 -->
           ,MSP_EA.EZINTIME_EA    AS XX_REC_HIST_CRAT_TS_MSP_EA
           ,MSP_EA.EZINUSERID_EA  AS XX_REC_HIST_CRAT_BY_NM_MSP_EA
           ,MSP_EA.EZUPTIME_EA    AS XX_REC_HIST_UPD_TS_MSP_EA
           ,MSP_EA.EZUPUSERID_EA  AS XX_REC_HIST_UPD_BY_NM_MSP_EA
           ,MSP_EA.EZTABLEID_EA   AS XX_REC_HIST_TBL_NM_MSP_EA
           ,MSP_UN.EZINTIME_UN    AS XX_REC_HIST_CRAT_TS_MSP_UN
           ,MSP_UN.EZINUSERID_UN  AS XX_REC_HIST_CRAT_BY_NM_MSP_UN
           ,MSP_UN.EZUPTIME_UN    AS XX_REC_HIST_UPD_TS_MSP_UN
           ,MSP_UN.EZUPUSERID_UN  AS XX_REC_HIST_UPD_BY_NM_MSP_UN
           ,MSP_UN.EZTABLEID_UN   AS XX_REC_HIST_TBL_NM_MSP_UN
           ,M.MAIN_MACH_FLG
           ,M.BACK_ORD_IMPCT_TP_CD
           ,M.RE_MNF_AVAL_FLG
           ,M.IMG_SPLY_OEM_MNF_CD
           ,M.IMG_SPLY_OEM_CD
           ,M.IMG_SPLY_TP_CD
           ,M.IMG_SPLY_COLOR_TP_CD
           ,M.IMG_SPLY_YIELD_CNT
           ,M.IMG_SPLY_YIELD_UOM_CD
           ,M.IMG_SPLY_YIELD_TP_CD
           ,M.EASY_PACK_TP_CD
           ,M.AREA_OF_PAPER_NUM
           ,M.PRT_DROP_SHIP_DSBL_FLG
           ,M.SVC_COV_TMPL_TP_CD
           ,M.SOW_REQ_FLG
           ,M.SVC_ALLOC_TP_CD
           ,M.SVC_CHRG_ITEM_TP_CD
           ,M.SW_CATG_CD
           ,M.SW_TP_CD
           ,M.SW_VRSN_TXT
           ,M.SW_LIC_CTRL_TP_CD
           ,M.SW_LIC_SEAT_FROM_QTY
           ,M.SW_LIC_SEAT_TO_QTY
           ,M.SW_LIC_SEAT_FIX_QTY
           ,M.INTG_PROD_CATG_CD
           ,M.SW_MAINT_CTRL_TP_CD
           ,M.ASRN_PNT_PER_LIC_QTY
           ,M.SW_MAINT_TP_CD
           ,M.SW_MAINT_TERM_YR
           ,M.ASRN_PNT_MIN_QTY
           ,M.ASRN_PNT_MAX_QTY
           ,M.ASRN_PNT_FIX_PER_ORD_QTY
           ,MSI.HAZ_MAT_FLG
           ,MSI.HAZ_MAT_CD
           ,HM.HAZ_CLS_NM
           ,HM.HAZ_PRP_SHIP_NM
           ,HM.HAZ_ID_NUM
           <!-- QC#2872 -->
           ,MSI.EZINTIME    AS XX_REC_HIST_CRAT_TS_MSI
           ,MSI.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM_MSI
           ,MSI.EZUPTIME    AS XX_REC_HIST_UPD_TS_MSI
           ,MSI.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM_MSI
           ,MSI.EZTABLEID   AS XX_REC_HIST_TBL_NM_MSI
           ,MSI.MADE_IN_CTRY_CD
           ,CM.CTRY_NM MADE_IN_CTRY_NM
           ,MSI.ASM_IN_CTRY_CD
           ,CA.CTRY_NM ASM_IN_CTRY_NM
           ,M.INTNT_CONN_SW_CTRL_FLG
           ,M.PKG_UOM_CLS_CD
           ,PU.PKG_UOM_DESC_TXT BASE_PKG_UOM_DESC_TXT
           ,M.PRT_ITEM_TP_CD
           ,M.PRT_YIELD_OTPT_QTY
           ,M.PRT_YIELD_DAYS_AOT
           ,M.PRT_SRVY_REQ_FLG
           ,M.SVC_COV_BASE_TP_CD
           ,M.SW_PROD_CATG_CD
           ,SPC.SW_PROD_CATG_DESC_TXT
           ,M.BDL_MAINT_MDSE_CD
           ,M.MAINT_POP_AVAL_FLG
           ,M.EXT_MAINT_POP_AVAL_FLG
           ,M.NMFC_CLS_TP_CD
           ,M.MAINT_ITEM_TERM_MTH_NUM
           ,M.IMG_SPLY_PVT_LB_TP_CD
           ,M.FRT_CLS_CD
           ,FC.FRT_CLS_DESC_TXT
           ,FC.NMFC_ITEM_NUM
           ,FC.NMFC_ITEM_SUB_NUM
           ,FC.NMFC_CLS_NUM
           ,M.TRF_CD
           ,T.TRF_DESC_TXT
           --Inventory Tab
           ,M.INVTY_CTRL_FLG
           ,M.ITRL_ITEM_FLG
           ,M.INVTY_VAL_FLG
           ,M.RMA_REQ_TP_CD
           ,M.RMA_INSP_REQ_FLG
           ,M.DEF_SRC_WH_CD
           ,WS.RTL_WH_NM DEF_SRC_WH_NM
           ,M.DEF_SRC_SUB_WH_CD
           ,WSS.RTL_SWH_NM DEF_SRC_SUB_WH_NM
           ,M.DEF_SRC_PROCR_TP_CD
           ,M.INVTY_HARD_ALLOC_TP_CD
           ,M.DROP_RTRN_VND_CD
           ,M.RTRN_REQ_PRT_FLG
           ,M.RTRN_CTRL_TP_CD
           ,RCT.RTRN_CTRL_TP_NM
           ,M.RTRN_DSPL_TP_CD
           ,M.RTRN_TO_VND_CD
           ,PVV.VND_NM LOC_NM_V1
           ,M.RTRN_TO_PRNT_VND_CD
           ,PVV.PRNT_VND_NM LOC_NM_P1
           ,M.RTRN_CTRL_TP_VND_RELN_PK
           ,M.RTRN_WH_CD
           ,RW.RTL_WH_NM LOC_NM_W1
           ,M.RCV_SER_TAKE_FLG
           ,M.SHPG_SER_TAKE_FLG
           --Accounting Tab
           ,M.THIS_MTH_TOT_STD_COST_AMT
           ,M.MDSE_CST_UPD_DT
           ,M.LAST_MTH_TOT_STD_COST_AMT
           ,M.ORIG_FOB_AMT
           ,M.ORIG_FOB_AMT_UPD_DT
           ,M.ASSET_RECOV_COST_AMT
           ,M.ASSET_RECOV_COST_AMT_UPD_DT
           ,M.PREV_ASSET_RECOV_COST_AMT
           ,M.REV_COA_ACCT_CD
           ,CA1.COA_ACCT_NM REV_COA_ACCT_NM
           ,M.COGS_COA_ACCT_CD
           ,CA2.COA_ACCT_NM COGS_COA_ACCT_NM
           ,M.EXP_COA_ACCT_CD
           ,CA3.COA_ACCT_NM EXP_COA_ACCT_NM
           ,M.ACRL_COA_ACCT_CD
           ,CA4.COA_ACCT_NM ACRL_COA_ACCT_NM
           ,M.COA_CC_CD
           ,CC.COA_CC_NM
           ,M.LINE_BIZ_TP_CD
           ,M.INV_PSBL_FLG
           ,M.DFRD_ACCTG_RULE_CD
           ,M.DFRD_INV_RULE_CD
           ,M.TAX_EXEM_TP_CD
           --Field Service Tab
           ,M.SVC_WTY_TP_CD
           ,M.WTY_DAYS_AOT
           ,M.MTR_MACH_FLG
           ,M.INSTL_BASE_CTRL_FLG
           ,M.SVC_CALL_ENBL_FLG
           ,M.IWR_ENBL_FLG
           ,M.IWR_MDL_CD
           ,M.IWR_MDSE_CD
           ,IMM.MDSE_DESC_SHORT_TXT IWR_MDSE_NM
           ,M.MDSE_ITEM_BILL_TP_CD
           <!-- START 2023/09/05 K.Watanabe [QC#53408,ADD] -->
           ,M.SVC_ISTL_RULE_NUM
           ,M.SVC_ISTL_CALL_GRP_NUM
           <!-- END 2023/09/05 K.Watanabe [QC#53408,ADD] -->
           <!-- START 2023/12/12 K.Watanabe [QC#61300,ADD] -->
           ,M.SVC_DEINS_RULE_NUM
           ,M.SVC_DEINS_CALL_GRP_NUM
           <!-- END 2023/12/12 K.Watanabe [QC#61300,ADD] -->
           --Order Processing Tab
           ,M.CUST_ORD_ENBL_FLG
           ,M.CPO_MIN_ORD_QTY
           ,M.CPO_MAX_ORD_QTY
           ,M.CPO_INCR_ORD_QTY
           ,M.RE_MNF_ITEM_EXST_FLG
           ,M.CONFIG_FLG
           ,M.SITE_SRVY_REQ_FLG
           ,M.MDSE_CRAT_TMPL_PK
           ,M.EZUPTIME EZUPTIME_M1
           ,M.EZUPTIMEZONE EZUPTIMEZONE_M1
           ,M.EZUPTIME EZUPTIME_M2
           ,M.EZUPTIMEZONE EZUPTIMEZONE_M2
           ,'' EZUPTIME_M3
           ,'' EZUPTIMEZONE_M3
           ,MSI.EZUPTIME EZUPTIME_M4
           ,MSI.EZUPTIMEZONE EZUPTIMEZONE_M4
           ,MSP_UN.EZUPTIME EZUPTIME_M6
           ,MSP_UN.EZUPTIMEZONE EZUPTIMEZONE_M6
           ,MSP_EA.EZUPTIME EZUPTIME_M7
           ,MSP_EA.EZUPTIMEZONE EZUPTIMEZONE_M7
           ,MSP_UN.EZUPTIME_DS EZUPTIME_MB
           ,MSP_UN.EZUPTIMEZONE_DS EZUPTIMEZONE_MB
           ,MSP_EA.EZUPTIME_DS EZUPTIME_MC
           ,MSP_EA.EZUPTIMEZONE_DS EZUPTIMEZONE_MC
           ,S.EZUPTIME EZUPTIME_MF
           ,S.EZUPTIMEZONE EZUPTIMEZONE_MF
           ,MCTSP_EA.EZUPTIME EZUPTIME_MG
           ,MCTSP_EA.EZUPTIMEZONE EZUPTIMEZONE_MG
           ,MCTSP_UN.EZUPTIME EZUPTIME_MI
           ,MCTSP_UN.EZUPTIMEZONE EZUPTIMEZONE_MI
           ,OTM.EZUPTIME EZUPTIME_OM
           ,OTM.EZUPTIMEZONE EZUPTIMEZONE_OM
           ,M.MDSE_RGTN_TP_CD
           ,M.PRNT_CMPY_SET_MDSE_FLG
           ,M.DS_INTG_MDSE_TP_CD
           ,M.SVC_PGM_TP_CD
           ,M.OVRD_MNF_WTY_FLG
           ,SPT.OVRD_MNF_WTY_AVAL_FLG
        FROM
            MDSE M
           ,MDSE_CRAT_TMPL_STORE_PKG MCTSP_EA
           ,MDSE_CRAT_TMPL_STORE_PKG MCTSP_BX
           ,MDSE_CRAT_TMPL_STORE_PKG MCTSP_UN
           ,MDSE_CRAT_TMPL_STORE_PKG MCTSP_CA
           ,MDSE_CRAT_TMPL_STORE_PKG MCTSP_PL
           ,COA_PROD CP
           ,MDSE_SFTY_INFO MSI
           ,HAZ_MAT HM
           ,CTRY CM
           ,CTRY CA
           ,RTL_WH WS
           ,RTL_SWH WSS
           ,COA_ACCT CA1
           ,COA_ACCT CA2
           ,COA_ACCT CA3
           ,COA_ACCT CA4
           ,MDSE IMM
           ,SUPD S
           <!-- 2019/10/28 QC#53741 Mod Start -->
           <!-- ,(select a.EZUPTIME, a.EZUPTIMEZONE, a.EZUPTIME EZUPTIME_DS, a.EZUPTIMEZONE EZUPTIMEZONE_DS, a.MDSE_CD, a.IN_EACH_QTY, a.IN_POUND_WT, a.IN_INCH_LG, a.IN_INCH_WDT, a.IN_INCH_HGT, a.PRIM_PKG_UOM_FLG, a.EZINTIME EZINTIME_UN, a.EZINUSERID EZINUSERID_UN, a.EZUPTIME EZUPTIME_UN, a.EZUPUSERID EZUPUSERID_UN, a.EZTABLEID EZTABLEID_UN from MDSE_STORE_PKG a where a.EZCANCELFLAG = '0' and a.GLBL_CMPY_CD = #glblCmpyCd# and a.PKG_UOM_CD = 'UB') MSP_UN -->
           ,(select a.EZUPTIME, a.EZUPTIMEZONE, a.EZUPTIME EZUPTIME_DS, a.EZUPTIMEZONE EZUPTIMEZONE_DS, a.MDSE_CD, a.IN_EACH_QTY, a.IN_POUND_WT, a.IN_INCH_LG, a.IN_INCH_WDT, a.IN_INCH_HGT, a.PRIM_PKG_UOM_FLG, a.EZINTIME EZINTIME_UN, a.EZINUSERID EZINUSERID_UN, a.EZUPTIME EZUPTIME_UN, a.EZUPUSERID EZUPUSERID_UN, a.EZTABLEID EZTABLEID_UN, a.IN_POUND_WT_UOM_CD, a.IN_INCH_LG_UOM_CD, a.IN_INCH_WDT_UOM_CD, a.IN_INCH_HGT_UOM_CD from MDSE_STORE_PKG a where a.EZCANCELFLAG = '0' and a.GLBL_CMPY_CD = #glblCmpyCd# and a.PKG_UOM_CD = 'UB') MSP_UN
           <!-- 2019/10/28 QC#53741 Mod End -->
           ,(select a.EZUPTIME, a.EZUPTIMEZONE, a.EZUPTIME EZUPTIME_DS, a.EZUPTIMEZONE EZUPTIMEZONE_DS, a.MDSE_CD, a.IN_EACH_QTY, a.IN_POUND_WT, a.IN_INCH_LG, a.IN_INCH_WDT, a.IN_INCH_HGT, a.PRIM_PKG_UOM_FLG, a.EZINTIME EZINTIME_EA, a.EZINUSERID EZINUSERID_EA, a.EZUPTIME EZUPTIME_EA, a.EZUPUSERID EZUPUSERID_EA, a.EZTABLEID EZTABLEID_EA from MDSE_STORE_PKG a where a.EZCANCELFLAG = '0' and a.GLBL_CMPY_CD = #glblCmpyCd# and a.PKG_UOM_CD = 'EA') MSP_EA
           ,ORD_TAKE_MDSE OTM
           ,MKT_MDL MM
           ,MKT_MDL_SEG MMS
           ,COA_CC CC
           ,PKG_UOM_CLS PUC
           ,PKG_UOM PU
           ,SLS_MAT_GRP SMG1
           ,SLS_MAT_GRP SMG2
           ,SLS_MAT_GRP SMG3
           ,DS_CMSN_GRP DCG
           ,SW_PROD_CATG SPC
           ,FRT_CLS FC
           ,COA_PROJ CJ
           ,RTRN_CTRL_TP RCT
           ,PO_VND_V PVV
           ,RTL_WH RW
           ,TRF T
           ,SVC_PGM_TP SPT
           ,MDSE_ITEM_MNF MIM <!-- 2019/10/18 QC#53815 Add -->
        WHERE 
            M.EZCANCELFLAG = '0'
        AND M.GLBL_CMPY_CD = #glblCmpyCd#
        AND M.MDSE_CD = #mdseCd#
        AND M.EZCANCELFLAG = CP.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = CP.GLBL_CMPY_CD (+)
        AND M.COA_PROD_CD = CP.COA_PROD_CD (+)
        AND M.MDSE_CD = MSP_UN.MDSE_CD (+)
        AND M.MDSE_CD = MSP_EA.MDSE_CD (+)
        AND M.EZCANCELFLAG = MSI.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MSI.GLBL_CMPY_CD (+)
        AND M.MDSE_CD = MSI.MDSE_CD (+)
        AND MSI.EZCANCELFLAG = HM.EZCANCELFLAG (+)
        AND MSI.GLBL_CMPY_CD = HM.GLBL_CMPY_CD (+)
        AND MSI.HAZ_MAT_CD = HM.HAZ_MAT_CD (+)
        AND MSI.EZCANCELFLAG = CM.EZCANCELFLAG (+)
        AND MSI.GLBL_CMPY_CD = CM.GLBL_CMPY_CD (+)
        AND MSI.MADE_IN_CTRY_CD = CM.CTRY_CD (+)
        AND MSI.EZCANCELFLAG = CA.EZCANCELFLAG (+)
        AND MSI.GLBL_CMPY_CD = CA.GLBL_CMPY_CD (+)
        AND MSI.ASM_IN_CTRY_CD = CA.CTRY_CD (+)
        AND M.EZCANCELFLAG = WS.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = WS.GLBL_CMPY_CD (+)
        AND M.DEF_SRC_WH_CD = WS.RTL_WH_CD (+)
        AND M.GLBL_CMPY_CD = WSS.GLBL_CMPY_CD (+)
        AND M.DEF_SRC_SUB_WH_CD = WSS.RTL_SWH_CD (+)
        AND M.EZCANCELFLAG = CA1.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = CA1.GLBL_CMPY_CD (+)
        AND M.REV_COA_ACCT_CD = CA1.COA_ACCT_CD (+)
        AND M.EZCANCELFLAG = CA2.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = CA2.GLBL_CMPY_CD (+)
        AND M.COGS_COA_ACCT_CD = CA2.COA_ACCT_CD (+)
        AND M.EZCANCELFLAG = CA3.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = CA3.GLBL_CMPY_CD (+)
        AND M.EXP_COA_ACCT_CD = CA3.COA_ACCT_CD (+)
        AND M.EZCANCELFLAG = CA4.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = CA4.GLBL_CMPY_CD (+)
        AND M.ACRL_COA_ACCT_CD = CA4.COA_ACCT_CD (+)
        AND M.EZCANCELFLAG = IMM.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = IMM.GLBL_CMPY_CD (+)
        AND M.IWR_MDSE_CD = IMM.MDSE_CD (+)
        AND M.EZCANCELFLAG = S.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = S.GLBL_CMPY_CD (+)
        AND M.MDSE_CD = S.MDSE_CD (+)
        AND M.EZCANCELFLAG = MCTSP_EA.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MCTSP_EA.GLBL_CMPY_CD (+)
        AND M.MDSE_CRAT_TMPL_PK = MCTSP_EA.MDSE_CRAT_TMPL_PK (+)
        AND MCTSP_EA.PKG_UOM_CD(+) = 'EA'
        AND M.EZCANCELFLAG = MCTSP_BX.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MCTSP_BX.GLBL_CMPY_CD (+)
        AND M.MDSE_CRAT_TMPL_PK = MCTSP_BX.MDSE_CRAT_TMPL_PK (+)
        AND MCTSP_BX.PKG_UOM_CD(+) = 'BX'
        AND M.EZCANCELFLAG = MCTSP_UN.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MCTSP_UN.GLBL_CMPY_CD (+)
        AND M.MDSE_CRAT_TMPL_PK = MCTSP_UN.MDSE_CRAT_TMPL_PK (+)
        AND MCTSP_UN.PKG_UOM_CD(+) = 'UB'
        AND M.EZCANCELFLAG = MCTSP_CA.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MCTSP_CA.GLBL_CMPY_CD (+)
        AND M.MDSE_CRAT_TMPL_PK = MCTSP_CA.MDSE_CRAT_TMPL_PK (+)
        AND MCTSP_CA.PKG_UOM_CD(+) = 'CA'
        AND M.EZCANCELFLAG = MCTSP_PL.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MCTSP_PL.GLBL_CMPY_CD (+)
        AND M.MDSE_CRAT_TMPL_PK = MCTSP_PL.MDSE_CRAT_TMPL_PK (+)
        AND MCTSP_PL.PKG_UOM_CD(+) = 'PL'
        AND M.EZCANCELFLAG = OTM.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = OTM.GLBL_CMPY_CD (+)
        AND SUBSTR(M.MDSE_CD, 1, 8) = OTM.ORD_TAKE_MDSE_CD (+)
        AND M.EZCANCELFLAG = MM.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MM.GLBL_CMPY_CD (+)
        AND M.MKT_MDL_CD = MM.MKT_MDL_CD (+)
        AND M.EZCANCELFLAG = MMS.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = MMS.GLBL_CMPY_CD (+)
        AND M.MKT_MDL_SEG_CD = MMS.MKT_MDL_SEG_CD (+)
        AND M.EZCANCELFLAG = CC.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = CC.GLBL_CMPY_CD (+)
        AND M.COA_CC_CD = CC.COA_CC_CD (+)
        AND M.EZCANCELFLAG = PUC.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = PUC.GLBL_CMPY_CD (+)
        AND M.PKG_UOM_CLS_CD = PUC.PKG_UOM_CLS_CD (+)
        AND PUC.EZCANCELFLAG = PU.EZCANCELFLAG (+)
        AND PUC.GLBL_CMPY_CD = PU.GLBL_CMPY_CD (+)
        AND PUC.BASE_PKG_UOM_CD = PU.PKG_UOM_CD (+)
        AND M.GLBL_CMPY_CD = SMG1.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = SMG1.EZCANCELFLAG (+)
        AND M.SLS_MAT_GRP_CD_01 = SMG1.SLS_MAT_GRP_CD (+)
        AND M.GLBL_CMPY_CD = SMG2.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = SMG2.EZCANCELFLAG (+)
        AND M.SLS_MAT_GRP_CD_02 = SMG2.SLS_MAT_GRP_CD (+)
        AND M.GLBL_CMPY_CD = SMG3.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = SMG3.EZCANCELFLAG (+)
        AND M.SLS_MAT_GRP_CD_03 = SMG3.SLS_MAT_GRP_CD (+)
        AND M.GLBL_CMPY_CD = DCG.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = DCG.EZCANCELFLAG (+)
        AND M.DS_CMSN_GRP_CD = DCG.DS_CMSN_GRP_CD (+)
        AND M.GLBL_CMPY_CD = SPC.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = SPC.EZCANCELFLAG (+)
        AND M.SW_PROD_CATG_CD = SPC.SW_PROD_CATG_CD (+)
        AND M.GLBL_CMPY_CD = FC.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = FC.EZCANCELFLAG (+)
        AND M.FRT_CLS_CD = FC.FRT_CLS_CD (+)
        AND M.GLBL_CMPY_CD = CJ.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = CJ.EZCANCELFLAG (+)
        AND M.COA_MDSE_TP_CD = CJ.COA_PROJ_CD (+)
        AND M.RTRN_CTRL_TP_CD = RCT.RTRN_CTRL_TP_CD (+)
        AND M.GLBL_CMPY_CD = RCT.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = RCT.EZCANCELFLAG (+)
        AND M.RTRN_TO_VND_CD = PVV.VND_CD(+)
        AND M.RTRN_TO_PRNT_VND_CD = PVV.PRNT_VND_CD(+)
        AND M.GLBL_CMPY_CD = PVV.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = PVV.EZCANCELFLAG (+)
        AND M.RTRN_WH_CD = RW.RTL_WH_CD(+)
        AND M.GLBL_CMPY_CD = RW.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = RW.EZCANCELFLAG (+)
        AND M.TRF_CD = T.TRF_CD(+)
        AND M.GLBL_CMPY_CD = T.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = T.EZCANCELFLAG (+)
        AND M.GLBL_CMPY_CD = SPT.GLBL_CMPY_CD (+)
        AND M.SVC_PGM_TP_CD = SPT.SVC_PGM_TP_CD (+)
        AND SPT.EZCANCELFLAG (+) = '0'
        <!-- 2019/10/18 QC#53815 Add Start -->
        AND M.GLBL_CMPY_CD = MIM.GLBL_CMPY_CD (+)
        AND M.EZCANCELFLAG = MIM.EZCANCELFLAG (+)
        AND M.MDSE_ITEM_MNF_CD = MIM.MDSE_ITEM_MNF_CD (+)
        <!-- 2019/10/18 QC#53815 Add End -->
    </statement>

    <statement id ="getSerialRange" parameterClass="Map"  resultClass="Map">
        SELECT
            MSNR.MDSE_CD
           ,MSNR.FROM_SER_NUM
           ,MSNR.THRU_SER_NUM
           ,MSNR.LG_SER_NUM
           ,MSNR.EZUPTIME
           ,MSNR.EZUPTIMEZONE
           ,MSNR.MDSE_SER_NUM_RNG_PK
           <!-- QC#2872 -->
           ,MSNR.EZINTIME    AS XX_REC_HIST_CRAT_TS
           ,MSNR.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM
           ,MSNR.EZUPTIME    AS XX_REC_HIST_UPD_TS
           ,MSNR.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM
           ,MSNR.EZTABLEID   AS XX_REC_HIST_TBL_NM
        FROM
            MDSE_SER_NUM_RNG MSNR
        WHERE
            MSNR.EZCANCELFLAG = '0'
        AND MSNR.GLBL_CMPY_CD = #glblCmpyCd#
        AND MSNR.MDSE_CD = #mdseCd#
        ORDER BY MSNR.MDSE_SER_NUM_RNG_PK
    </statement>

    <statement id ="getSupdReln" parameterClass="Map"  resultClass="Map">
        SELECT
            SR.SUPD_FROM_MDSE_CD
           ,SR.SUPD_TO_MDSE_CD
           ,M.MDSE_DESC_SHORT_TXT
           ,SR.SUPD_RELN_PK
           ,SR.SUPD_CRAT_DT
           ,SR.EZUPTIME
           ,SR.EZUPTIMEZONE
           ,S.INCG_FLG
           <!-- QC#2872 -->
           ,SR.EZINTIME    AS XX_REC_HIST_CRAT_TS
           ,SR.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM
           ,SR.EZUPTIME    AS XX_REC_HIST_UPD_TS
           ,SR.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM
           ,SR.EZTABLEID   AS XX_REC_HIST_TBL_NM
        FROM
            SUPD_RELN SR
           ,MDSE M
           ,SUPD S
        WHERE
            SR.EZCANCELFLAG = '0'
        AND SR.GLBL_CMPY_CD = #glblCmpyCd#
        AND SR.SUPD_FROM_MDSE_CD = #mdseCd#
        AND SR.EZCANCELFLAG = M.EZCANCELFLAG (+)
        AND SR.GLBL_CMPY_CD = M.GLBL_CMPY_CD (+)
        AND SR.SUPD_TO_MDSE_CD = M.MDSE_CD (+)
        AND SR.EZCANCELFLAG = S.EZCANCELFLAG (+)
        AND SR.GLBL_CMPY_CD = S.GLBL_CMPY_CD (+)
        AND SR.SUPD_FROM_MDSE_CD = S.MDSE_CD (+)
        ORDER BY SR.SUPD_RELN_PK
    </statement>
    
    <statement id ="getSupdRelnTo" parameterClass="Map"  resultClass="Map">
        SELECT
           distinct SR.SUPD_TO_MDSE_CD
        FROM
            SUPD_RELN SR
        WHERE
            SR.EZCANCELFLAG = '0'
        AND SR.GLBL_CMPY_CD = #glblCmpyCd#
        AND SR.SUPD_FROM_MDSE_CD = #mdseCd#
    </statement>

    <statement id ="getSupdRelnFrom" parameterClass="Map"  resultClass="Map">
        SELECT
           distinct SR.SUPD_FROM_MDSE_CD
        FROM
            SUPD_RELN SR
        WHERE
            SR.EZCANCELFLAG = '0'
        AND SR.GLBL_CMPY_CD = #glblCmpyCd#
        AND SR.SUPD_TO_MDSE_CD = #mdseCd#
    </statement>
    
    <statement id ="getRelnMdse" parameterClass="Map"  resultClass="Map">
        SELECT
            MIFS.MDSE_CD
           ,MIFS.MDSE_ITEM_RELN_TP_CD
           ,MIFS.RELN_MDSE_CD
           ,M.MDSE_DESC_SHORT_TXT
           ,MIFS.EZUPTIME
           ,MIFS.EZUPTIMEZONE
           <!-- QC#2872 -->
           ,MIFS.EZINTIME    AS XX_REC_HIST_CRAT_TS
           ,MIFS.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM
           ,MIFS.EZUPTIME    AS XX_REC_HIST_UPD_TS
           ,MIFS.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM
           ,MIFS.EZTABLEID   AS XX_REC_HIST_TBL_NM
        FROM
            MDSE_ITEM_FLIP_SET MIFS
           ,MDSE M
        WHERE
            MIFS.EZCANCELFLAG = '0'
        AND MIFS.GLBL_CMPY_CD = #glblCmpyCd#
        AND MIFS.MDSE_CD = #mdseCd#
        AND MIFS.EZCANCELFLAG = M.EZCANCELFLAG (+)
        AND MIFS.GLBL_CMPY_CD = M.GLBL_CMPY_CD (+)
        AND MIFS.RELN_MDSE_CD = M.MDSE_CD (+)
    </statement>
    
    <statement id ="getCustRef" parameterClass="Map"  resultClass="Map">
        SELECT
            CMX.MDSE_CD
           ,CMX.DS_ACCT_NUM
           ,DAC.DS_ACCT_NM
           ,CMX.CUST_MDSE_CD
           ,CMX.CUST_MDSE_NM
           ,CMX.EFF_FROM_DT
           ,CMX.CUST_MDSE_XREF_ENBL_FLG
           ,CMX.EZUPTIME
           ,CMX.EZUPTIMEZONE
           <!-- QC#2872 -->
           ,CMX.EZINTIME    AS XX_REC_HIST_CRAT_TS
           ,CMX.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM
           ,CMX.EZUPTIME    AS XX_REC_HIST_UPD_TS
           ,CMX.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM
           ,CMX.EZTABLEID   AS XX_REC_HIST_TBL_NM
        FROM
            CUST_MDSE_XREF CMX
           ,SELL_TO_CUST DAC
           ,ALL_MDSE_V M
        WHERE
            CMX.EZCANCELFLAG = '0'
        AND CMX.GLBL_CMPY_CD = #glblCmpyCd#
        AND CMX.MDSE_CD = #mdseCd#
        AND CMX.EZCANCELFLAG = DAC.EZCANCELFLAG (+)
        AND CMX.GLBL_CMPY_CD = DAC.GLBL_CMPY_CD (+)
        AND CMX.DS_ACCT_NUM = DAC.SELL_TO_CUST_CD (+)
        AND CMX.EZCANCELFLAG = M.EZCANCELFLAG (+)
        AND CMX.GLBL_CMPY_CD = M.GLBL_CMPY_CD (+)
        AND CMX.CUST_MDSE_CD = M.MDSE_CD (+)
    </statement>

    <statement id ="getDsAcctCust" parameterClass="Map"  resultClass="Map">
        SELECT
            DAC.SELL_TO_CUST_PK
           ,DAC.SELL_TO_CUST_CD
           ,DAC.DS_ACCT_NM
        FROM
            SELL_TO_CUST DAC
        WHERE
            DAC.EZCANCELFLAG = '0'
        AND DAC.GLBL_CMPY_CD = #glblCmpyCd#
        AND DAC.SELL_TO_CUST_CD = #dsAcctNum#
    </statement>

    <statement id ="getMnfItemCd" parameterClass="Map"  resultClass="Map">
        SELECT
            DMI.MDSE_CD
           ,DMI.MNF_ITEM_CD
        FROM
            MDSE DMI
        WHERE
            DMI.EZCANCELFLAG = '0'
        AND DMI.GLBL_CMPY_CD = #glblCmpyCd#
        AND DMI.MNF_ITEM_CD = #mnfItemCd#
        AND DMI.MDSE_CD &lt;&gt; #mdseCd#
    </statement>

    <statement id ="getPkgUomList" parameterClass="Map"  resultClass="Map">
        SELECT
            <!-- QC#17184 CASE WHEN MSP.PKG_UOM_CD = 'EA' THEN NVL(PUC.BASE_PKG_UOM_CD, MSP.PKG_UOM_CD) ELSE MSP.PKG_UOM_CD END PKG_UOM_CD-->
            MSP.PKG_UOM_CD
           ,PUC.BASE_PKG_UOM_CD
           ,PU.PKG_UOM_DESC_TXT
           ,PU.PKG_UOM_SORT_NUM
           ,MSP.IN_EACH_QTY
           ,MSP.PRIM_PKG_UOM_FLG
           ,MSP.EZUPTIME 
           ,MSP.EZUPTIMEZONE
           ,MSP.EZUPTIME EZUPTIME_KS
           ,MSP.EZUPTIMEZONE EZUPTIMEZONE_KS
           ,MCTSP.EZUPTIME EZUPTIME_KT
           ,MCTSP.EZUPTIMEZONE EZUPTIMEZONE_KT
           <!-- QC#2872 -->
           ,MSP.EZINTIME_MSP    AS XX_REC_HIST_CRAT_TS
           ,MSP.EZINUSERID_MSP  AS XX_REC_HIST_CRAT_BY_NM
           ,MSP.EZUPTIME_MSP    AS XX_REC_HIST_UPD_TS
           ,MSP.EZUPUSERID_MSP  AS XX_REC_HIST_UPD_BY_NM
           ,MSP.EZTABLEID_MSP   AS XX_REC_HIST_TBL_NM
        FROM 
            (SELECT A.EZCANCELFLAG, A.GLBL_CMPY_CD, A.MDSE_CD, A.PKG_UOM_CD, A.IN_EACH_QTY, A.EZUPTIME, A.EZUPTIMEZONE, B.MDSE_CRAT_TMPL_PK, B.PKG_UOM_CLS_CD,A.EZINTIME AS EZINTIME_MSP, A.EZINUSERID AS EZINUSERID_MSP, A.EZUPTIME AS EZUPTIME_MSP, A.EZUPUSERID AS EZUPUSERID_MSP, A.EZTABLEID AS EZTABLEID_MSP , A.PRIM_PKG_UOM_FLG AS PRIM_PKG_UOM_FLG
            FROM MDSE_STORE_PKG A, MDSE B, PKG_UOM P
            WHERE A.EZCANCELFLAG = '0' AND A.GLBL_CMPY_CD = #glblCmpyCd#
            AND A.EZCANCELFLAG = B.EZCANCELFLAG AND A.GLBL_CMPY_CD = B.GLBL_CMPY_CD
            AND A.MDSE_CD = B.MDSE_CD
            AND A.PKG_UOM_CD = P.PKG_UOM_CD AND P.PKG_UOM_CLS_CD IS NOT NULL
            AND A.EZCANCELFLAG = P.EZCANCELFLAG AND A.GLBL_CMPY_CD = P.GLBL_CMPY_CD) MSP
           ,PKG_UOM PU
           ,MDSE_CRAT_TMPL_STORE_PKG MCTSP
           ,PKG_UOM_CLS PUC
        WHERE
            MSP.EZCANCELFLAG = '0'
        AND MSP.GLBL_CMPY_CD = #glblCmpyCd#
        AND MSP.MDSE_CD = #mdseCd#
        AND MSP.EZCANCELFLAG = MCTSP.EZCANCELFLAG (+)
        AND MSP.GLBL_CMPY_CD = MCTSP.GLBL_CMPY_CD (+)
        AND MSP.MDSE_CRAT_TMPL_PK = MCTSP.MDSE_CRAT_TMPL_PK (+)
        AND MSP.PKG_UOM_CD = MCTSP.PKG_UOM_CD (+)
        AND MSP.PKG_UOM_CD != 'UB'
		AND MSP.PKG_UOM_CLS_CD = PUC.PKG_UOM_CLS_CD (+)
		AND PUC.EZCANCELFLAG (+) = '0'
		AND PUC.GLBL_CMPY_CD (+) = #glblCmpyCd#
		AND PU.EZCANCELFLAG (+) = '0'
		AND PU.GLBL_CMPY_CD (+) = #glblCmpyCd#
        AND CASE WHEN MSP.PKG_UOM_CD = 'EA' THEN NVL(PUC.BASE_PKG_UOM_CD, MSP.PKG_UOM_CD) ELSE MSP.PKG_UOM_CD END = PU.PKG_UOM_CD (+)
        ORDER BY PU.PKG_UOM_SORT_NUM
    </statement>

    <statement id ="getPkgUomTmplList" parameterClass="Map"  resultClass="Map">
        SELECT
		    CASE WHEN MCTSP.PKG_UOM_CD = 'EA' THEN PUC.BASE_PKG_UOM_CD ELSE MCTSP.PKG_UOM_CD END PKG_UOM_CD
           ,PUC.BASE_PKG_UOM_CD
           ,PU.PKG_UOM_DESC_TXT
           ,PU.PKG_UOM_SORT_NUM
           ,MCTSP.IN_EACH_QTY
           ,MCTSP.PRIM_PKG_UOM_FLG
           ,NULL EZUPTIME 
           ,NULL EZUPTIMEZONE
           ,NULL EZUPTIME_KS
           ,NULL EZUPTIMEZONE_KS
           ,MCTSP.EZUPTIME EZUPTIME_KT
           ,MCTSP.EZUPTIMEZONE EZUPTIMEZONE_KT
           <!-- QC#2872 -->
           ,MCTSP.EZINTIME    AS XX_REC_HIST_CRAT_TS
           ,MCTSP.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM
           ,MCTSP.EZUPTIME    AS XX_REC_HIST_UPD_TS
           ,MCTSP.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM
           ,MCTSP.EZTABLEID   AS XX_REC_HIST_TBL_NM
        FROM 
            MDSE_CRAT_TMPL_STORE_PKG MCTSP
           ,PKG_UOM PU
           ,PKG_UOM_CLS PUC
        WHERE
            MCTSP.EZCANCELFLAG = '0'
        AND MCTSP.GLBL_CMPY_CD = #glblCmpyCd#
        AND MCTSP.MDSE_CRAT_TMPL_PK = #mdseCratTmplPk#
        AND MCTSP.PKG_UOM_CD != 'UB'
        AND MCTSP.PKG_UOM_CD = PU.PKG_UOM_CD(+)
        AND PU.EZCANCELFLAG(+) = '0'
        AND PU.GLBL_CMPY_CD(+) = #glblCmpyCd#
        AND PU.PKG_UOM_CLS_CD = PUC.PKG_UOM_CLS_CD(+)
        AND PUC.EZCANCELFLAG(+) = '0'
        AND PUC.GLBL_CMPY_CD(+) = #glblCmpyCd#
        ORDER BY PU.PKG_UOM_SORT_NUM
    </statement>

    <statement id ="getPkgUomTmplAllList" parameterClass="Map"  resultClass="Map">
        SELECT
            MCTSP.PKG_UOM_CD
           ,PU.PKG_UOM_DESC_TXT
           ,PU.PKG_UOM_SORT_NUM
           ,MCTSP.IN_EACH_QTY
           ,MCTSP.PRIM_PKG_UOM_FLG
           ,NULL EZUPTIME 
           ,NULL EZUPTIMEZONE
           ,NULL EZUPTIME_KS
           ,NULL EZUPTIMEZONE_KS
        FROM 
            MDSE_CRAT_TMPL_STORE_PKG MCTSP
           ,PKG_UOM PU
        WHERE
            MCTSP.EZCANCELFLAG = '0'
        AND MCTSP.GLBL_CMPY_CD = #glblCmpyCd#
        AND MCTSP.MDSE_CRAT_TMPL_PK = #mdseCratTmplPk#
        AND MCTSP.EZCANCELFLAG = PU.EZCANCELFLAG (+)
        AND MCTSP.GLBL_CMPY_CD = PU.GLBL_CMPY_CD (+)
        AND MCTSP.PKG_UOM_CD = PU.PKG_UOM_CD (+)
        ORDER BY PU.PKG_UOM_SORT_NUM
    </statement>
    
    <statement id ="getTermCondOptList" parameterClass="Map"  resultClass="Map">
        SELECT
            MTCO.MDSE_TERM_COND_OPT_PK
           ,MTCO.MDSE_CD
           ,MTCO.TERM_COND_OPT_TP_CD
           ,MTCO.TERM_COND_OPT_VAL_TXT
           ,MTCO.EZUPTIME 
           ,MTCO.EZUPTIMEZONE
        FROM
            MDSE_TERM_COND_OPT MTCO
        WHERE
            MTCO.EZCANCELFLAG = '0'
        AND MTCO.GLBL_CMPY_CD = #glblCmpyCd#
        AND MTCO.MDSE_CD = #mdseCd#
    </statement>

    <statement id ="getIntgProdCatgConv" parameterClass="Map"  resultClass="Map">
       SELECT
            IPCC.INTG_PROD_CATG_CD
           ,IPCC.MDSE_TP_CD
           ,IPCC.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV IPCC
        WHERE
            IPCC.EZCANCELFLAG = '0'
        AND IPCC.GLBL_CMPY_CD = #glblCmpyCd#
        AND IPCC.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        <isNotNull property="coaMdseTpCd">
        AND (IPCC.COA_MDSE_TP_CD = #coaMdseTpCd# or IPCC.COA_MDSE_TP_CD = '*')
        </isNotNull>
        <isNull property="coaMdseTpCd">
        AND IPCC.COA_MDSE_TP_CD = '*'
        </isNull>
        <isNotNull property="swLicCtrlTpCd">
        AND (IPCC.SW_LIC_CTRL_TP_CD = #swLicCtrlTpCd# or IPCC.SW_LIC_CTRL_TP_CD = '*')
        </isNotNull>
        <isNull property="swLicCtrlTpCd">
        AND IPCC.SW_LIC_CTRL_TP_CD = '*'
        </isNull>
        <isNotNull property="swCatgCd">
        AND (IPCC.SW_CATG_CD = #swCatgCd# or IPCC.SW_CATG_CD = '*')
        </isNotNull>
        <isNull property="swCatgCd">
        AND IPCC.SW_CATG_CD = '*'
        </isNull>
        AND IPCC.INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        ORDER BY IPCC.SW_LIC_CTRL_TP_CD desc, IPCC.SW_CATG_CD desc
    </statement>
    
    <statement id ="getInventoryCountForSerial" parameterClass="Map" resultClass="Integer">
        SELECT
            count(*)
        FROM 
            INVTY I
        WHERE
            I.EZCANCELFLAG = '0'
        AND I.GLBL_CMPY_CD = #glblCmpyCd#
        AND I.MDSE_CD = #mdseCd#
        <!-- 2020/09/04 [QC#57588, DEL] -->
        <!-- AND I.STK_STS_CD = '1' -->
        AND I.LOC_STS_CD = '03'
        <isNotNull property="invtyFlg">
        AND (I.INVTY_QTY > 0 OR I.INVTY_AVAL_QTY > 0)
        </isNotNull>
    </statement>
    
    <statement id ="getRetailSubWhName" parameterClass="Map"  resultClass="Map">
        SELECT 
            RS.RTL_SWH_CD 
           ,RS.RTL_SWH_NM
        FROM 
            RTL_SWH RS 
        WHERE 
            RS.EZCANCELFLAG = '0' 
        AND RS.GLBL_CMPY_CD = #glblCmpyCd#
        AND RS.RTL_SWH_CD = #rtlSwhCd#
        AND RS.EFF_FROM_DT &lt;= #slsDt#
        AND NVL(RS.EFF_THRU_DT, '99991231') &gt;= #slsDt#
    </statement>
    
    <statement id ="getRetailSubWh" parameterClass="Map"  resultClass="Map">
        SELECT 
            RS.RTL_SWH_CD 
           ,RS.RTL_SWH_NM
        FROM 
            RTL_SWH RS 
        WHERE 
            RS.EZCANCELFLAG = '0' 
        AND RS.GLBL_CMPY_CD = #glblCmpyCd#
        AND RS.RTL_WH_CD = #rtlWhCd#
        AND RS.RTL_SWH_CD = #rtlSwhCd#
        AND RS.EFF_FROM_DT &lt;= #slsDt#
        AND NVL(RS.EFF_THRU_DT, '99991231') &gt;= #slsDt#
    </statement>
    
    <statement id ="getIntgProdCatgConvList" parameterClass="Map"  resultClass="Map">
		SELECT 
		    C.MDSE_ITEM_TP_CD
		   ,C.COA_MDSE_TP_CD
		   ,C.SW_LIC_CTRL_TP_CD
		   ,C.SW_CATG_CD
		   ,C.INTNT_CONN_SW_CTRL_FLG
		FROM 
		    INTG_PROD_CATG_CONV C
		WHERE
		    C.EZCANCELFLAG = '0'
		AND C.GLBL_CMPY_CD = #glblCmpyCd#
        <isNotNull property="mdseItemTpCd">
		AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        </isNotNull>
        <isNotNull property="coaMdseTpCd">
        AND (C.COA_MDSE_TP_CD = #coaMdseTpCd# or C.COA_MDSE_TP_CD = '*')
        </isNotNull>
        <isNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD = '*'
        </isNull>
    </statement>

    <statement id ="getTransactionDataCPOAndPO" parameterClass="Map" resultClass="Integer">
        SELECT sum(CNT) from (
        SELECT
            count(*) CNT
        FROM 
            CPO_DTL C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND MDSE_CD = #mdseCd#
        <!-- START 2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <!-- AND ORD_LINE_STS_CD &lt;&gt; '99' -->
        <iterate property="ordLineStsCd" var="ordLineStsCd[]" open="AND ORD_LINE_STS_CD NOT IN (" close=" )" conjunction=",">
            #ordLineStsCd[]#
        </iterate>
        <!-- END   2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <isNotNull property="mdseCd8Digit">
        UNION
        SELECT
            count(*)
        FROM 
            CPO_DTL C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND MDSE_CD = #mdseCd8Digit#
        <!-- START 2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <!-- AND ORD_LINE_STS_CD &lt;&gt; '99' -->
        <iterate property="ordLineStsCd" var="ordLineStsCd[]" open="AND ORD_LINE_STS_CD NOT IN (" close=" )" conjunction=",">
            #ordLineStsCd[]#
        </iterate>
        <!-- END   2021/01/07 J.Evangelista [QC#58090,MOD] -->
        </isNotNull>
        UNION
        SELECT
            count(*)
        FROM 
            DS_CPO_RTRN_DTL C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND MDSE_CD = #mdseCd#
        <!-- START 2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <!-- AND RTRN_LINE_STS_CD &lt;&gt; '99' -->
        <iterate property="rtrnLineStsCd" var="rtrnLineStsCd[]" open="AND RTRN_LINE_STS_CD NOT IN (" close=" )" conjunction=",">
            #rtrnLineStsCd[]#
        </iterate>
        <!-- END   2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <isNotNull property="mdseCd8Digit">
        UNION
        SELECT
            count(*)
        FROM 
            DS_CPO_RTRN_DTL C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND MDSE_CD = #mdseCd8Digit#
        <!-- START 2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <!-- AND RTRN_LINE_STS_CD &lt;&gt; '99' -->
        <iterate property="rtrnLineStsCd" var="rtrnLineStsCd[]" open="AND RTRN_LINE_STS_CD NOT IN (" close=" )" conjunction=",">
            #rtrnLineStsCd[]#
        </iterate>
        <!-- END   2021/01/07 J.Evangelista [QC#58090,MOD] -->
        </isNotNull>
        UNION
        SELECT
            count(*)
        FROM 
            PO_DTL C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND MDSE_CD = #mdseCd#
        <!-- START 2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <!-- AND PO_STS_CD &lt;&gt; '06' -->
        <iterate property="poStsCd" var="poStsCd[]" open="AND PO_STS_CD NOT IN (" close=" )" conjunction=",">
            #poStsCd[]#
        </iterate>
        <!-- END   2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <isNotNull property="mdseCd8Digit">
        UNION
        SELECT
            count(*)
        FROM 
            PO_DTL C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND MDSE_CD = #mdseCd8Digit#
        <!-- START 2021/01/07 J.Evangelista [QC#58090,MOD] -->
        <!-- AND PO_STS_CD &lt;&gt; '06' -->
        <iterate property="poStsCd" var="poStsCd[]" open="AND PO_STS_CD NOT IN (" close=" )" conjunction=",">
            #poStsCd[]#
        </iterate>
        <!-- END   2021/01/07 J.Evangelista [QC#58090,MOD] -->
        </isNotNull>
        )
    </statement>
    <statement id ="getMachineMaster" parameterClass="Map" resultClass="Integer">
        SELECT
            count(*)
        FROM 
            SVC_MACH_MSTR SMM
        WHERE
            SMM.EZCANCELFLAG = '0'
        AND SMM.GLBL_CMPY_CD = #glblCmpyCd#
        AND SMM.MDSE_CD = #mdseCd#
    </statement>
	<resultMap id="result.getDuplicateOrdTakeMdse" class="ORD_TAKE_MDSETMsg">
		<result property="glblCmpyCd"		column="GLBL_CMPY_CD"		javaType="EZDTStringItem"/>
		<result property="ordTakeMdseCd"	column="ORD_TAKE_MDSE_CD"	javaType="EZDTStringItem"/>
	</resultMap>

	<statement id ="getDuplicateOrdTakeMdse" parameterClass ="Map" resultMap="result.getDuplicateOrdTakeMdse">
        SELECT 
            M.GLBL_CMPY_CD
           ,M.ORD_TAKE_MDSE_CD
        FROM 
            ORD_TAKE_MDSE M
        WHERE 
        M.EZCANCELFLAG  =  '0'
        AND M.GLBL_CMPY_CD = #glblCmpyCd#
        AND M.ORD_TAKE_MDSE_CD = TRIM(#mdseCd#)
	</statement>
	
	<resultMap id="result.getDuplicateAmerMstr" class="AMER_MSTRTMsg">
		<result property="glblCmpyCd"	column="GLBL_CMPY_CD"	javaType="EZDTStringItem"/>
		<result property="amerMstrPk"	column="AMER_MSTR_PK"	javaType="EZDTBigDecimalItem"/>
	</resultMap>

	<statement id ="getDuplicateAmerMstr" parameterClass ="Map" resultMap="result.getDuplicateAmerMstr">
	SELECT 
		M.GLBL_CMPY_CD
	,	M.AMER_MSTR_PK
	FROM 
		AMER_MSTR	M
	   ,AMER_CMPY   M2
	WHERE 
		M.EZCANCELFLAG					=	'0'
	AND	M.GLBL_CMPY_CD					=	#glblCmpyCd#
	AND	(   SUBSTR(M.AMER_MDSE_CD, 1, 8)	=	TRIM(#mdseCd#)
	     OR TRIM(M.AMER_MDSE_CD)            =	TRIM(#mdseCd#))
	AND M.AMER_MDSE_CD                  =   M2.AMER_MDSE_CD
	AND M.GLBL_CMPY_CD                  =   M2.GLBL_CMPY_CD
	AND M2.AMER_CMPY_CD                 =   #glblCmpyCd#
	</statement>
	
    <statement id="getS21Parts" parameterClass="Map" resultClass="Map">
        SELECT
            CP_V.P_PARTS_NUM
        FROM
            $cusaPartsViewName$ CP_V
        WHERE
            CP_V.P_PARTS_NUM = #mdseCd#
    </statement>
    
	<statement id ="getDuplicateS21Parts" parameterClass ="Map" resultClass="Map">
        SELECT
            CP_V.P_PARTS_NUM
        FROM
            $cusaPartsViewName$ CP_V
        WHERE
            CP_V.P_PARTS_NUM = TRIM(#mdseCd#)
	</statement>
	
    <statement id ="getBasePkgUomNm" parameterClass="Map"  resultClass="Map">
        SELECT 
            PU.PKG_UOM_DESC_TXT
        FROM 
            PKG_UOM_CLS PUC
           ,PKG_UOM PU
        WHERE 
            PUC.EZCANCELFLAG = '0'
        AND PUC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PUC.PKG_UOM_CLS_CD = #pkgUomClsCd#
        AND PUC.EZCANCELFLAG = PU.EZCANCELFLAG
        AND PUC.GLBL_CMPY_CD = PU.GLBL_CMPY_CD
        AND PUC.BASE_PKG_UOM_CD = PU.PKG_UOM_CD
    </statement>
    <statement id ="getBasePkgUom" parameterClass="Map"  resultClass="Map">
        SELECT
            PU.PKG_UOM_CD
           ,PU.PKG_UOM_DESC_TXT
           ,PU.PKG_UOM_SORT_NUM
           ,1 IN_EACH_QTY
           ,'Y'
           ,PUC.BASE_PKG_UOM_CD
        FROM 
            PKG_UOM_CLS PUC
           ,PKG_UOM PU
        WHERE
            PUC.EZCANCELFLAG = '0'
        AND PUC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PUC.PKG_UOM_CLS_CD = #pkgUomClsCd#
        AND PUC.EZCANCELFLAG = PU.EZCANCELFLAG
        AND PUC.GLBL_CMPY_CD = PU.GLBL_CMPY_CD
        AND PUC.BASE_PKG_UOM_CD = PU.PKG_UOM_CD
    </statement>
    <!-- QC#9346 -->
    <statement id ="getMdseTpValSet" parameterClass="Map"  resultClass="Map">
        SELECT 
            MTVS.MDSE_TP_VAL_SET_PK
        FROM 
            MDSE_TP_VAL_SET MTVS
        WHERE 
            MTVS.EZCANCELFLAG = '0'
        AND MTVS.GLBL_CMPY_CD = #glblCmpyCd#
        AND MTVS.MDSE_TP_CTX_TP_CD = #mdseTpCtxTpCd#
        AND MTVS.FIRST_BIZ_CTX_ATTRB_TXT = #mdseItemTpCd#
        AND MTVS.COA_MDSE_TP_CD = #coaMdseTpCd#
    </statement>
    <statement id ="getCusaMdseView" parameterClass="Map"  resultClass="Map">
        SELECT
             M.MDSE_NM
            ,M.MDSE_FML_NM
            ,M.COA_PROD_CD
            ,CP.COA_PROD_NM
            ,M.UPC_CD
            ,SI.HAZ_MAT_FLG
            ,SI.MADE_IN_CTRY_CD
            ,MC.CTRY_NM MADE_IN_CTRY_NM
            ,SI.ASM_IN_CTRY_CD
            ,AC.CTRY_NM ASM_IN_CTRY_NM
            ,SI.HAZ_MAT_CD
            ,HM.HAZ_CLS_NM
            ,HM.HAZ_PRP_SHIP_NM
            ,HM.HAZ_ID_NUM
            ,S.IN_INCH_HGT
            ,S.IN_INCH_WDT
            ,S.IN_INCH_LG
            ,S.IN_POUND_WT
            <!-- QC#2872 -->
            ,M.EZINTIME    AS XX_REC_HIST_CRAT_TS
            ,M.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM
            ,M.EZUPTIME    AS XX_REC_HIST_UPD_TS
            ,M.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM
            ,M.EZTABLEID   AS XX_REC_HIST_TBL_NM
            ,S.EZINTIME    AS XX_REC_HIST_CRAT_TS_S
            ,S.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM_S
            ,S.EZUPTIME    AS XX_REC_HIST_UPD_TS_S
            ,S.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM_S
            ,S.EZTABLEID   AS XX_REC_HIST_TBL_NM_S
            ,SI.EZINTIME    AS XX_REC_HIST_CRAT_TS_SI
            ,SI.EZINUSERID  AS XX_REC_HIST_CRAT_BY_NM_SI
            ,SI.EZUPTIME    AS XX_REC_HIST_UPD_TS_SI
            ,SI.EZUPUSERID  AS XX_REC_HIST_UPD_BY_NM_SI
            ,SI.EZTABLEID   AS XX_REC_HIST_TBL_NM_SI
            <!-- QC#12451 -->
            ,M.FRT_CLS_CD
            ,FC.FRT_CLS_DESC_TXT
            ,FC.NMFC_ITEM_NUM
            ,FC.NMFC_ITEM_SUB_NUM
            ,FC.NMFC_CLS_NUM
        FROM
            $cusaMdseTblaName$ M
           ,AMER_CMPY A
           ,$cusaMdseStorePkgTableName$ S
           ,$cusaMdseSftyInfoTableName$ SI
           ,COA_PROD CP
           ,CTRY MC
           ,CTRY AC
           ,HAZ_MAT HM
           ,FRT_CLS FC
        WHERE
            M.EZCANCELFLAG = '0'
            AND M.GLBL_CMPY_CD = 'ABR'
            AND A.EZCANCELFLAG = '0'
            AND A.GLBL_CMPY_CD = #glblCmpyCd#
            AND S.EZCANCELFLAG(+) = '0'
            AND S.GLBL_CMPY_CD(+) = 'ABR'
            AND SI.EZCANCELFLAG(+) = '0'
            AND SI.GLBL_CMPY_CD(+) = 'ABR'
            AND M.RGTN_STS_CD = 'P20'
            AND M.FIRST_PROD_CTRL_CD IN ('D','Y','C','S','R','4','I','K')
            AND M.MDSE_CD = A.AMER_MDSE_CD
            AND A.AMER_CMPY_CD = #glblCmpyCd#
            AND A.AMER_XPND_TP_CD = '1'
            AND M.MDSE_CD = S.MDSE_CD(+)
            AND S.PKG_UOM_CD(+)  = 'EA'
            AND M.MDSE_CD = SI.MDSE_CD(+)
            AND M.MDSE_CD = #mdseCd#
            AND M.COA_PROD_CD = CP.COA_PROD_CD(+)
            AND CP.EZCANCELFLAG(+) = '0'
            AND CP.GLBL_CMPY_CD(+) = #glblCmpyCd#
            AND SI.HAZ_MAT_CD = HM.HAZ_MAT_CD(+)
            AND HM.EZCANCELFLAG(+) = '0'
            AND HM.GLBL_CMPY_CD(+) = #glblCmpyCd#
            AND SI.MADE_IN_CTRY_CD = MC.CTRY_CD(+)
            AND MC.EZCANCELFLAG(+) = '0'
            AND MC.GLBL_CMPY_CD(+) = #glblCmpyCd#
            AND SI.ASM_IN_CTRY_CD = AC.CTRY_CD(+)
            AND AC.EZCANCELFLAG(+) = '0'
            AND AC.GLBL_CMPY_CD(+) = #glblCmpyCd#
            AND M.FRT_CLS_CD = FC.FRT_CLS_CD(+)
            AND FC.EZCANCELFLAG(+) = '0'
            AND FC.GLBL_CMPY_CD(+) = #glblCmpyCd#
        ORDER BY M.MDSE_CD
    </statement>
     <statement id ="getCusaPartsView" parameterClass="Map"  resultClass="Map">
        SELECT
             P1.P_DESC_PART
            ,DECODE(NVL(P1.P_FLG_HAZMAT, 'N'),'N', NVL(P1.P_CODE_HAZARD, 'N'), 'Y')
            ,DECODE (NVL (P1.P_SPEC_WGHT_PART, 0),0, 0,ROUND (P1.P_SPEC_WGHT_PART / 453592.37, 4)) IN_POUND_WT
        FROM
            $cusaPartsViewName$ P1
        WHERE
            P1.EZCANCELFLAG = '0' 
            AND P1.P_PARTS_NUM = #mdseCd#
        ORDER BY P1.P_PARTS_NUM
    </statement>

    <statement id ="getProdCtrl" parameterClass="Map"  resultClass="Map">
        SELECT
            PC.PROD_CTRL_CD
            ,PC.PROD_CTRL_DESC_TXT
        FROM
            PROD_CTRL PC
        WHERE
                PC.GLBL_CMPY_CD = 'ADB'
            AND PC.EZCANCELFLAG = '0'
            AND PC.PROD_CTRL_CD = #prodCtrlCd#
            AND PC.MDSE_STRU_ELMNT_TP_CD = #mdseStruElmntTpCd#
    </statement>
    <statement id ="getProdCtrlForThird" parameterClass="Map"  resultClass="Map">
        SELECT
            PC.PROD_CTRL_CD AS PROD_CTRL_CD
            ,PC.PROD_CTRL_DESC_TXT AS PROD_CTRL_DESC_TXT
            ,PC2.PROD_CTRL_CD AS SCD_PROD_CTRL_CD
            ,PC2.PROD_CTRL_DESC_TXT AS SCD_PROD_CTRL_DESC_TXT
        FROM
            PROD_CTRL PC
            ,PROD_CTRL PC2
        WHERE
                PC.GLBL_CMPY_CD = 'ADB'
            AND PC.EZCANCELFLAG = '0'
            AND PC.PROD_CTRL_CD = #prodCtrlCd#
            AND PC.MDSE_STRU_ELMNT_TP_CD = #mdseStruElmntTpCd#

            AND PC.GLBL_CMPY_CD = PC2.GLBL_CMPY_CD
            AND PC.EZCANCELFLAG = PC2.EZCANCELFLAG
            AND PC.SCD_PROD_HRCH_CD = PC2.PROD_CTRL_CD
            AND PC2.MDSE_STRU_ELMNT_TP_CD  = #mdseStruElmntTpCdPL2#
            <isNotNull property="scdProdCtrlCd">
            AND PC2.PROD_CTRL_CD = #scdProdCtrlCd#
            </isNotNull>
    </statement>
    <statement id ="getSlsMatGrp" parameterClass="Map"  resultClass="Map">
        SELECT 
            SMG.SLS_MAT_GRP_CD
           ,SMG.SLS_MAT_GRP_DESC_TXT
        FROM 
            SLS_MAT_GRP SMG
        WHERE 
            SMG.EZCANCELFLAG = '0'
        AND SMG.GLBL_CMPY_CD = #glblCmpyCd#
        AND SMG.SLS_MAT_GRP_CD = #slsMatGrpCd#
        AND SMG.SLS_MAT_GRP_SQ_NUM = #slsMatGrpSqNum#
    </statement>
    <statement id ="getDsCmsnGrp" parameterClass="Map"  resultClass="Map">
        SELECT 
            DCG.DS_CMSN_GRP_CD
           ,DCG.DS_CMSN_GRP_DESC_TXT
        FROM 
            DS_CMSN_GRP DCG
        WHERE 
            DCG.EZCANCELFLAG = '0'
        AND DCG.GLBL_CMPY_CD = #glblCmpyCd#
        AND DCG.DS_CMSN_GRP_CD = #dsCmsnGrpCd#
    </statement>
    
    <statement id ="getIntgProdCatgConvPriorityList" parameterClass="Map"  resultClass="Map">
        --All Value Set
        SELECT 
            '1' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        <isNotNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD = #coaMdseTpCd#
        </isNotNull>
        <isNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD IS NULL
        </isNull>
        <isNotNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD = #swLicCtrlTpCd#
        </isNotNull>
        <isNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD IS NULL
        </isNull>
        <isNotNull property="swCatgCd">
        AND C.SW_CATG_CD = #swCatgCd#
        </isNotNull>
        <isNull property="swCatgCd">
        AND C.SW_CATG_CD IS NULL
        </isNull>
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        UNION
        --SW_CATG_CD ALL
        SELECT 
            '2' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        <isNotNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD = #coaMdseTpCd#
        </isNotNull>
        <isNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD IS NULL
        </isNull>
        <isNotNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD = #swLicCtrlTpCd#
        </isNotNull>
        <isNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD IS NULL
        </isNull>
        AND C.SW_CATG_CD = '*' 
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        UNION 
        --SW_LIC_CTRL_TP_CD ALL
        SELECT 
            '3' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        <isNotNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD = #coaMdseTpCd#
        </isNotNull>
        <isNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD IS NULL
        </isNull>
        AND C.SW_LIC_CTRL_TP_CD = '*'
        <isNotNull property="swCatgCd">
        AND C.SW_CATG_CD = #swCatgCd#
        </isNotNull>
        <isNull property="swCatgCd">
        AND C.SW_CATG_CD IS NULL
        </isNull>
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        UNION
        --SW_CATG_CD and SW_LIC_CTRL_TP_CD ALL
        SELECT 
            '4' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        <isNotNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD = #coaMdseTpCd#
        </isNotNull>
        <isNull property="coaMdseTpCd">
        AND C.COA_MDSE_TP_CD IS NULL
        </isNull>
        AND C.SW_LIC_CTRL_TP_CD = '*'
        AND C.SW_CATG_CD = '*' 
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        UNION
        --COA_MDSE_TP_CD ALL, All Value Set
        SELECT 
            '5' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        AND C.COA_MDSE_TP_CD = '*'
        <isNotNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD = #swLicCtrlTpCd#
        </isNotNull>
        <isNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD IS NULL
        </isNull>
        <isNotNull property="swCatgCd">
        AND C.SW_CATG_CD = #swCatgCd#
        </isNotNull>
        <isNull property="swCatgCd">
        AND C.SW_CATG_CD IS NULL
        </isNull>
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        UNION
        ---COA_MDSE_TP_CD ALL, SW_CATG_CD ALL
        SELECT 
            '6' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        AND C.COA_MDSE_TP_CD = '*'
        <isNotNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD = #swLicCtrlTpCd#
        </isNotNull>
        <isNull property="swLicCtrlTpCd">
        AND C.SW_LIC_CTRL_TP_CD IS NULL
        </isNull>
        AND C.SW_CATG_CD = '*' 
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        UNION 
        ---COA_MDSE_TP_CD ALL, SW_LIC_CTRL_TP_CD ALL
        SELECT 
            '7' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        AND C.COA_MDSE_TP_CD = '*'
        AND C.SW_LIC_CTRL_TP_CD = '*'
        <isNotNull property="swCatgCd">
        AND C.SW_CATG_CD = #swCatgCd#
        </isNotNull>
        <isNull property="swCatgCd">
        AND C.SW_CATG_CD IS NULL
        </isNull>
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        UNION
        ---COA_MDSE_TP_CD ALL, SW_CATG_CD and SW_LIC_CTRL_TP_CD ALL
        SELECT 
            '8' PRIORITY
           ,C.MDSE_ITEM_TP_CD
           ,C.COA_MDSE_TP_CD
           ,C.SW_LIC_CTRL_TP_CD
           ,C.SW_CATG_CD
           ,C.INTNT_CONN_SW_CTRL_FLG
           ,C.INTG_PROD_CATG_CD
           ,C.MDSE_TP_CD
           ,C.MDSE_CATG_CD
        FROM 
            INTG_PROD_CATG_CONV C
        WHERE
            C.EZCANCELFLAG = '0'
        AND C.GLBL_CMPY_CD = #glblCmpyCd#
        AND C.MDSE_ITEM_TP_CD = #mdseItemTpCd#
        AND C.COA_MDSE_TP_CD = '*'
        AND C.SW_LIC_CTRL_TP_CD = '*'
        AND C.SW_CATG_CD = '*' 
        AND INTNT_CONN_SW_CTRL_FLG = #intntConnSwCtrlFlg#
        ORDER BY
            1
    </statement>
    
    <statement id ="existsAllMdseV" parameterClass="Map"  resultClass="Map">
        SELECT 
            MDSE_CD
        FROM 
            ALL_MDSE_V M
        WHERE 
            M.EZCANCELFLAG = '0'
        AND M.GLBL_CMPY_CD = #glblCmpyCd#
        AND M.MDSE_CD = #mdseCd#
    </statement>
    
	<!-- QC#3579 -->
    <statement id ="getItemHistoryReportConfig" parameterClass="Map"  resultClass="Map">
        SELECT 
               T.DS_HIST_RPT_TBL_NM
             , T.HIST_TBL_NM
             , T.HIST_TBL_SRCH_COL_NM
             , T.HIST_TBL_BIZ_KEY_COL_NM_01
             , T.HIST_TBL_BIZ_KEY_COL_NM_02
             , T.HIST_TBL_BIZ_KEY_COL_NM_03
             , C.DS_HIST_RPT_COL_NM
             , C.DS_HIST_RPT_COL_DESC_TXT
             , C.DS_HIST_RPT_COL_GRP_NM
             , C.DS_HIST_RPT_COL_SORT_NUM
             , C.CD_TBL_NM
             , C.CD_TBL_SRCH_COL_NM
             , C.CD_TBL_DPLY_COL_NM
             , C.DS_HIST_RPT_INSR_DPLY_FLG
             , C.DS_HIST_RPT_UPD_DPLY_FLG
             , C.DS_HIST_RPT_DEL_DPLY_FLG
          FROM 
               DS_HIST_RPT_TBL T
             , DS_HIST_RPT_INFO C
         WHERE 
               T.EZCANCELFLAG = '0'
           AND T.GLBL_CMPY_CD = #glblCmpyCd#
           AND T.DS_HIST_RPT_ID = #dsHistRptId#
           AND C.EZCANCELFLAG = '0'
           AND C.GLBL_CMPY_CD = T.GLBL_CMPY_CD
           AND C.DS_HIST_RPT_TBL_NM = T.DS_HIST_RPT_TBL_NM
           AND (
                C.DS_HIST_RPT_DPLY_FUNC_ID IS NULL OR C.DS_HIST_RPT_DPLY_FUNC_ID IN
                  <iterate property="listFuncId" var="listFuncId[]" open="(" close=")" conjunction=",">
                    #listFuncId[]#
                  </iterate>
               )   
         ORDER BY
               T.DS_HIST_RPT_TBL_NM, C.DS_HIST_RPT_COL_SORT_NUM
    </statement>

    <statement id ="getItemHistory" parameterClass="Map"  resultClass="Map">
        $sql$
    </statement>
    <!-- QC#5580 -->
    <statement id="getSupdRelnList" parameterClass="Map" resultClass="Map">
        WITH TEMP (
           SUPD_FROM_MDSE_CD
          ,SUPD_TO_MDSE_CD
          ,LVL 
        ) AS (
          SELECT
               SR.SUPD_FROM_MDSE_CD
              ,SR.SUPD_TO_MDSE_CD
              ,1 
            FROM  SUPD_RELN SR
            WHERE
                  SR.GLBL_CMPY_CD    = #glblCmpyCd#
              AND SR.SUPD_TO_MDSE_CD = #supdFromMdseCd#
              AND SR.EZCANCELFLAG    = '0'
          UNION ALL
          SELECT
               SR_B.SUPD_FROM_MDSE_CD
              ,SR_B.SUPD_TO_MDSE_CD
              ,LVL + 1 
            FROM  SUPD_RELN SR_B
                 ,TEMP      T
            WHERE
                  SR_B.GLBL_CMPY_CD    = #glblCmpyCd#
              AND SR_B.SUPD_TO_MDSE_CD = T.SUPD_FROM_MDSE_CD
              AND SR_B.EZCANCELFLAG    = '0'
        )
        SEARCH BREADTH FIRST BY SUPD_TO_MDSE_CD SET ORDER1
        CYCLE SUPD_FROM_MDSE_CD SET IsLoop TO 'Y' DEFAULT 'N'
        SELECT * FROM TEMP
    </statement>
    
    <!-- QC#7875 -->
    <statement id ="getCusaMdseTp" parameterClass="Map"  resultClass="Map">
        SELECT
             M.MDSE_TP_CD
        FROM
            $cusaMdseTblaName$ M
        WHERE
            M.EZCANCELFLAG = '0'
            AND M.GLBL_CMPY_CD = 'ABR'
            AND M.MDSE_CD = #mdseCd#
    </statement>
    <statement id ="getRtrnCtrlTpVndReln" parameterClass="Map"  resultClass="Map">
        SELECT 
            RCTVR.RTRN_CTRL_TP_VND_RELN_PK
        FROM 
            RTRN_CTRL_TP_VND_RELN RCTVR
           ,RTL_WH RW
        WHERE 
            RCTVR.EZCANCELFLAG = '0'
        AND RCTVR.GLBL_CMPY_CD = #glblCmpyCd#
        AND RCTVR.RTRN_CTRL_TP_CD = #rtrnCtrlTpCd#
        AND RCTVR.GLBL_CMPY_CD = RW.GLBL_CMPY_CD(+)
        AND RCTVR.EZCANCELFLAG = RW.EZCANCELFLAG(+)
        AND RCTVR.RTRN_WH_CD = RW.RTL_WH_CD(+)
        AND RW.EFF_FROM_DT(+) &lt;= #slsDt#
        AND NVL(RW.EFF_THRU_DT(+), '99991231') &gt;= #slsDt#
        <isNotNull property = "rtrnToVndCd">
        AND RCTVR.VND_CD = #rtrnToVndCd#
        </isNotNull>
        <isNull property = "rtrnToVndCd">
        AND RCTVR.VND_CD IS NULL
        </isNull>
        <isNotNull property = "rtrnWhCd">
        AND RCTVR.RTRN_WH_CD = #rtrnWhCd#
        </isNotNull>
        <isNull property = "rtrnWhCd">
        AND RCTVR.RTRN_WH_CD IS NULL
        </isNull>
    </statement>
    <statement id ="getPoVndV" parameterClass="Map"  resultClass="Map">
        SELECT 
            PVV.VND_CD
        FROM 
            PO_VND_V PVV
        WHERE 
            PVV.EZCANCELFLAG = '0'
        AND PVV.GLBL_CMPY_CD = #glblCmpyCd#
        <isNotNull property = "rtrnToVndCd">
        AND PVV.VND_CD = #rtrnToVndCd#
        </isNotNull>
        <isNull property = "rtrnToVndCd">
        AND PVV.VND_CD IS NULL
        </isNull>
        <isNotNull property = "rtrnToPrntVndCd">
        AND PVV.PRNT_VND_CD = #rtrnToPrntVndCd#
        </isNotNull>
        <isNull property = "rtrnToPrntVndCd">
        AND PVV.PRNT_VND_CD IS NULL
        </isNull>
    </statement>
    <!-- QC#10449 -->
    <statement id ="getRtlWh" parameterClass="Map"  resultClass="Map">
        SELECT
             RW.RTL_WH_CD
            ,RW.RTL_WH_NM
        FROM
            RTL_WH RW
        WHERE
            RW.EZCANCELFLAG = '0'
            AND RW.GLBL_CMPY_CD = #glblCmpyCd#
            AND RW.RTL_WH_CD = #rtlWhCd#
            AND RW.EFF_FROM_DT &lt;= #slsDt#
            AND NVL(RW.EFF_THRU_DT, '99991231') &gt;= #slsDt#
    </statement>
    <!-- QC#9823, QC#10129 -->
    <statement id="getCmpsn" parameterClass="Map" resultClass="Map">
        SELECT 
              C.CMPSN_PK
        FROM
              CMPSN C
        WHERE
                C.GLBL_CMPY_CD = #glblCmpyCd#
            AND C.EZCANCELFLAG = '0'
            AND C.PRNT_MDSE_CD = #mdseCd#
    </statement>

    <statement id="getSvcItemFlg" parameterClass="Map" resultClass="String">
        SELECT
                  CASE COUNT(V.GLBL_CMPY_CD) 
                    WHEN 0 THEN 'N' 
                    ELSE        'Y' 
                    END         SVC_ITEM_FLG 
            FROM
                ITEM_TP_VAL_SET V 
            WHERE
                V.GLBL_CMPY_CD              = #glblCmpyCd#
                AND V.ITEM_TP_CTX_TP_CD    IN (#CPO_SVC_MDSE_QLFY_ITEM_TP#, #CPO_SVC_ADDL_CHRG_QLFY_ITEM_TP#)
                AND V.MDSE_ITEM_TP_CD       = #mdseItemTpCd#
                AND V.EZCANCELFLAG          = '0'
    </statement>

    <!-- 2019/10/23 QC#51964 Add Start -->
    <statement id="getCoaAcct" parameterClass="Map" resultClass="Map">
            SELECT 
                B.COA_PROJ_ACCT_TP_CD
               ,B.COA_ACCT_CD
            FROM
                COA_PROJ_ACCT_TP A
               ,COA_PROJ_ACCT B
            WHERE 
                    A.INVTY_ACCT_FLG      = #invtyAcctFlgY#
                AND A.COA_PROJ_ACCT_TP_CD &lt;&gt; #projAcctTpCrRibl#
                AND A.GLBL_CMPY_CD        = #glblCmpyCd#
                AND A.EZCANCELFLAG        = '0'
                AND A.COA_PROJ_ACCT_TP_CD = B.COA_PROJ_ACCT_TP_CD
                AND A.GLBL_CMPY_CD        = B.GLBL_CMPY_CD
                AND A.EZCANCELFLAG        = B.EZCANCELFLAG
                AND B.COA_PROJ_CD         = #mdseTpCd#
            ORDER BY
                    B.COA_PROJ_ACCT_TP_CD
    </statement>
    <!-- 2019/10/23 QC#51964 Add End -->

    <!-- 2019/10/28 QC#53741 Add Start -->
    <statement id="getUbInInchLgUomCd" parameterClass="Map" resultClass="Map">
        SELECT
            PUBE.PKG_UOM_CD
          , PUBE.PKG_UOM_DESC_TXT
          , PUBE.IN_INCH_LG_DEF_FLG
        FROM
            PKG_UOM_BOX_EACH PUBE
        WHERE
            PUBE.GLBL_CMPY_CD          = #glblCmpyCd#
        AND PUBE.IN_INCH_LG_DPLY_FLG   = #dplyFlg#
        AND PUBE.EZCANCELFLAG          = '0'
    </statement>

    <statement id="getUbInInchWdtUomCd" parameterClass="Map" resultClass="Map">
        SELECT
            PUBE.PKG_UOM_CD
          , PUBE.PKG_UOM_DESC_TXT
          , PUBE.IN_INCH_WDT_DEF_FLG
        FROM
            PKG_UOM_BOX_EACH PUBE
        WHERE
            PUBE.GLBL_CMPY_CD          = #glblCmpyCd#
        AND PUBE.IN_INCH_WDT_DPLY_FLG  = #dplyFlg#
        AND PUBE.EZCANCELFLAG          = '0'
    </statement>

    <statement id="getUbInInchHgtUomCd" parameterClass="Map" resultClass="Map">
        SELECT
            PUBE.PKG_UOM_CD
          , PUBE.PKG_UOM_DESC_TXT
          , PUBE.IN_INCH_HGT_DEF_FLG
        FROM
            PKG_UOM_BOX_EACH PUBE
        WHERE
            PUBE.GLBL_CMPY_CD          = #glblCmpyCd#
        AND PUBE.IN_INCH_HGT_DPLY_FLG  = #dplyFlg#
        AND PUBE.EZCANCELFLAG          = '0'
    </statement>

    <statement id="getUbInPoundWtUomCd" parameterClass="Map" resultClass="Map">
        SELECT
            PUBE.PKG_UOM_CD
          , PUBE.PKG_UOM_DESC_TXT
          , PUBE.IN_POUND_WT_DEF_FLG
        FROM
            PKG_UOM_BOX_EACH PUBE
        WHERE
            PUBE.GLBL_CMPY_CD          = #glblCmpyCd#
        AND PUBE.IN_POUND_WT_DPLY_FLG  = #dplyFlg#
        AND PUBE.EZCANCELFLAG          = '0'
    </statement>
    <!-- 2019/10/28 QC#53741 Add End -->

    <!-- 2019/10/28 QC#51967 Add Start -->
    <statement id="findCoaMdseTpAcctReln" parameterClass="Map" resultClass="Map">
        SELECT
            CMTAR.COA_MDSE_TP_CD
          , CMTAR.COA_ACCT_CATG_CD
          , CMTAR.FROM_COA_ACCT_CD
          , CMTAR.TO_COA_ACCT_CD
        FROM
            COA_MDSE_TP_ACCT_RELN CMTAR
        WHERE
            CMTAR.GLBL_CMPY_CD       = #glblCmpyCd#
        AND CMTAR.COA_MDSE_TP_CD     = #coaMdseTpCd#
        AND CMTAR.COA_ACCT_CATG_CD   = #coaAcctCatgCd#
        <isNotNull property="coaAcctCd">
        AND (
            (    FROM_COA_ACCT_CD    = #coaAcctCd#
             AND TO_COA_ACCT_CD      IS NULL)
         OR (    FROM_COA_ACCT_CD    &lt;= SUBSTR(#coaAcctCd#, 0, LENGTH(FROM_COA_ACCT_CD))
             AND TO_COA_ACCT_CD      &gt;= SUBSTR(#coaAcctCd#, 0, LENGTH(TO_COA_ACCT_CD)))
            )
        </isNotNull>
        AND CMTAR.EZCANCELFLAG       = '0'
    </statement>
    <!-- 2019/10/28 QC#53741 Add End -->

    <!-- 2019/12/13 QC#54621 Add Start -->
    <statement id="getInventoryCount" parameterClass="Map" resultClass="BigDecimal">
            SELECT 
                COUNT(*) AS COUNT
            FROM
                INVTY A
            WHERE 
                    A.GLBL_CMPY_CD     = #glblCmpyCd#
                AND A.EZCANCELFLAG     = '0'
                AND A.MDSE_CD          = #mdseCd#
                AND A.INVTY_QTY        &lt;&gt; 0
    </statement>
    <!-- 2019/12/13 QC#54621 Add End -->

    <!-- 2020/01/07 QC#55220 Add Start -->
    <statement id="getActiveMdse" parameterClass="Map" resultClass="Map">
            SELECT 
                M.MDSE_CD MDSE_CD
            FROM
                MDSE M
            WHERE 
                M.GLBL_CMPY_CD = #glblCmpyCd#
            AND M.MDSE_CD      LIKE SUBSTR(#mdseCd#, 1, 8) || '%'
            <iterate property="mdseItemStsCd" var="mdseItemStsCd[]" open="AND M.MDSE_ITEM_STS_CD NOT IN (" close=" )" conjunction=",">
                #mdseItemStsCd[]#
            </iterate>
            AND M.EZCANCELFLAG = '0'
            ORDER BY
                M.MDSE_ITEM_ACTV_DT DESC NULLS LAST, M.MDSE_CD DESC
    </statement>
    <!-- 2020/01/07 QC#55220 Add End -->

    <!-- 2022/02/17 QC#59693 Add Start -->
    <statement id="getSourceTypePulldownList" parameterClass="Map" resultClass="Map">
        SELECT
            PROCR_TP_CD
           ,PROCR_TP_DESC_TXT
        FROM
            PROCR_TP
        WHERE
                GLBL_CMPY_CD  = #glblCmpyCd#
            AND MDSE_DPLY_FLG = #flgY#
            AND EZCANCELFLAG  = '0'
        ORDER BY
            PROCR_TP_SORT_NUM ASC
    </statement>
    <!-- 2022/02/17 QC#59693 Add End -->
    <!-- 2023/09/05 K.Watanabe QC#53408 Add Start -->
    <statement id ="getSvcIstlRuleList" parameterClass="Map"  resultClass="Map">
        SELECT 
            SIR.SVC_ISTL_RULE_NUM 
           ,SIR.SVC_ISTL_RULE_NM
        FROM 
            SVC_ISTL_RULE SIR
        WHERE 
            SIR.EZCANCELFLAG = '0'
        AND SIR.GLBL_CMPY_CD = #glblCmpyCd#
        <!-- 2023/12/12 K.Watanabe QC#61300 Add Start -->
        AND SIR.SVC_ISTL_RULE_FLG = #svcIstlRuleFlg#
        <!-- 2023/12/12 K.Watanabe QC#61300 Add End -->
    </statement>

    <statement id ="getSvcIstlCallGrpList" parameterClass="Map"  resultClass="Map">
        SELECT 
            SICG.SVC_ISTL_CALL_GRP_NUM 
           ,SICG.SVC_ISTL_CALL_GRP_NM
        FROM 
            SVC_ISTL_CALL_GRP SICG
        WHERE 
            SICG.EZCANCELFLAG = '0'
        AND SICG.GLBL_CMPY_CD = #glblCmpyCd#
        <!-- 2023/12/12 K.Watanabe QC#61300 Add Start -->
        AND SICG.SVC_ISTL_CALL_GRP_FLG = #svcIstlCallGrpFlg#
        <!-- 2023/12/12 K.Watanabe QC#61300 Add End -->
    </statement>
    <!-- 2023/09/05 K.Watanabe QC#53408 Add End -->
</sqlMap>
