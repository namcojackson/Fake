<?xml version="1.0" encoding="UTF-8"?>

<sqlMap namespace="NMAL6810Query">

    <typeAlias alias="NMAL6810_ASMsg"   type="business.blap.NMAL6810.NMAL6810_ASMsg"/>

    <resultMap id="result.getMdseCratTmpl"    class="NMAL6810_ASMsg">
        <result property="mdseCratTmplPk_A1"     column="MDSE_CRAT_TMPL_PK"      javaType="EZDSBigDecimalItem"/>
        <result property="mdseItemTpDescTxt_A1"  column="MDSE_ITEM_TP_DESC_TXT"  javaType="EZDCStringItem"/>
        <result property="mdseCratTmplNm_A1"     column="MDSE_CRAT_TMPL_NM"      javaType="EZDCStringItem"/>
        <result property="mdseItemTpCd_A1"       column="MDSE_ITEM_TP_CD"        javaType="EZDCStringItem"/>
    </resultMap>
    <statement id="getMdseCratTmpl" parameterClass="Map" resultMap="result.getMdseCratTmpl">
            SELECT
                 MDSE_CRAT_TMPL_PK
                ,MDSE_ITEM_TP_CD
                ,MDSE_ITEM_TP_DESC_TXT
                ,MDSE_CRAT_TMPL_NM
            FROM
                (
                    SELECT
                         A.MDSE_CRAT_TMPL_PK
                        ,A.MDSE_ITEM_TP_CD
                        ,B.MDSE_ITEM_TP_DESC_TXT
                        ,A.MDSE_CRAT_TMPL_NM
                    FROM
                         MDSE_CRAT_TMPL A
                        ,MDSE_ITEM_TP   B
                    WHERE
                            A.GLBL_CMPY_CD      =    #globalCmpyCd#
                        AND A.EZCANCELFLAG      =    '0'
                        AND A.GLBL_CMPY_CD      =    B.GLBL_CMPY_CD (+)
                        AND A.MDSE_ITEM_TP_CD   =    B.MDSE_ITEM_TP_CD (+)
                        AND B.EZCANCELFLAG (+)  =    '0'
                        <isNotNull property="mdseItemTpCd">
                        AND A.MDSE_ITEM_TP_CD   =    #mdseItemTpCd#
                        </isNotNull>
                        <isNotNull property="mdseCratTmplNm">
                        AND A.MDSE_CRAT_TMPL_NM LIKE #mdseCratTmplNm#
                        </isNotNull>
                    ORDER BY
                         A.MDSE_ITEM_TP_CD
                        ,A.MDSE_CRAT_TMPL_NM
                ) TMP
            WHERE
                ROWNUM &lt;= #rowNum#
    </statement>
</sqlMap>

