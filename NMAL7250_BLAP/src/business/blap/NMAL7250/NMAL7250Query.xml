<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NMAL7250Query">

    <typeAlias alias="NMAL7250SMsg"    type="business.blap.NMAL7250.NMAL7250SMsg"/>
    <typeAlias alias="NMAL7250_ASMsg"  type="business.blap.NMAL7250.NMAL7250_ASMsg"/>

    <statement id="searchPrcAdjustList" parameterClass="Map" resultMap="result.searchPrcAdjustList">
        WITH PRC_RULE_INFO AS (
        SELECT 
            PRH.GLBL_CMPY_CD AS GLBL_CMPY_CD
            ,PRH.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
            ,PRH.PRC_RULE_NM     AS PRC_RULE_NM
            ,PRH.APPLY_AUTO_FLG  AS APPLY_AUTO_FLG
            ,CASE
                 WHEN PRH.APPLY_AUTO_FLG = #flgY#
                 THEN #flgYDisplay#
                 WHEN PRH.APPLY_AUTO_FLG = #flgN#
                 THEN #flgNDisplay#
             END AS APPLY_AUTO_FLG_DISPLAY
            ,PRH.OVRD_FLG        AS OVRD_FLG
            ,CASE
                 WHEN PRH.OVRD_FLG = #flgY#
                 THEN #flgYDisplay#
                 WHEN PRH.OVRD_FLG = #flgN#
                 THEN #flgNDisplay#
             END AS OVRD_FLG_DISPLAY
            ,PRH.ACTV_FLG        AS ACTV_FLG
            ,PRH.DEL_FLG         AS DEL_FLG
            ,PRH.EFF_FROM_DT     AS EFF_FROM_DT
            ,PRH.EFF_THRU_DT     AS EFF_THRU_DT
            ,CASE
                 WHEN PRH.ACTV_FLG = #flgY# AND PRH.DEL_FLG = #flgN#
                     AND  PRH.EFF_FROM_DT &lt;= #slsDt# AND NVL(PRH.EFF_THRU_DT, #highValDt#) &gt;= #slsDt#
                     THEN #active#
                 WHEN (PRH.ACTV_FLG = #flgN# AND PRH.DEL_FLG = #flgN#)
                     OR   (PRH.ACTV_FLG = #flgY# AND PRH.DEL_FLG = #flgN#)
                         AND (PRH.EFF_FROM_DT  &gt; #slsDt# OR NVL(PRH.EFF_THRU_DT, #highValDt#)  &lt; #slsDt#)
                     THEN #inactive#
                 WHEN PRH.DEL_FLG = #flgY#
                     THEN #delete#
                 ELSE #none#
             END AS ACTV_FLG_DISPLAY
            ,PRH.DEF_RULE_PRCD_NUM AS DEF_RULE_PRCD_NUM
            ,PRT.PRC_RULE_COND_TP_CD AS PRC_RULE_COND_TP_CD
            ,PRT.PRC_RULE_COND_TP_DESC_TXT AS PRC_RULE_COND_TP_DESC_TXT
            ,LBT.LINE_BIZ_TP_DESC_TXT AS LINE_BIZ_TP_DESC_TXT
            ,PRC.PRC_RULE_CATG_DESC_TXT AS PRC_RULE_CATG_DESC_TXT
        FROM 
            PRC_RULE_HDR     PRH
            ,PRC_RULE_COND_TP PRT
            ,LINE_BIZ_TP      LBT
            ,PRC_RULE_CATG    PRC
        WHERE 
            PRH.GLBL_CMPY_CD        = #glblCmpyCd#
        AND PRH.EZCANCELFLAG        = '0'
        AND PRH.PRC_RULE_COND_TP_CD = PRT.PRC_RULE_COND_TP_CD
        AND LBT.GLBL_CMPY_CD        = PRH.GLBL_CMPY_CD
        AND LBT.EZCANCELFLAG        = '0'
        AND PRH.LINE_BIZ_TP_CD      = LBT.LINE_BIZ_TP_CD
        AND PRH.PRC_RULE_CATG_CD    = PRC.PRC_RULE_CATG_CD
        <isNotNull property="prcRuleNm">
            AND PRH.PRC_RULE_NM  LIKE #prcRuleNm#
        </isNotNull>
        <isNotNull property="defRulePrcdNum">
            AND PRH.DEF_RULE_PRCD_NUM  LIKE #defRulePrcdNum#
        </isNotNull>
        <isNotNull property="prcRuleCatgCd">
            AND PRH.PRC_RULE_CATG_CD = #prcRuleCatgCd#
        </isNotNull>
        <isNotNull property="prcRuleTrxCatgCd">
            AND PRH.PRC_RULE_TRX_CATG_CD = #prcRuleTrxCatgCd#
        </isNotNull>
        <isNotNull property="effFromDt">
            AND PRH.EFF_FROM_DT &gt;= #effFromDt#
        </isNotNull>
        <isNotNull property="effThruDt">
            AND NVL(PRH.EFF_THRU_DT, #highValDt#) &lt;= #effThruDt#
        </isNotNull>
        <isNotNull property="prcRuleCondTpCd">
            AND PRH.PRC_RULE_COND_TP_CD = #prcRuleCondTpCd#
        </isNotNull>
        <isNotNull property="lineBizTpCd">
            AND PRH.LINE_BIZ_TP_CD = #lineBizTpCd#
        </isNotNull>
        )
        <isEqual property="attrbFlg" compareValue="Y">
        , PRC_RULE_ATTRB AS (
        SELECT 
              PRTC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PRTC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_RULE_TRX_COND PRTC
        WHERE 
            PRTC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PRTC.EZCANCELFLAG = '0'
        AND PRTC.PRC_RULE_ATTRB_CD = #prcRuleAttrbCd#
        <isNotNull property="prcRuleCondFromTxt">
        AND CASE WHEN PRTC.PRC_RULE_COND_THRU_TXT IS NULL 
            THEN
              CASE WHEN PRC_RULE_COND_FROM_TXT = #prcRuleCondFromTxt# THEN 1 ELSE 0 END
            ELSE
              CASE WHEN #prcRuleCondFromTxt# BETWEEN PRTC.PRC_RULE_COND_FROM_TXT AND PRTC.PRC_RULE_COND_THRU_TXT THEN 1 ELSE 0 END
            END = 1
        </isNotNull>
        UNION ALL
        SELECT
              PAC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM
            PRC_ADJ_COND PAC
        WHERE
            PAC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAC.EZCANCELFLAG = '0'
        AND PAC.PRC_RULE_ATTRB_CD = #prcRuleAttrbCd#
        <isNotNull property="itemPrcRuleCondFromTxt">
        AND EXISTS (
            SELECT 1 
            FROM PRC_ADJ_DTL PAD
            WHERE  PAC.GLBL_CMPY_CD = PAD.GLBL_CMPY_CD
            AND    PAC.EZCANCELFLAG = PAD.EZCANCELFLAG
            AND    PAC.PRC_RULE_HDR_PK = PAD.PRC_RULE_HDR_PK
            <isNull property="itemPrcRuleCondThruTxt">
            AND  PAD.$itemPrcRuleCondFromTxt$ = #prcRuleCondFromTxt#
            </isNull>
            <isNotNull property="itemPrcRuleCondThruTxt">
            AND  #prcRuleCondFromTxt# BETWEEN PAD.$itemPrcRuleCondFromTxt$ AND PAD.$itemPrcRuleCondThruTxt$
            </isNotNull>
        )
        </isNotNull>
        )
        </isEqual>
        <isEqual property="ordCatgFlg" compareValue="Y">
        , PRC_RULE_ORD_CATG AS (
        SELECT 
            PRTC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PRTC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_RULE_TRX_COND PRTC
        WHERE 
            PRTC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PRTC.EZCANCELFLAG = '0'
        AND PRTC.PRC_RULE_ATTRB_CD = #prcRuleAttrbCdOrderCategory#
        AND PRTC.PRC_RULE_COND_FROM_TXT = #dsOrdCatgCd#
        UNION ALL
        SELECT 
            PAD.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAD.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_ADJ_DTL PAD
        WHERE 
            PAD.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAD.EZCANCELFLAG = '0'
        AND PAD.PRC_RULE_COND_FROM_TXT_11 = #dsOrdCatgCd#
        )
        </isEqual>
        <isEqual property="ordTpFlg" compareValue="Y">
        , PRC_RULE_ORD_TP AS (
        SELECT 
            PRTC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PRTC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_RULE_TRX_COND PRTC
        WHERE 
            PRTC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PRTC.EZCANCELFLAG = '0'
        AND PRTC.PRC_RULE_ATTRB_CD = #prcRuleAttrbCdOrderReason#
        AND PRTC.PRC_RULE_COND_FROM_TXT = #dsOrdTpCd#
        UNION ALL
        SELECT 
            PAD.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAD.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_ADJ_DTL PAD
        WHERE 
            PAD.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAD.EZCANCELFLAG = '0'
        AND PAD.PRC_RULE_COND_FROM_TXT_12 = #dsOrdTpCd#
        )
        </isEqual>
        <isEqual property="acctFlg" compareValue="Y">
        , PRC_ACCT_INFO AS (
        SELECT
            PRTC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PRTC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_RULE_TRX_COND PRTC
        <isNotNull property="dsAcctNm">
            , SELL_TO_CUST S
        </isNotNull>
        WHERE 
            PRTC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PRTC.EZCANCELFLAG = '0'
        AND PRTC.PRC_RULE_ATTRB_CD in (#prcRuleAttrbCdShipToAcct#, #prcRuleAttrbCdBillToAcct#, #prcRuleAttrbCdSoldToAcct#)
        <isNotNull property="dsAcctNum">
             AND PRTC.PRC_RULE_COND_FROM_TXT = #dsAcctNum#
        </isNotNull>
        <isNotNull property="dsAcctNm">
             AND S.GLBL_CMPY_CD = PRTC.GLBL_CMPY_CD
             AND S.SELL_TO_CUST_CD = PRTC.PRC_RULE_COND_FROM_TXT
             AND S.DS_ACCT_NM LIKE #dsAcctNm#
        </isNotNull>
        UNION ALL
        SELECT 
            PAD.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAD.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_ADJ_DTL PAD
        WHERE 
            PAD.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAD.EZCANCELFLAG = '0'
        <isNotNull property="dsAcctNum">
        AND (  PAD.PRC_RULE_COND_FROM_TXT_16 = #dsAcctNum# 
            OR PAD.PRC_RULE_COND_FROM_TXT_54 = #dsAcctNum# 
            )
        </isNotNull>
        <isNotNull property="dsAcctNm">
        AND ( EXISTS (
                 SELECT 1 FROM SELL_TO_CUST S
                 WHERE S.GLBL_CMPY_CD = PAD.GLBL_CMPY_CD
                 AND   S.EZCANCELFLAG = PAD.EZCANCELFLAG
                 AND   S.SELL_TO_CUST_CD = PAD.PRC_RULE_COND_FROM_TXT_16
                 AND   S.DS_ACCT_NM LIKE #dsAcctNm#
              )
           OR EXISTS (
                 SELECT 1 FROM SELL_TO_CUST S
                 WHERE S.GLBL_CMPY_CD = PAD.GLBL_CMPY_CD
                 AND   S.EZCANCELFLAG = PAD.EZCANCELFLAG
                 AND   S.SELL_TO_CUST_CD = PAD.PRC_RULE_COND_FROM_TXT_54
                 AND   S.DS_ACCT_NM LIKE #dsAcctNm#
              )
        )
        </isNotNull>
        )
        </isEqual>
        <isEqual property="csmpFlg" compareValue="Y">
        , PRC_RULE_CSMP AS (
        SELECT 
            PRTC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PRTC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_RULE_TRX_COND PRTC
        WHERE 
            PRTC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PRTC.EZCANCELFLAG = '0'
        AND PRTC.PRC_RULE_ATTRB_CD = #prcRuleAttrbCdCsmpNum#
        AND PRTC.PRC_RULE_COND_FROM_TXT = #csmpNum#
        UNION ALL
        SELECT 
            PAD.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAD.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_ADJ_DTL PAD
        WHERE 
            PAD.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAD.EZCANCELFLAG = '0'
        AND PAD.PRC_RULE_COND_FROM_TXT_04 = #csmpNum#
        )
        </isEqual>
        <isEqual property="grpFlg" compareValue="Y">
        , PRC_RULE_GRP AS (
        SELECT 
            PRTC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PRTC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_RULE_TRX_COND PRTC
            , PRC_GRP PG
        WHERE 
            PRTC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PRTC.EZCANCELFLAG = '0'
        <isNotNull property="prcGrpPkCG">
             AND PG.GLBL_CMPY_CD = PRTC.GLBL_CMPY_CD
             AND PG.PRC_GRP_TP_CD = #prcGrpTpCdCustGrp#
             AND PG.PRC_GRP_PK = #prcGrpPkCG#
             AND PRTC.PRC_RULE_ATTRB_CD in (#prcRuleAttrbCdCustGrp#, #prcRuleAttrbCdCustGrpShipTo#, #prcRuleAttrbCdCustGrpSoldTo#)
             AND PRTC.PRC_RULE_COND_FROM_TXT = TO_CHAR(PG.PRC_GRP_PK)
        </isNotNull>
        <isNotNull property="prcGrpPkMA">
             AND PG.GLBL_CMPY_CD = PRTC.GLBL_CMPY_CD
             AND PG.PRC_GRP_TP_CD = #prcGrpTpCdMatGrp#
             AND PG.PRC_GRP_PK = #prcGrpPkMA#
             AND PRTC.PRC_RULE_ATTRB_CD = #prcRuleAttrbCdMatGrp#
             AND PRTC.PRC_RULE_COND_FROM_TXT = TO_CHAR(PG.PRC_GRP_PK)
        </isNotNull>
        <isNotNull property="prcGrpPkCG">
        UNION ALL
        SELECT 
            PAD.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAD.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_ADJ_DTL PAD
        WHERE 
            PAD.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAD.EZCANCELFLAG = '0'
        AND PAD.PRC_RULE_COND_FROM_TXT_53 = TO_CHAR(#prcGrpPkCG#)
        </isNotNull>
        <isNotNull property="prcGrpPkMA">
        UNION ALL
        SELECT 
            PAD.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAD.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_ADJ_DTL PAD
        WHERE 
            PAD.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAD.EZCANCELFLAG = '0'
        AND PAD.PRC_RULE_COND_FROM_TXT_05 = TO_CHAR(#prcGrpPkMA#)
        </isNotNull>
        )
        </isEqual>
        <isEqual property="coaBrFlg" compareValue="Y">
        , PRC_RULE_COA_BR AS (
        SELECT 
            PRTC.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PRTC.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_RULE_TRX_COND PRTC
        WHERE 
            PRTC.GLBL_CMPY_CD = #glblCmpyCd#
        AND PRTC.EZCANCELFLAG = '0'
        AND PRTC.PRC_RULE_ATTRB_CD = #prcRuleAttrbCdBranch#
        AND PRTC.PRC_RULE_COND_FROM_TXT = #coaBrCd#
        UNION ALL
        SELECT 
            PAD.GLBL_CMPY_CD AS GLBL_CMPY_CD
            , PAD.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
        FROM 
            PRC_ADJ_DTL PAD
        WHERE 
            PAD.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAD.EZCANCELFLAG = '0'
        AND PAD.PRC_RULE_COND_FROM_TXT_19 = #coaBrCd#
        )
        </isEqual>
        SELECT 
            PRI.PRC_RULE_HDR_PK AS PRC_RULE_HDR_PK
            , PRI.PRC_RULE_NM AS PRC_RULE_NM
            , PRI.APPLY_AUTO_FLG AS APPLY_AUTO
            , PRI.APPLY_AUTO_FLG_DISPLAY AS APPLY_AUTO_FLG_DISPLAY
            , PRI.OVRD_FLG AS OVRD_FLG
            , PRI.OVRD_FLG_DISPLAY AS OVRD_FLG_DISPLAY
            , PRI.ACTV_FLG AS ACTV_FLG
            , PRI.DEL_FLG AS DEL_FLG
            , PRI.DEF_RULE_PRCD_NUM AS DEF_RULE_PRCD_NUM
            , PRI.EFF_FROM_DT AS EFF_FROM_DT
            , PRI.EFF_THRU_DT AS EFF_THRU_DT
            , PRI.ACTV_FLG_DISPLAY AS ACTV_FLG_DISPLAY
            , PRI.PRC_RULE_COND_TP_CD AS PRC_RULE_COND_TP_CD
            , PRI.PRC_RULE_COND_TP_DESC_TXT AS PRC_RULE_COND_TP_DESC_TXT
            , PRI.LINE_BIZ_TP_DESC_TXT AS LINE_BIZ_TP_DESC_TXT
            , PRI.PRC_RULE_CATG_DESC_TXT AS PRC_RULE_CATG_DESC_TXT
         FROM PRC_RULE_INFO PRI
         WHERE 
                PRI.GLBL_CMPY_CD = #glblCmpyCd#
        <isEqual property="attrbFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_RULE_ATTRB PRA
                WHERE
                      PRI.GLBL_CMPY_CD = PRA.GLBL_CMPY_CD
                AND   PRI.PRC_RULE_HDR_PK = PRA.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="ordCatgFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_RULE_ORD_CATG PROC
                WHERE
                      PRI.GLBL_CMPY_CD = PROC.GLBL_CMPY_CD
                  AND PRI.PRC_RULE_HDR_PK  = PROC.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="ordTpFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_RULE_ORD_TP PROT
                WHERE
                      PRI.GLBL_CMPY_CD = PROT.GLBL_CMPY_CD
                AND   PRI.PRC_RULE_HDR_PK = PROT.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="acctFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_ACCT_INFO PAI
                WHERE
                      PRI.GLBL_CMPY_CD = PAI.GLBL_CMPY_CD
                  AND PRI.PRC_RULE_HDR_PK  = PAI.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="csmpFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_RULE_CSMP PRC
                WHERE
                      PRI.GLBL_CMPY_CD = PRC.GLBL_CMPY_CD
                  AND PRI.PRC_RULE_HDR_PK  = PRC.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="grpFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_RULE_GRP PRG
                WHERE
                      PRI.GLBL_CMPY_CD = PRG.GLBL_CMPY_CD
                  AND PRI.PRC_RULE_HDR_PK  = PRG.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="coaBrFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_RULE_COA_BR PRB
                WHERE
                      PRI.GLBL_CMPY_CD = PRB.GLBL_CMPY_CD
                  AND PRI.PRC_RULE_HDR_PK  = PRB.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="lineBizTpFlg" compareValue="Y">
            AND EXISTS(
                SELECT 1 FROM PRC_RULE_LINE_BIZ_TP PRL
                WHERE
                      PRI.GLBL_CMPY_CD = PRL.GLBL_CMPY_CD
                  AND PRI.PRC_RULE_HDR_PK  = PRL.PRC_RULE_HDR_PK
            )
        </isEqual>
        <isEqual property="prcDispRecTpCd" compareValue="01">
            AND PRI.ACTV_FLG_DISPLAY = #active#
        </isEqual>
        <isEqual property="prcDispRecTpCd" compareValue="02">
            AND PRI.ACTV_FLG_DISPLAY = #inactive#
        </isEqual>
        <isEqual property="prcDispRecTpCd" compareValue="03">
            AND PRI.ACTV_FLG_DISPLAY = #delete#
        </isEqual>
        <isEqual property="prcDispRecTpCd" compareValue="04">
            AND PRI.ACTV_FLG_DISPLAY IN (#active#, #inactive#)
        </isEqual>
            ORDER BY PRI.PRC_RULE_HDR_PK
    </statement>
    <resultMap id="result.searchPrcAdjustList" class="NMAL7250_ASMsg">
        <result property="prcRuleHdrPk_A1"         column="PRC_RULE_HDR_PK"           javaType="EZDSBigDecimalItem"/>
        <result property="prcRuleNm_A1"            column="PRC_RULE_NM"               javaType="EZDSStringItem"/>
        <result property="prcRuleCondTpCd_A1"      column="PRC_RULE_COND_TP_CD"       javaType="EZDSStringItem"/>
        <result property="prcRuleCondTpDescTxt_A1" column="PRC_RULE_COND_TP_DESC_TXT" javaType="EZDSStringItem"/>
        <result property="lineBizTpDescTxt_A1"     column="LINE_BIZ_TP_DESC_TXT"      javaType="EZDSStringItem"/>
        <result property="prcRuleCatgDescTxt_A1"   column="PRC_RULE_CATG_DESC_TXT"    javaType="EZDSStringItem"/>
        <result property="applyAutoFlg_A1"         column="APPLY_AUTO"                javaType="EZDSStringItem"/>
        <result property="xxFlgNm_AP"              column="APPLY_AUTO_FLG_DISPLAY"    javaType="EZDSStringItem"/>
        <result property="ovrdFlg_A1"              column="OVRD_FLG"                  javaType="EZDSStringItem"/>
        <result property="xxFlgNm_OV"              column="OVRD_FLG_DISPLAY"          javaType="EZDSStringItem"/>
        <result property="actvFlg_A1"              column="ACTV_FLG"                  javaType="EZDSStringItem"/>
        <result property="delFlg_A1"               column="DEL_FLG"                   javaType="EZDSStringItem"/>
        <result property="prcDispRecTpDescTxt_A1"  column="ACTV_FLG_DISPLAY"          javaType="EZDSStringItem"/>
        <result property="defRulePrcdNum_A1"       column="DEF_RULE_PRCD_NUM"         javaType="EZDSStringItem"/>
        <result property="effFromDt_A1"            column="EFF_FROM_DT"               javaType="EZDSStringItem"/>
        <result property="effThruDt_A1"            column="EFF_THRU_DT"               javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSavedSearchOptionList" parameterClass="Map" resultClass="Map">
        SELECT
                  SSO.SRCH_OPT_PK
                , SSO.SRCH_OPT_NM
            FROM
                SAVE_SRCH_OPT SSO 
            WHERE
                SSO.GLBL_CMPY_CD        = #glblCmpyCd#
                AND SSO.SRCH_OPT_APL_ID = #srchOptAplId#
                AND SSO.SRCH_OPT_USR_ID = #srchOptUsrId#
                AND SSO.EZCANCELFLAG    = '0'
            ORDER BY
                  SSO.SRCH_OPT_NM
    </statement>
    
    <!-- Add Start 2018/04/04 QC#25206 -->
    <statement id="getPullPrcRuleAttrbList" parameterClass="Map" resultClass="Map">
        SELECT
              PRA.PRC_RULE_ATTRB_CD
            , PRA.PRC_RULE_ATTRB_DESC_TXT 
        FROM
              PRC_RULE_ATTRB PRA 
        WHERE
                PRA.GLBL_CMPY_CD          = #glblCmpyCd# 
            AND PRA.EZCANCELFLAG          = '0' 
            AND PRA.PRC_RULE_ATTRB_CD NOT IN
            <iterate property="prcRuleAttrbCdList" var="prcRuleAttrbCd[]" open="(" close=")" conjunction=",">
                    #prcRuleAttrbCd[]#
            </iterate>
        ORDER BY
              PRA.PRC_RULE_ATTRB_CD ASC

    </statement>
    <!-- Add End 2018/04/04 QC#25206 -->
</sqlMap>
