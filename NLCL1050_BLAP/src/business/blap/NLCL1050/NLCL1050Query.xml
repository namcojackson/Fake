<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NLCL1050Query">

    <statement id="getAbcAnlsClsList" parameterClass="Map" resultClass="BigDecimal">
        SELECT COUNT(ABC_ANLS_CLS_NUM) COUNT
        FROM   ABC_ANLS_CLS AAC
        WHERE  1 = 1
        AND    AAC.GLBL_CMPY_CD      = #glblCmpyCd#
        AND    AAC.ABC_ANLS_CLS_NM   = #abcAnlsClsNm#
        AND    AAC.EZCANCELFLAG      = '0'
    </statement>

    <statement id="checkAbcAnlsAsg" parameterClass="Map" resultClass="BigDecimal">
        SELECT COUNT(ABC_ASG_PK)
        FROM ABC_ASG
        WHERE 1 = 1
        AND   GLBL_CMPY_CD = #glblCmpyCd#
        AND   ABC_ANLS_CLS_NUM = #abcAnlsClsNum#
        AND   EZCANCELFLAG = '0'
    </statement>

    <statement id="checkAbcAnlsRslt" parameterClass="Map" resultClass="BigDecimal">
        SELECT COUNT(ABC_ANLS_RSLT_PK)
        FROM ABC_ANLS_RSLT
        WHERE 1 = 1
        AND   GLBL_CMPY_CD = #glblCmpyCd#
        AND   ABC_ANLS_CLS_NUM = #abcAnlsClsNum#
        AND   ABC_ANLS_LTST_FLG = 'Y'
        AND   EZCANCELFLAG = '0'
    </statement>

    <statement id="getAbcAnlsClsListInfo" parameterClass="Map" resultClass="Map">
        SELECT
            AAC.ABC_ANLS_CLS_NM
           ,AAC.ABC_ANLS_CLS_NUM
           ,AAC.ABC_ANLS_CLS_PRTY_NUM
           ,AAC.ABC_ANLS_CLS_TAG_CD
           ,AAC.ABC_ANLS_CLS_TAG_DESC_TXT
           ,AAC.CYCLE_CNT_FREQ_DAYS_AOT
           ,AAC.VAL_ASG_PCT
           ,AAC.EZUPTIME
           ,AAC.EZUPTIMEZONE
        FROM
            ABC_ANLS_CLS AAC
        WHERE
            AAC.GLBL_CMPY_CD      = #glblCmpyCd#
        <isNotNull property="abcAnlsClsNm">
        AND AAC.ABC_ANLS_CLS_NM   = #abcAnlsClsNm#
        </isNotNull>
        <isNotNull property="abcAnlsClsNum">
        AND AAC.ABC_ANLS_CLS_NUM  = #abcAnlsClsNum#
        </isNotNull>
        AND AAC.EZCANCELFLAG      = '0'
        ORDER BY
            AAC.ABC_ANLS_CLS_PRTY_NUM
    </statement>

</sqlMap>
