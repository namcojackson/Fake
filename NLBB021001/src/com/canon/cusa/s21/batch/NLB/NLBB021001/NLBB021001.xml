<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NLBB021001">
	<statement id="getTargetAddrData"  parameterClass="Map" resultClass="Map">
        SELECT
             PAW.GLBL_CMPY_CD
            ,PAW.EDI_TRX_ID
            ,PAW.EDI_SQ_ID
            ,PAW.ERR_MSG_CD
            ,PAW.PROC_STS_CD
            ,PAW.EDI_TP_CD
            ,PAW.EDI_GS_CTRL_CD
            ,PAW.EDI_ST_CTRL_CD
            ,PAW.EDI_SHPPR_NM
            ,PAW.EDI_SHPPR_ADDR
            ,PAW.EDI_SHPPR_CTY_NM
            ,PAW.EDI_SHPPR_ST_CD
            ,PAW.EDI_SHPPR_POST_CD
            ,PAW.EDI_BILL_TO_PTY_NM
            ,PAW.EDI_BILL_TO_PTY_ADDR
            ,PAW.EDI_BILL_TO_PTY_CTY_NM
            ,PAW.EDI_BILL_TO_PTY_ST_CD
            ,PAW.EDI_BILL_TO_PTY_POST_CD
            ,PAW.EDI_CNSGN_NM
            ,PAW.EDI_CNSGN_ADDR
            ,PAW.EDI_CNSGN_CTY_NM
            ,PAW.EDI_CNSGN_ST_CD
            ,PAW.EDI_CNSGN_POST_CD
            ,PAW.POD_SRC_TP_CD
        FROM
            POD_ADDR_WRK PAW
        WHERE 
            PAW.GLBL_CMPY_CD = #glblCmpyCd#
        AND PAW.PROC_STS_CD  = #procStsCd#
        AND PAW.EZCANCELFLAG = '0'
        ORDER BY 
              PAW.EDI_GS_CTRL_CD
            , PAW.EDI_ST_CTRL_CD
	</statement>
	
	<statement id="getTargetStsData"  parameterClass="Map" resultClass="Map">
        SELECT
             PSW.GLBL_CMPY_CD
            ,PSW.EDI_TRX_ID
            ,PSW.EDI_SQ_ID
            ,PSW.ERR_MSG_CD
            ,PSW.PROC_STS_CD
            ,PSW.EDI_TP_CD
            ,PSW.EDI_GS_CTRL_CD
            ,PSW.EDI_ST_CTRL_CD
            ,PSW.EDI_LN_CTRL_CD
            ,PSW.EDI_PRO_NUM
            ,PSW.EDI_STS_CD
            ,PSW.EDI_STS_DT
            ,PSW.EDI_STS_TM
            ,PSW.EDI_TM_CD
            ,PSW.EDI_STS_RSN_CD
            ,PSW.EDI_STS_CTY_NM
            ,PSW.EDI_STS_ST_CD
            ,PSW.EDI_CNTNR_NUM
            ,PSW.EDI_WT
            ,PSW.EDI_WT_UNIT_CD
            ,PSW.EDI_LOAD_QTY
            ,PSW.EDI_PKG_CD
            ,PSW.EDI_NET_AMT
            ,PSW.EDI_EX_CD
            ,PSW.EDI_EX_PKG_CD
            ,PSW.EDI_EX_LOAD_QTY
            ,PSW.EDI_SGN_CD
            ,PSW.EDI_CTAC_TXT
            ,PSW.EDI_PICK_UP_DT
            ,PSW.EDI_PICK_UP_TM
            ,PSW.EDI_CENT_CD
            ,PSW.EDI_UCC_CD
        FROM
            POD_STS_WRK PSW
        WHERE
            PSW.GLBL_CMPY_CD    = #glblCmpyCd#
        AND PSW.PROC_STS_CD     = #procStsCd#
        AND PSW.EDI_GS_CTRL_CD  = #ediGsCtrlCd#
        AND PSW.EDI_ST_CTRL_CD  = #ediStCtrlCd#
        AND PSW.EZCANCELFLAG    = '0'
        ORDER BY 
             PSW.EDI_GS_CTRL_CD
            ,PSW.EDI_ST_CTRL_CD
            ,PSW.EDI_LN_CTRL_CD
	</statement>
	
	<statement id="checkCarrCd"  parameterClass="Map" resultClass="String">
        SELECT
        	ETR.CARR_CD
        FROM
            EDI_TP_RELN ETR
        WHERE 
            ETR.GLBL_CMPY_CD = #glblCmpyCd#
        AND ETR.EDI_TP_CD    = #ediTpCd#
        AND ETR.EZCANCELFLAG = '0'
        AND ROWNUM       = 1
	</statement>
	<statement id="checkPodStsCd"  parameterClass="Map" resultClass="BigDecimal">
        SELECT
        	COUNT(*)
        FROM
            POD_STS PS
        WHERE 
            PS.GLBL_CMPY_CD = #glblCmpyCd#
        AND PS.POD_STS_CD   = #podStsCd#
        AND PS.EZCANCELFLAG = '0'
	</statement>
</sqlMap>
