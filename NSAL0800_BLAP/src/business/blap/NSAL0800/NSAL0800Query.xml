<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NSAL0800Query">

    <statement id="getDsContrIntfcDefRule" parameterClass="Map" resultClass="Map">
        SELECT
            DCIDR.CONTR_INTFC_SRC_TP_CD      CONTR_INTFC_SRC_TP_CD
           ,DCIDR.EFF_FROM_DT                EFF_FROM_DT
           ,DCIDR.ENBL_FLG                   ENBL_FLG
           ,DCIDR.MTR_EST_TP_CD              MTR_EST_TP_CD
           ,DCIDR.BASE_BLLG_CYCLE_CD         BASE_BLLG_CYCLE_CD
           ,DCIDR.MTR_BLLG_CYCLE_CD          MTR_BLLG_CYCLE_CD
           ,DCIDR.INV_SEPT_BASE_USG_FLG      INV_SEPT_BASE_USG_FLG
           ,DCIDR.PRC_ALLOC_BY_MACH_QTY_FLG  PRC_ALLOC_BY_MACH_QTY_FLG
           ,DCIDR.CONTR_UPLFT_TP_CD          CONTR_UPLFT_TP_CD
           ,DCIDR.UPLFT_PRC_METH_CD          UPLFT_PRC_METH_CD
           ,DCIDR.UPLFT_BASE_PRC_UP_RATIO    UPLFT_BASE_PRC_UP_RATIO
           ,DCIDR.UPLFT_MTR_PRC_UP_RATIO     UPLFT_MTR_PRC_UP_RATIO
           ,DCIDR.BLLG_THRU_TP_CD            BLLG_THRU_TP_CD
           ,DCIDR.BLLG_THRU_DT               BLLG_THRU_DT
           ,DCIDR.STUB_PREP_FROM_TP_CD       STUB_PREP_FROM_TP_CD
           ,DCIDR.STUB_PREP_THRU_TP_CD       STUB_PREP_THRU_TP_CD
           ,DCIDR.AUTO_EFF_FLEET_FLG         AUTO_EFF_FLEET_FLG
           ,DCIDR.AUTO_EFF_AGGR_FLG          AUTO_EFF_AGGR_FLG
           ,DCIDR.LEASE_CMPY_CD              LEASE_CMPY_CD
           ,DCIDR.MTR_READ_METH_CD           MTR_READ_METH_CD
           ,DCIDR.DS_CONTR_SLS_CR_TP_CD      DS_CONTR_SLS_CR_TP_CD
           ,DCIDR.CONTR_AUTO_RNW_TP_CD       CONTR_AUTO_RNW_TP_CD
           ,DCIDR.RNW_PRC_METH_CD            RNW_PRC_METH_CD
           ,DCIDR.BEF_END_RNW_DAYS_AOT       BEF_END_RNW_DAYS_AOT
           ,DCIDR.BASE_PRC_UP_RATIO          BASE_PRC_UP_RATIO
           ,DCIDR.MTR_PRC_UP_RATIO           MTR_PRC_UP_RATIO
           ,DCIDR.START_READ_VLD_TP_CD       START_READ_VLD_TP_CD
           ,DCIDR.MTR_READ_WIN_DAYS_AOT      MTR_READ_WIN_DAYS_AOT
           ,DCIDR.ALLW_DATA_CRCT_FLG         ALLW_DATA_CRCT_FLG
           ,DCIDR.DS_CONTR_CLS_CD            DS_CONTR_CLS_CD
           ,DCIDR.CONTR_CLO_DAY              CONTR_CLO_DAY
           ,DCIDR.CONTR_BLLG_DAY             CONTR_BLLG_DAY
           ,DCIDR.BLLG_ROLL_OVER_RATIO       BLLG_ROLL_OVER_RATIO
           ,DCIDR.PRINT_DTL_FLG              PRINT_DTL_FLG
           <!-- QC#18799 ADD START -->
           ,DCIDR.SVC_LINE_BIZ_CD            SVC_LINE_BIZ_CD
           ,DCIDR.BLLG_LIMIT_AMT             BLLG_LIMIT_AMT
           ,DCIDR.MTR_READ_WIN_MLY_DAYS_AOT  MTR_READ_WIN_MLY_DAYS_AOT
           ,DCIDR.MTR_READ_WIN_OTH_DAYS_AOT  MTR_READ_WIN_OTH_DAYS_AOT
           ,DCIDR.BEF_END_UPLFT_DAYS_AOT     BEF_END_UPLFT_DAYS_AOT
           ,DCIDR.BASE_BLLG_TMG_CD           BASE_BLLG_TMG_CD
           ,DCIDR.ISTL_CALL_MTR_READ_USE_FLG ISTL_CALL_MTR_READ_USE_FLG
           ,DCIDR.INV_SEPT_BASE_USG_MSTR_FLG INV_SEPT_BASE_USG_MSTR_FLG
           ,DCIDR.RNW_EXT_MTH_AOT            RNW_EXT_MTH_AOT
           <!-- QC#18799 ADD END -->
           ,DCIDR.DS_INV_TGTR_TP_CD          DS_INV_TGTR_TP_CD
        FROM
            DS_CONTR_INTFC_DEF_RULE DCIDR
        WHERE
            DCIDR.GLBL_CMPY_CD               = #glblCmpyCd#
            AND DCIDR.EZCANCELFLAG           = '0'
            AND DCIDR.CONTR_INTFC_SRC_TP_CD  = #contrIntfcSrcTpCd#
    </statement>

    <statement id="getFirstContrIntfcSrcTpCd" parameterClass="Map" resultClass="Map">
        SELECT
            CIST.CONTR_INTFC_SRC_TP_CD CONTR_INTFC_SRC_TP_CD
        FROM
            CONTR_INTFC_SRC_TP CIST
        WHERE
            CIST.GLBL_CMPY_CD     = #glblCmpyCd#
            AND CIST.CONTR_INTFC_SRC_TP_SORT_NUM = (SELECT
                                                        MIN(CIST2.CONTR_INTFC_SRC_TP_SORT_NUM) CONTR_INTFC_SRC_TP_SORT_NUM
                                                    FROM
                                                        CONTR_INTFC_SRC_TP CIST2
                                                    WHERE
                                                        CIST2.GLBL_CMPY_CD         = #glblCmpyCd#
                                                        AND CIST2.EZCANCELFLAG     = '0'
                                                    )
            AND CIST.EZCANCELFLAG = '0'
    </statement>

    <statement id="getDsContrIntfcDefRuleByContrIntfcSrcTpCd" parameterClass="Map" resultClass="Map">
        SELECT
            DCIDR.CONTR_INTFC_SRC_TP_CD      CONTR_INTFC_SRC_TP_CD
           ,DCIDR.EFF_FROM_DT                EFF_FROM_DT
           ,DCIDR.ENBL_FLG                   ENBL_FLG
           ,DCIDR.MTR_EST_TP_CD              MTR_EST_TP_CD
           ,DCIDR.BASE_BLLG_CYCLE_CD         BASE_BLLG_CYCLE_CD
           ,DCIDR.MTR_BLLG_CYCLE_CD          MTR_BLLG_CYCLE_CD
           ,DCIDR.INV_SEPT_BASE_USG_FLG      INV_SEPT_BASE_USG_FLG
           ,DCIDR.PRC_ALLOC_BY_MACH_QTY_FLG  PRC_ALLOC_BY_MACH_QTY_FLG
           ,DCIDR.CONTR_UPLFT_TP_CD          CONTR_UPLFT_TP_CD
           ,DCIDR.UPLFT_PRC_METH_CD          UPLFT_PRC_METH_CD
           ,DCIDR.UPLFT_BASE_PRC_UP_RATIO    UPLFT_BASE_PRC_UP_RATIO
           ,DCIDR.UPLFT_MTR_PRC_UP_RATIO     UPLFT_MTR_PRC_UP_RATIO
           ,DCIDR.BLLG_THRU_TP_CD            BLLG_THRU_TP_CD
           ,DCIDR.BLLG_THRU_DT               BLLG_THRU_DT
           ,DCIDR.STUB_PREP_FROM_TP_CD       STUB_PREP_FROM_TP_CD
           ,DCIDR.STUB_PREP_THRU_TP_CD       STUB_PREP_THRU_TP_CD
           ,DCIDR.AUTO_EFF_FLEET_FLG         AUTO_EFF_FLEET_FLG
           ,DCIDR.AUTO_EFF_AGGR_FLG          AUTO_EFF_AGGR_FLG
           ,DCIDR.LEASE_CMPY_CD              LEASE_CMPY_CD
           ,DCIDR.MTR_READ_METH_CD           MTR_READ_METH_CD
           ,DCIDR.DS_CONTR_SLS_CR_TP_CD      DS_CONTR_SLS_CR_TP_CD
           ,DCIDR.CONTR_AUTO_RNW_TP_CD       CONTR_AUTO_RNW_TP_CD
           ,DCIDR.RNW_PRC_METH_CD            RNW_PRC_METH_CD
           ,DCIDR.BEF_END_RNW_DAYS_AOT       BEF_END_RNW_DAYS_AOT
           ,DCIDR.BASE_PRC_UP_RATIO          BASE_PRC_UP_RATIO
           ,DCIDR.MTR_PRC_UP_RATIO           MTR_PRC_UP_RATIO
           ,DCIDR.START_READ_VLD_TP_CD       START_READ_VLD_TP_CD
           ,DCIDR.MTR_READ_WIN_DAYS_AOT      MTR_READ_WIN_DAYS_AOT
           ,DCIDR.ALLW_DATA_CRCT_FLG         ALLW_DATA_CRCT_FLG
           ,DCIDR.DS_CONTR_CLS_CD            DS_CONTR_CLS_CD
           ,DCIDR.CONTR_CLO_DAY              CONTR_CLO_DAY
           ,DCIDR.CONTR_BLLG_DAY             CONTR_BLLG_DAY
           ,DCIDR.BLLG_ROLL_OVER_RATIO       BLLG_ROLL_OVER_RATIO
           ,DCIDR.PRINT_DTL_FLG              PRINT_DTL_FLG
           <!-- START 2016/11/28 K.Kojima [QC#14204, ADD] -->
           ,DCIDR.EZINTIME                AS XX_REC_HIST_CRAT_TS
           ,DCIDR.EZINUSERID              AS XX_REC_HIST_CRAT_BY_NM
           ,DCIDR.EZUPTIME                AS XX_REC_HIST_UPD_TS
           ,DCIDR.EZUPUSERID              AS XX_REC_HIST_UPD_BY_NM
           ,DCIDR.EZTABLEID               AS XX_REC_HIST_TBL_NM
           <!-- END 2016/11/28 K.Kojima [QC#14204, ADD] -->
           <!-- QC#18799 ADD START -->
           ,DCIDR.SVC_LINE_BIZ_CD            SVC_LINE_BIZ_CD
           ,DCIDR.BLLG_LIMIT_AMT             BLLG_LIMIT_AMT
           ,DCIDR.MTR_READ_WIN_MLY_DAYS_AOT  MTR_READ_WIN_MLY_DAYS_AOT
           ,DCIDR.MTR_READ_WIN_OTH_DAYS_AOT  MTR_READ_WIN_OTH_DAYS_AOT
           ,DCIDR.BEF_END_UPLFT_DAYS_AOT     BEF_END_UPLFT_DAYS_AOT
           ,DCIDR.BASE_BLLG_TMG_CD           BASE_BLLG_TMG_CD
           ,DCIDR.ISTL_CALL_MTR_READ_USE_FLG ISTL_CALL_MTR_READ_USE_FLG
           ,DCIDR.INV_SEPT_BASE_USG_MSTR_FLG INV_SEPT_BASE_USG_MSTR_FLG
           ,DCIDR.RNW_EXT_MTH_AOT            RNW_EXT_MTH_AOT
           <!-- QC#18799 ADD END -->
           ,DCIDR.DS_INV_TGTR_TP_CD          DS_INV_TGTR_TP_CD
        FROM
            DS_CONTR_INTFC_DEF_RULE     DCIDR
           ,CONTR_INTFC_SRC_TP          CIST
        WHERE
            <!-- DS_CONTR_INTFC_DEF_RULE -->
            DCIDR.GLBL_CMPY_CD               = #glblCmpyCd#
            AND DCIDR.CONTR_INTFC_SRC_TP_CD  = #contrIntfcSrcTpCd#
            <!-- QC#18799 ADD START -->
            <isNotNull property="dsContrClsCd2">
            AND DCIDR.DS_CONTR_CLS_CD        = #dsContrClsCd2#
            </isNotNull>
            <isNotNull property="svcLineBizCd">
            AND DCIDR.SVC_LINE_BIZ_CD        = #svcLineBizCd#
            </isNotNull>
            <!-- QC#18799 ADD END -->
            <!-- CONTR_INTFC_SRC_TP -->
            AND CIST.GLBL_CMPY_CD            = #glblCmpyCd#
            AND DCIDR.CONTR_INTFC_SRC_TP_CD  = CIST.CONTR_INTFC_SRC_TP_CD
            <!-- MTR_EST_TP -->
            <isNotNull property="mtrEstTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            MTR_EST_TP MET
                        WHERE
                            MET.GLBL_CMPY_CD      = #glblCmpyCd#
                        AND MET.EZCANCELFLAG      = '0'
                        AND DCIDR.MTR_EST_TP_CD   = MET.MTR_EST_TP_CD
                        )
            </isNotNull>
            <!-- BLLG_CYCLE (Base) -->
            <isNotNull property="baseBllgCycleCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            BLLG_CYCLE BC1
                        WHERE
                            BC1.GLBL_CMPY_CD           = #glblCmpyCd#
                        AND BC1.EZCANCELFLAG           = '0'
                        AND DCIDR.BASE_BLLG_CYCLE_CD   = BC1.BLLG_CYCLE_CD
                        )
            </isNotNull>
            <!-- BLLG_CYCLE (Meter) -->
            <isNotNull property="mtrBllgCycleCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            BLLG_CYCLE BC2
                        WHERE
                            BC2.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND BC2.EZCANCELFLAG          = '0'
                        AND DCIDR.MTR_BLLG_CYCLE_CD   = BC2.BLLG_CYCLE_CD
                        )
            </isNotNull>
            <!-- CONTR_UPLFT_TP -->
            <isNotNull property="contrUplftTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            CONTR_UPLFT_TP CUT
                        WHERE
                            CUT.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND CUT.EZCANCELFLAG          = '0'
                        AND DCIDR.CONTR_UPLFT_TP_CD   = CUT.CONTR_UPLFT_TP_CD
                        )
            </isNotNull>
            <!-- UPLFT_PRC_METH -->
            <isNotNull property="uplftPrcMethCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            UPLFT_PRC_METH UPM
                        WHERE
                            UPM.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND UPM.EZCANCELFLAG          = '0'
                        AND DCIDR.UPLFT_PRC_METH_CD   = UPM.UPLFT_PRC_METH_CD
                        )
            </isNotNull>
            <!-- BLLG_THRU_TP -->
            <isNotNull property="bllgThruTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            BLLG_THRU_TP BTT
                        WHERE
                            BTT.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND BTT.EZCANCELFLAG          = '0'
                        AND DCIDR.BLLG_THRU_TP_CD     = BTT.BLLG_THRU_TP_CD
                        )
            </isNotNull>
            <!-- STUB_PREP_FROM_TP -->
            <isNotNull property="stubPrepFromTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            STUB_PREP_FROM_TP SPFT
                        WHERE
                            SPFT.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND SPFT.EZCANCELFLAG          = '0'
                        AND DCIDR.STUB_PREP_FROM_TP_CD = SPFT.STUB_PREP_FROM_TP_CD
                        )
            </isNotNull>
            <!-- STUB_PREP_THRU_TP -->
            <isNotNull property="stubPrepThruTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            STUB_PREP_THRU_TP SPTT
                        WHERE
                            SPTT.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND SPTT.EZCANCELFLAG          = '0'
                        AND DCIDR.STUB_PREP_THRU_TP_CD = SPTT.STUB_PREP_THRU_TP_CD
                        )
            </isNotNull>
            <!-- MTR_READ_METH -->
            <isNotNull property="mtrReadMethCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            MTR_READ_METH     MRM
                        WHERE
                            MRM.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND MRM.EZCANCELFLAG          = '0'
                        AND DCIDR.MTR_READ_METH_CD    = MRM.MTR_READ_METH_CD
                        )
            </isNotNull>
            <!-- DS_CONTR_SLS_CR_TP -->
            <isNotNull property="dsContrSlsCrTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            DS_CONTR_SLS_CR_TP     DCSCT
                        WHERE
                            DCSCT.GLBL_CMPY_CD             = #glblCmpyCd#
                        AND DCSCT.EZCANCELFLAG             = '0'
                        AND DCIDR.DS_CONTR_SLS_CR_TP_CD    = DCSCT.DS_CONTR_SLS_CR_TP_CD
                        )
            </isNotNull>
            <!-- DS_CONTR_CLS -->
            <isNotNull property="dsContrClsCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            DS_CONTR_CLS     DCC
                        WHERE
                            DCC.GLBL_CMPY_CD          = #glblCmpyCd#
                        AND DCC.EZCANCELFLAG          = '0'
                        AND DCIDR.DS_CONTR_CLS_CD     = DCC.DS_CONTR_CLS_CD
                        )
            </isNotNull>
            <!-- CONTR_AUTO_RNW_TP -->
            <isNotNull property="contrAutoRnwTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            CONTR_AUTO_RNW_TP     CART
                        WHERE
                            CART.GLBL_CMPY_CD              = #glblCmpyCd#
                        AND CART.EZCANCELFLAG              = '0'
                        AND DCIDR.CONTR_AUTO_RNW_TP_CD     = CART.CONTR_AUTO_RNW_TP_CD
                        )
            </isNotNull>
            <!-- RNW_PRC_METH -->
            <isNotNull property="rnwPrcMethCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            RNW_PRC_METH     RPM
                        WHERE
                            RPM.GLBL_CMPY_CD              = #glblCmpyCd#
                        AND RPM.EZCANCELFLAG              = '0'
                        AND DCIDR.RNW_PRC_METH_CD         = RPM.RNW_PRC_METH_CD
                        )
            </isNotNull>
            <!-- START_READ_VLD_TP -->
            <isNotNull property="startReadVldTpCd">
            AND EXISTS (SELECT
                            'OK'
                        FROM
                            START_READ_VLD_TP     SRVT
                        WHERE
                            SRVT.GLBL_CMPY_CD              = #glblCmpyCd#
                        AND SRVT.EZCANCELFLAG              = '0'
                        AND DCIDR.START_READ_VLD_TP_CD     = SRVT.START_READ_VLD_TP_CD
                        )
            </isNotNull>
            <!-- EZCANCELFLAG -->
            AND DCIDR.EZCANCELFLAG           = '0'
            AND CIST.EZCANCELFLAG            = '0'
    </statement>

    <!-- QC#18799 ADD START -->
    <statement id="getSvcLineBizCdList" parameterClass="Map" resultClass="String">
        SELECT 
            DISTINCT SLBR.SVC_LINE_BIZ_CD SVC_LINE_BIZ_CD
        FROM
            SVC_LINE_BIZ_RELN SLBR
        WHERE
            SLBR.GLBL_CMPY_CD     = #glblCmpyCd#
        AND SLBR.EZCANCELFLAG     = '0'
        ORDER BY
            SLBR.SVC_LINE_BIZ_CD
    </statement>
    <!-- QC#18799 ADD END -->

    <!-- QC#18799 ADD START -->
    <statement id="getDsContrIntfcDefRuleForDownload" parameterClass="Map" resultClass="Map">
        SELECT
            DCIDR.CONTR_INTFC_SRC_TP_CD         CONTR_INTFC_SRC_TP_CD
           ,DCIDR.EFF_FROM_DT                   EFF_FROM_DT
           ,DCIDR.ENBL_FLG                      ENBL_FLG
           ,DCIDR.MTR_EST_TP_CD                 MTR_EST_TP_CD
           ,DCIDR.BASE_BLLG_CYCLE_CD            BASE_BLLG_CYCLE_CD
           ,DCIDR.MTR_BLLG_CYCLE_CD             MTR_BLLG_CYCLE_CD
           ,DCIDR.INV_SEPT_BASE_USG_FLG         INV_SEPT_BASE_USG_FLG
           ,DCIDR.PRC_ALLOC_BY_MACH_QTY_FLG     PRC_ALLOC_BY_MACH_QTY_FLG
           ,DCIDR.CONTR_UPLFT_TP_CD             CONTR_UPLFT_TP_CD
           ,DCIDR.UPLFT_PRC_METH_CD             UPLFT_PRC_METH_CD
           ,DCIDR.UPLFT_BASE_PRC_UP_RATIO       UPLFT_BASE_PRC_UP_RATIO
           ,DCIDR.UPLFT_MTR_PRC_UP_RATIO        UPLFT_MTR_PRC_UP_RATIO
           ,DCIDR.BLLG_THRU_TP_CD               BLLG_THRU_TP_CD
           ,DCIDR.BLLG_THRU_DT                  BLLG_THRU_DT
           ,DCIDR.STUB_PREP_FROM_TP_CD          STUB_PREP_FROM_TP_CD
           ,DCIDR.STUB_PREP_THRU_TP_CD          STUB_PREP_THRU_TP_CD
           ,DCIDR.AUTO_EFF_FLEET_FLG            AUTO_EFF_FLEET_FLG
           ,DCIDR.AUTO_EFF_AGGR_FLG             AUTO_EFF_AGGR_FLG
           ,DCIDR.LEASE_CMPY_CD                 LEASE_CMPY_CD
           ,DCIDR.MTR_READ_METH_CD              MTR_READ_METH_CD
           ,DCIDR.DS_CONTR_SLS_CR_TP_CD         DS_CONTR_SLS_CR_TP_CD
           ,DCIDR.CONTR_AUTO_RNW_TP_CD          CONTR_AUTO_RNW_TP_CD
           ,DCIDR.RNW_PRC_METH_CD               RNW_PRC_METH_CD
           ,DCIDR.BEF_END_RNW_DAYS_AOT          BEF_END_RNW_DAYS_AOT
           ,DCIDR.BASE_PRC_UP_RATIO             BASE_PRC_UP_RATIO
           ,DCIDR.MTR_PRC_UP_RATIO              MTR_PRC_UP_RATIO
           ,DCIDR.START_READ_VLD_TP_CD          START_READ_VLD_TP_CD
           ,DCIDR.MTR_READ_WIN_DAYS_AOT         MTR_READ_WIN_DAYS_AOT
           ,DCIDR.ALLW_DATA_CRCT_FLG            ALLW_DATA_CRCT_FLG
           ,DCIDR.DS_CONTR_CLS_CD               DS_CONTR_CLS_CD
           ,CASE WHEN DCIDR.CONTR_CLO_DAY = #lastDayOfaMonth# THEN #lastDay# ELSE DCIDR.CONTR_CLO_DAY END CONTR_CLO_DAY
           ,CASE WHEN DCIDR.CONTR_BLLG_DAY = #lastDayOfaMonth# THEN #lastDay# ELSE DCIDR.CONTR_BLLG_DAY END CONTR_BLLG_DAY
           ,DCIDR.BLLG_ROLL_OVER_RATIO          BLLG_ROLL_OVER_RATIO
           ,DCIDR.PRINT_DTL_FLG                 PRINT_DTL_FLG
           ,DCIDR.SVC_LINE_BIZ_CD               SVC_LINE_BIZ_CD
           ,DCIDR.BLLG_LIMIT_AMT                BLLG_LIMIT_AMT
           ,DCIDR.MTR_READ_WIN_MLY_DAYS_AOT     MTR_READ_WIN_MLY_DAYS_AOT
           ,DCIDR.MTR_READ_WIN_OTH_DAYS_AOT     MTR_READ_WIN_OTH_DAYS_AOT
           ,DCIDR.BEF_END_UPLFT_DAYS_AOT        BEF_END_UPLFT_DAYS_AOT
           ,DCIDR.BASE_BLLG_TMG_CD              BASE_BLLG_TMG_CD
           ,DCIDR.ISTL_CALL_MTR_READ_USE_FLG    ISTL_CALL_MTR_READ_USE_FLG
           ,DCIDR.INV_SEPT_BASE_USG_MSTR_FLG    INV_SEPT_BASE_USG_MSTR_FLG
           ,DCIDR.RNW_EXT_MTH_AOT               RNW_EXT_MTH_AOT
           ,CIST.CONTR_INTFC_SRC_TP_DESC_TXT    CONTR_INTFC_SRC_TP_DESC_TXT
           ,DCC.DS_CONTR_CLS_DESC_TXT           DS_CONTR_CLS_DESC_TXT
           ,MET.MTR_EST_TP_DESC_TXT             MTR_EST_TP_DESC_TXT
           ,BBC.BLLG_CYCLE_DESC_TXT             BASE_BLLG_CYCLE_DESC_TXT
           ,MBC.BLLG_CYCLE_DESC_TXT             MTR_BLLG_CYCLE_DESC_TXT
           ,CUT.CONTR_UPLFT_TP_DESC_TXT         CONTR_UPLFT_TP_DESC_TXT
           ,UPM.UPLFT_PRC_METH_DESC_TXT         UPLFT_PRC_METH_DESC_TXT
           ,BTT.BLLG_THRU_TP_DESC_TXT           BLLG_THRU_TP_DESC_TXT
           ,SPFT.STUB_PREP_FROM_TP_DESC_TXT     STUB_PREP_FROM_TP_DESC_TXT
           ,SPTT.STUB_PREP_THRU_TP_DESC_TXT     STUB_PREP_THRU_TP_DESC_TXT
           ,MRM.MTR_READ_METH_DESC_TXT          MTR_READ_METH_DESC_TXT
           ,DCSCT.DS_CONTR_SLS_CR_TP_DESC_TXT   DS_CONTR_SLS_CR_TP_DESC_TXT
           ,CART.CONTR_AUTO_RNW_TP_DESC_TXT     CONTR_AUTO_RNW_TP_DESC_TXT
           ,RPM.RNW_PRC_METH_DESC_TXT           RNW_PRC_METH_DESC_TXT
           ,SRVT.START_READ_VLD_TP_DESC_TXT     START_READ_VLD_TP_DESC_TXT
           ,BTMT.BLLG_TMG_TP_DESC_TXT           BLLG_TMG_TP_DESC_TXT
           ,(SELECT
                 STC.DS_ACCT_NM
             FROM
                 SELL_TO_CUST STC
             WHERE
                 STC.GLBL_CMPY_CD    = DCIDR.GLBL_CMPY_CD
             AND STC.SELL_TO_CUST_CD = DCIDR.LEASE_CMPY_CD
             AND ROWNUM = 1)                    DS_ACCT_NM
           ,DITT.DS_INV_TGTR_TP_DESC_TXT        DS_INV_TGTR_TP_DESC_TXT
        FROM
            DS_CONTR_INTFC_DEF_RULE             DCIDR
           ,CONTR_INTFC_SRC_TP                  CIST
           ,DS_CONTR_CLS                        DCC
           ,MTR_EST_TP                          MET
           ,BLLG_CYCLE                          BBC
           ,BLLG_CYCLE                          MBC
           ,CONTR_UPLFT_TP                      CUT
           ,UPLFT_PRC_METH                      UPM
           ,BLLG_THRU_TP                        BTT
           ,STUB_PREP_FROM_TP                   SPFT
           ,STUB_PREP_THRU_TP                   SPTT
           ,MTR_READ_METH                       MRM
           ,DS_CONTR_SLS_CR_TP                  DCSCT
           ,CONTR_AUTO_RNW_TP                   CART
           ,RNW_PRC_METH                        RPM
           ,START_READ_VLD_TP                   SRVT
           ,BLLG_TMG_TP                         BTMT
           ,DS_INV_TGTR_TP                      DITT
        WHERE
            DCIDR.GLBL_CMPY_CD                  = #glblCmpyCd#
        AND DCIDR.GLBL_CMPY_CD                  = CIST.GLBL_CMPY_CD
        AND DCIDR.CONTR_INTFC_SRC_TP_CD         = CIST.CONTR_INTFC_SRC_TP_CD
        AND DCIDR.GLBL_CMPY_CD                  = DCC.GLBL_CMPY_CD
        AND DCIDR.DS_CONTR_CLS_CD               = DCC.DS_CONTR_CLS_CD
        AND DCIDR.GLBL_CMPY_CD                  = MET.GLBL_CMPY_CD(+)
        AND DCIDR.MTR_EST_TP_CD                 = MET.MTR_EST_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = BBC.GLBL_CMPY_CD(+)
        AND DCIDR.BASE_BLLG_CYCLE_CD            = BBC.BLLG_CYCLE_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = MBC.GLBL_CMPY_CD(+)
        AND DCIDR.MTR_BLLG_CYCLE_CD             = MBC.BLLG_CYCLE_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = CUT.GLBL_CMPY_CD(+)
        AND DCIDR.CONTR_UPLFT_TP_CD             = CUT.CONTR_UPLFT_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = UPM.GLBL_CMPY_CD(+)
        AND DCIDR.UPLFT_PRC_METH_CD             = UPM.UPLFT_PRC_METH_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = BTT.GLBL_CMPY_CD(+)
        AND DCIDR.BLLG_THRU_TP_CD               = BTT.BLLG_THRU_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = SPFT.GLBL_CMPY_CD(+)
        AND DCIDR.STUB_PREP_FROM_TP_CD          = SPFT.STUB_PREP_FROM_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = SPTT.GLBL_CMPY_CD(+)
        AND DCIDR.STUB_PREP_THRU_TP_CD          = SPTT.STUB_PREP_THRU_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = MRM.GLBL_CMPY_CD(+)
        AND DCIDR.MTR_READ_METH_CD              = MRM.MTR_READ_METH_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = DCSCT.GLBL_CMPY_CD(+)
        AND DCIDR.DS_CONTR_SLS_CR_TP_CD         = DCSCT.DS_CONTR_SLS_CR_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = CART.GLBL_CMPY_CD(+)
        AND DCIDR.CONTR_AUTO_RNW_TP_CD          = CART.CONTR_AUTO_RNW_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = RPM.GLBL_CMPY_CD(+)
        AND DCIDR.RNW_PRC_METH_CD               = RPM.RNW_PRC_METH_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = SRVT.GLBL_CMPY_CD(+)
        AND DCIDR.START_READ_VLD_TP_CD          = SRVT.START_READ_VLD_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = BTMT.GLBL_CMPY_CD(+)
        AND DCIDR.BASE_BLLG_TMG_CD              = BTMT.BLLG_TMG_TP_CD(+)
        AND DCIDR.GLBL_CMPY_CD                  = DITT.GLBL_CMPY_CD(+)
        AND DCIDR.DS_INV_TGTR_TP_CD             = DITT.DS_INV_TGTR_TP_CD(+)
        AND DCIDR.EZCANCELFLAG                  = '0'
        AND CIST.EZCANCELFLAG                   = '0'
        AND DCC.EZCANCELFLAG                    = '0'
        AND MET.EZCANCELFLAG(+)                 = '0'
        AND BBC.EZCANCELFLAG(+)                 = '0'
        AND MBC.EZCANCELFLAG(+)                 = '0'
        AND CUT.EZCANCELFLAG(+)                 = '0'
        AND UPM.EZCANCELFLAG(+)                 = '0'
        AND BTT.EZCANCELFLAG(+)                 = '0'
        AND SPFT.EZCANCELFLAG(+)                = '0'
        AND SPTT.EZCANCELFLAG(+)                = '0'
        AND MRM.EZCANCELFLAG(+)                 = '0'
        AND DCSCT.EZCANCELFLAG(+)               = '0'
        AND CART.EZCANCELFLAG(+)                = '0'
        AND RPM.EZCANCELFLAG(+)                 = '0'
        AND SRVT.EZCANCELFLAG(+)                = '0'
        AND BTMT.EZCANCELFLAG(+)                = '0'
        AND DITT.EZCANCELFLAG(+)                = '0'
        ORDER BY
            DCIDR.CONTR_INTFC_SRC_TP_CD
           ,DCIDR.DS_CONTR_CLS_CD
           ,DCIDR.SVC_LINE_BIZ_CD
    </statement>
    <!-- QC#18799 ADD END -->

</sqlMap>