<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NLAB300001">
    <statement id="getMdseFromAslDtl" parameterClass="Map"  resultClass="String">
    <![CDATA[
        SELECT 
            DISTINCT 
                AD.MDSE_CD
        FROM
             ASL_DTL    AD
            ,ASL_HDR    AH
        WHERE
               AD.GLBL_CMPY_CD                  = AH.GLBL_CMPY_CD
        AND    AD.ASL_HDR_PK                    = AH.ASL_HDR_PK
        AND    AD.GLBL_CMPY_CD                  = #glblCmpyCd#
        AND    AD.VND_CD                        = #vndCd#
        AND    AD.SPLY_ITEM_NUM                 = #splyItemNum#
        AND    AD.EFF_FROM_DT                   <= #slsDt#
        AND    NVL(AD.EFF_THRU_DT,'99999999')   >= #slsDt#
        AND    AH.ASL_START_DT                  <= #slsDt#
        AND    NVL(AH.ASL_END_DT,'99999999')    >= #slsDt#
        AND    AD.EZCANCELFLAG                  = '0'
        AND    AH.EZCANCELFLAG                  = '0'
    ]]>
    </statement>

    <statement id="getVndPmtTermCdFirst" parameterClass="Map" resultClass="Map">
        SELECT
            VPTX.VND_PMT_TERM_CD
           ,VPT.VND_PMT_TERM_NM
        FROM
            VND_PMT_TERM_XREF VPTX
           ,VND_PMT_TERM      VPT
        WHERE
            VPTX.GLBL_CMPY_CD              = #glblCmpyCd#
        AND VPTX.VND_CD                    = #vndCd#
        AND VPTX.VND_PMT_TERM_CASH_DISC_CD = #vndPmtTermCashDiscCd#
        AND VPTX.GLBL_CMPY_CD              = VPT.GLBL_CMPY_CD
        AND VPTX.VND_PMT_TERM_CD           = VPT.VND_PMT_TERM_CD
        AND VPTX.EZCANCELFLAG              = '0'
        AND VPT.EZCANCELFLAG               = '0'
    </statement>
    <statement id="getVndPmtTermCdSecond" parameterClass="Map" resultClass="Map">
        SELECT
            VPTX.VND_PMT_TERM_CD
           ,VPT.VND_PMT_TERM_NM
        FROM
            VND_PMT_TERM_XREF VPTX
           ,PO_VND_V          PV
           ,VND_PMT_TERM      VPT
        WHERE
            VPTX.GLBL_CMPY_CD              = #glblCmpyCd#
        AND VPTX.VND_CD                    = #vndCdAst#
        AND VPTX.VND_PMT_TERM_CASH_DISC_CD = #vndPmtTermCashDiscCd#
        AND VPTX.GLBL_CMPY_CD              = PV.GLBL_CMPY_CD
        AND PV.VND_CD                      = #vndCd#
        AND VPTX.GLBL_CMPY_CD              = VPT.GLBL_CMPY_CD
        AND VPTX.VND_PMT_TERM_CD           = VPT.VND_PMT_TERM_CD
        AND VPTX.EZCANCELFLAG              = '0'
        AND PV.EZCANCELFLAG                = '0'
        AND VPT.EZCANCELFLAG               = '0'
    </statement>
    <statement id="getVndPmtTermCdByPrntVnd" parameterClass="Map" resultClass="Map">
        SELECT
            PV.VND_PMT_TERM_CD
           ,VPT.VND_PMT_TERM_NM
        FROM
            PRNT_VND     PV
           ,PO_VND_V     PVV
           ,VND_PMT_TERM VPT
        WHERE
            PV.GLBL_CMPY_CD       = #glblCmpyCd#
        AND PV.GLBL_CMPY_CD       = PVV.GLBL_CMPY_CD
        AND PV.PRNT_VND_CD        = PVV.PRNT_VND_CD
        AND PVV.VND_CD            = #vndCd#
        AND PV.GLBL_CMPY_CD       = VPT.GLBL_CMPY_CD
        AND PV.VND_PMT_TERM_CD    = VPT.VND_PMT_TERM_CD
        AND PV.EZCANCELFLAG       = '0'
        AND PVV.EZCANCELFLAG      = '0'
        AND VPT.EZCANCELFLAG      = '0'
    </statement>
    <statement id="getMdseListFromPoDtl" parameterClass="Map" resultClass="String">
        SELECT
            PD.MDSE_CD
        FROM
            PO_DTL PD
        WHERE
            PD.GLBL_CMPY_CD       = #glblCmpyCd#
        AND PD.PO_ORD_NUM         = #poOrdNum#
        AND PD.EZCANCELFLAG       = '0'
    </statement>

<!-- START 2018/11/14 M.Naito [QC#29047,ADD] -->
    <statement id="getVndSysTpCd" parameterClass="Map" resultClass="String">
            SELECT
                VND_SYS_TP_CD
            FROM
                RCV_ASN_VND
            WHERE 1=1
            AND GLBL_CMPY_CD     = #glblCmpyCd#
            AND RCV_ASN_VND_CD   = #rcvAsnVndCd#
            AND EZCANCELFLAG     = '0'
            AND ROWNUM           = 1
    </statement>
<!-- END 2018/11/14 M.Naito [QC#29047,ADD] -->
</sqlMap>
