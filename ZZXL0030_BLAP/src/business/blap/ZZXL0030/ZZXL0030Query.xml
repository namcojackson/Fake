<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="ZZXL0030Query">
	
	<typeAlias alias="ZZXL0030_DSMsg" type="business.blap.ZZXL0030.ZZXL0030_DSMsg"/>
    <typeAlias alias="ZZXL0030_DSMsgArray" type="business.blap.ZZXL0030.ZZXL0030_DSMsgArray"/>
	<typeAlias alias="ZZXL0030_CCMsg" type="business.blap.ZZXL0030.ZZXL0030_CCMsg"/>
    <typeAlias alias="ZZXL0030_CCMsgArray" type="business.blap.ZZXL0030.ZZXL0030_CCMsgArray"/>
    	
	<statement id="getCalendar" resultMap="result.ZZXL0030_DSMsg" parameterClass="Map">
		select 
			CAL_DT,
			decode(DT_ATTRB_VAL_CD,'1','Y','') as XX_CHK_BOX
		from CAL where 
			DT_ATTRB_CD ='01' AND 
			<isNotNull property="glblCmpyCd">
				GLBL_CMPY_CD = #glblCmpyCd# AND
			</isNotNull>
			CAL_TP_CD = #calTpCd# AND
			CAL_DT &gt;= #calDtFrom# AND
			CAL_DT &lt;= #calDtTo#
		order by CAL_DT
	</statement>
	
	<resultMap id="result.ZZXL0030_DSMsg" class="ZZXL0030_DSMsg">
		<result property="calDt_D" column="CAL_DT" javaType="StringItemEZD"/>
		<result property="xxChkBox_D" column="XX_CHK_BOX" javaType="StringItemEZD"/>	
	</resultMap>
	
	<statement id="getCalendarType" resultMap="result.ZZXL0030_CCMsg" parameterClass="Map">
		select 
			CAL_TP_CD,
			CAL_TP_NM
		from CAL_TP 
			<isNotNull property="glblCmpyCd">
				where GLBL_CMPY_CD = #glblCmpyCd# 
			</isNotNull>
		order by CAL_TP_CD
	</statement>
	
	<resultMap id="result.ZZXL0030_CCMsg" class="ZZXL0030_CCMsg">
		<result property="calTpCd_C" column="CAL_TP_CD" javaType="StringItemEZD"/>
		<result property="calTpNm_C" column="CAL_TP_NM" javaType="StringItemEZD"/>	
	</resultMap>
</sqlMap>    
