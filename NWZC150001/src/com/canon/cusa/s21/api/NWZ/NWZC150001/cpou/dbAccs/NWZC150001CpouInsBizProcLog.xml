<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWZC150001CpouInsBizProcLog">


    <statement id="cntOpenOrder" parameterClass="Map" resultClass="Integer">
        SELECT
               COUNT(*)
        FROM
              CPO_DTL        CD
        WHERE
                CD.GLBL_CMPY_CD            = #glblCmpyCd#
            AND CD.CPO_ORD_NUM             = #cpoOrdNum#
            AND CD.EZCANCELFLAG            = '0'
            AND CD.ORD_LINE_STS_CD NOT IN (#stsClose#,#stsCancel#)
            AND ROWNUM <![CDATA[ <= ]]> 1
    </statement>

    <!-- 2018/08/02 S21_NA#25404 Add Start -->
    <statement id="cntRtnOpenOrder" parameterClass="Map" resultClass="Integer">
        SELECT
               COUNT(*)
        FROM
              DS_CPO_RTRN_DTL        RD
        WHERE
                RD.GLBL_CMPY_CD            = #glblCmpyCd#
            AND RD.CPO_ORD_NUM             = #cpoOrdNum#
            AND RD.EZCANCELFLAG            = '0'
            AND RD.RTRN_LINE_STS_CD NOT IN (#stsClose#,#stsCancel#)
    </statement>
    <!-- 2018/08/02 S21_NA#25404 Add Start -->

</sqlMap>
