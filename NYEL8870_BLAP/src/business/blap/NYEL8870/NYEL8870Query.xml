<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NYEL8870Query">

    <statement id="getProcNames" parameterClass="Map" resultClass="Map">
        SELECT
            A.*
        FROM (
            SELECT
                PD.*
            FROM
                WF_PROC_DFN_V PD
            WHERE
                PD.GLBL_CMPY_CD     = #glblCmpyCd#
                <isNotNull property="wfBizAppId">
                  AND PD.WF_BIZ_APP_ID = #wfBizAppId#
                </isNotNull>
                AND PD.EZCANCELFLAG = '0'
                AND PD.WF_DESC_TXT IS NOT NULL
            ORDER BY
                PD.WF_DESC_TXT
        ) A
        WHERE
            ROWNUM &lt;= #rowNum#
    </statement>


    <statement id="getUserPrefs" parameterClass="Map" resultClass="Map">
        SELECT
            A.*
        FROM(
            SELECT
                PD.WF_PROC_NM
                ,PD.WF_DESC_TXT
                ,UP.*
            FROM
                WF_USR_PRF UP,
                WF_PROC_DFN_V PD
            WHERE
                UP.GLBL_CMPY_CD     = #glblCmpyCd#
                AND UP.EZCANCELFLAG = '0'
                <isNotNull property="wfUsrId">
                  AND (UP.WF_USR_ID = #default# OR UP.WF_USR_ID = #wfUsrId#)
                </isNotNull>
                <isNotNull property="wfBizAppId">
                  AND UP.WF_BIZ_APP_ID = #wfBizAppId#
                </isNotNull>
                <isNotNull property="wfNtfyTpCd">
                  AND UP.WF_NTFY_TP_CD = #wfNtfyTpCd#
                </isNotNull>
                AND PD.GLBL_CMPY_CD = UP.GLBL_CMPY_CD
                AND PD.EZCANCELFLAG = UP.EZCANCELFLAG
                AND PD.WF_BIZ_APP_ID = UP.WF_BIZ_APP_ID
                AND PD.WF_DESC_TXT IS NOT NULL
            ORDER BY
                PD.WF_DESC_TXT
                ,UP.WF_USR_ID
                ,UP.WF_NTFY_TP_CD
        ) A
        WHERE
            ROWNUM &lt;= #rowNum#
    </statement>

</sqlMap>

