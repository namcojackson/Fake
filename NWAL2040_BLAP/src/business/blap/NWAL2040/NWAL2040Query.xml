<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NWAL2040Query">
    <typeAlias alias="NWAL2040_BSMsg"    type="business.blap.NWAL2040.NWAL2040_BSMsg"/>
    <typeAlias alias="NWAL2040_ASMsg"    type="business.blap.NWAL2040.NWAL2040_ASMsg"/>
    <typeAlias alias="NWAL2040_ESMsg"    type="business.blap.NWAL2040.NWAL2040_ESMsg"/>

    <statement id ="setInitialDefWhMapTmplPulldown" parameterClass="Map"  resultClass="Map">
    	SELECT
    	    DEF_WH_MAP_TMPL_CD
           ,DEF_WH_MAP_TMPL_NM
    	FROM
    		DEF_WH_MAP_TMPL 
    	WHERE
    		GLBL_CMPY_CD = #glblCmpyCd#
    	AND EZCANCELFLAG = '0'
    </statement>
    
    <statement id ="setInitialOrdLineSrcPulldown" parameterClass="Map"  resultClass="Map">
        SELECT
            ORD_LINE_SRC_CD
           ,ORD_LINE_SRC_NM
        FROM
            ORD_LINE_SRC 
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        <isNotNull property="ordLineSrcCatgCd">
        AND ORD_LINE_SRC_CATG_CD = #ordLineSrcCatgCd#
        </isNotNull>
    </statement>
    
    <statement id ="setInitialOrdLineSrcPulldownIE" parameterClass="Map"  resultClass="Map">
        SELECT
            ORD_LINE_SRC_CD
           ,ORD_LINE_SRC_NM
        FROM
            ORD_LINE_SRC 
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        AND ORD_LINE_SRC_CATG_CD IN (#ordLineSrcCatgCd_I#, #ordLineSrcCatgCd_E#)
    </statement>
    
    <statement id ="setInitialMdseItemClsTpPulldown" parameterClass="Map"  resultClass="Map">
        SELECT
            MDSE_ITEM_CLS_TP_CD
           ,MDSE_ITEM_CLS_TP_NM
        FROM
            MDSE_ITEM_CLS_TP 
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
    </statement>
    
    <statement id ="getDsOrdCatgAndDsOrdTp" parameterClass="Map"  resultClass="Map">
        SELECT 
            DS_ORD_CATG_CD
           ,DS_ORD_TP_CD
        FROM 
            DS_ORD_TP
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        AND DS_ORD_CATG_CD = #dsOrdCatgCd#
        AND DS_ORD_TP_CD = #dsOrdTpCd#
    </statement>
    
    <statement id ="getDsOrdCatg" parameterClass="Map"  resultClass="Map">
        SELECT 
            DS_ORD_CATG_CD
        FROM 
            DS_ORD_CATG
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        AND DS_ORD_CATG_CD = #dsOrdCatgCd#
    </statement>
    
    <statement id ="getPhysWh" parameterClass="Map"  resultClass="Map">
        SELECT 
            distinct PHYS_WH_CD
        FROM 
            RTL_WH
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        AND PHYS_WH_CD = #physWhCd#
    </statement>
    
    <statement id ="getRtlSwhFromName" parameterClass="Map"  resultClass="Map">
        SELECT 
            RTL_SWH_CD
           ,RTL_SWH_NM
        FROM 
            SWH
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        AND RTL_SWH_NM = #rtlSwhNm#
    </statement>
    
    <resultMap id="result.NWAL2040_BSMsg"           class="NWAL2040_BSMsg">
        <result property="dsOrdCatgCd_B1"           column="DS_ORD_CATG_CD"              javaType="EZDCStringItem"      />
        <result property="dsOrdTpCd_B1"             column="DS_ORD_TP_CD"                javaType="EZDCStringItem"      />
        <result property="firstBizCtxAttrbTxt_B1"   column="FIRST_BIZ_CTX_ATTRB_TXT"     javaType="EZDCStringItem"      />
        <result property="scdBizCtxAttrbTxt_B1"   column="SCD_BIZ_CTX_ATTRB_TXT"         javaType="EZDCStringItem"      />
        <result property="effFromDt_B1"             column="EFF_FROM_DT"                 javaType="EZDCDateItem"        />
        <result property="effThruDt_B1"             column="EFF_THRU_DT"                 javaType="EZDCDateItem"        />
        <result property="ordCatgBizCtxPk_B1"       column="ORD_CATG_BIZ_CTX_PK"         javaType="EZDCBigDecimalItem"  />
        <result property="ezUpTime_B1"              column="EZUPTIME"                    javaType="EZDCStringItem"      />
        <result property="ezUpTimeZone_B1"          column="EZUPTIMEZONE"                javaType="EZDCStringItem"      />
    </resultMap>

    <resultMap id="result.NWAL2040_ASMsg"           class="NWAL2040_ASMsg">
        <result property="defWhMapTmplCd_A1"        column="DEF_WH_MAP_TMPL_CD"          javaType="EZDCStringItem"      />
        <result property="mdseItemClsTpCd_A1"       column="MDSE_ITEM_CLS_TP_CD"         javaType="EZDCStringItem"      />
        <result property="fromPostCd_A1"            column="FROM_POST_CD"                javaType="EZDCStringItem"      />
        <result property="toPostCd_A1"              column="TO_POST_CD"                  javaType="EZDCStringItem"      />
        <result property="onHndChkFlg_A1"           column="ON_HND_CHK_FLG"              javaType="EZDCStringItem"      />
        <result property="otbdPrimOnHndChkWhCd_A1"  column="OTBD_PRIM_ON_HND_CHK_WH_CD"  javaType="EZDCStringItem"      />
        <result property="rtlSwhNm_01"              column="RTL_SWH_NM_01"               javaType="EZDCStringItem"      />
        <result property="otbdPrimOnHndChkSwhCd_A1" column="OTBD_PRIM_ON_HND_CHK_SWH_CD" javaType="EZDCStringItem"      />
        <result property="otbdPrimOnHndLinSrcCd_A1" column="OTBD_PRIM_ON_HND_LIN_SRC_CD" javaType="EZDCStringItem"      />
        <result property="otbdScdOnHndChkWhCd_A1"   column="OTBD_SCD_ON_HND_CHK_WH_CD"   javaType="EZDCStringItem"      />
        <result property="rtlSwhNm_02"              column="RTL_SWH_NM_02"               javaType="EZDCStringItem"      />
        <result property="otbdScdOnHndChkSwhCd_A1"  column="OTBD_SCD_ON_HND_CHK_SWH_CD"  javaType="EZDCStringItem"      />
        <result property="otbdScdOnHndLineSrcCd_A1" column="OTBD_SCD_ON_HND_LINE_SRC_CD" javaType="EZDCStringItem"      />
        <result property="otbdDefWhCd_A1"           column="OTBD_DEF_WH_CD"              javaType="EZDCStringItem"      />
        <result property="rtlSwhNm_03"              column="RTL_SWH_NM_03"               javaType="EZDCStringItem"      />
        <result property="otbdDefSwhCd_A1"          column="OTBD_DEF_SWH_CD"             javaType="EZDCStringItem"      />
        <result property="otbdDefLineSrcCd_A1"      column="OTBD_DEF_LINE_SRC_CD"        javaType="EZDCStringItem"      />
        <!-- 2017/09/12 QC#19805 Del Start -->
        <!-- <result property="rmaDefWhCd_A1"            column="RMA_DEF_WH_CD"               javaType="EZDCStringItem"      /> -->
        <!-- <result property="rtlSwhNm_04"              column="RTL_SWH_NM_04"               javaType="EZDCStringItem"      /> -->
        <!-- <result property="rmaDefSwhCd_A1"           column="RMA_DEF_SWH_CD"              javaType="EZDCStringItem"      /> -->
        <!-- <result property="rmaDefLineSrcCd_A1"       column="RMA_DEF_LINE_SRC_CD"         javaType="EZDCStringItem"      /> -->
        <!-- 2017/09/12 QC#19805 Del End -->
        <result property="thirdPtyItemFlg_A1"       column="THIRD_PTY_ITEM_FLG"          javaType="EZDCStringItem"      />
        <result property="ezUpTime_A1"              column="EZUPTIME"                    javaType="EZDCStringItem"      />
        <result property="ezUpTimeZone_A1"          column="EZUPTIMEZONE"                javaType="EZDCStringItem"      />
    </resultMap>

    <!-- 2017/09/12 QC#19805 Add Start -->
    <resultMap id="result.NWAL2040_ESMsg"           class="NWAL2040_ESMsg">
        <result property="ordRmaDefWhPk_E1"         column="ORD_RMA_DEF_WH_PK"           javaType="EZDCStringItem"      />
        <result property="defWhMapTmplCd_E1"        column="DEF_WH_MAP_TMPL_CD"          javaType="EZDCStringItem"      />
        <result property="mdseItemClsTpCd_E1"       column="MDSE_ITEM_CLS_TP_CD"         javaType="EZDCStringItem"      />
        <result property="thirdPtyItemFlg_E1"       column="THIRD_PTY_ITEM_FLG"          javaType="EZDCStringItem"      />
        <result property="fromPostCd_E1"            column="FROM_POST_CD"                javaType="EZDCStringItem"      />
        <result property="toPostCd_E1"              column="TO_POST_CD"                  javaType="EZDCStringItem"      />
        <result property="onHndChkFlg_E1"           column="ON_HND_CHK_FLG"              javaType="EZDCStringItem"      />
        <result property="thirdPtyDspTpCd_E1"       column="THIRD_PTY_DSP_TP_CD"         javaType="EZDCStringItem"      />
        <result property="dropRtrnVndCd_E1"         column="DROP_RTRN_VND_CD"            javaType="EZDCStringItem"      />
        <result property="rmaDefWhCd_E1"            column="RMA_DEF_WH_CD"               javaType="EZDCStringItem"      />
        <result property="ezUpTime_E1"              column="EZUPTIME"                    javaType="EZDCStringItem"      />
        <result property="ezUpTimeZone_E1"          column="EZUPTIMEZONE"                javaType="EZDCStringItem"      />
    </resultMap>
    <!-- 2017/09/12 QC#19805 Add End -->

    <statement id ="searchMapSrcCatg" parameterClass="Map" resultMap="result.NWAL2040_BSMsg">
    	SELECT * FROM (
    	SELECT
    		DS_ORD_CATG_CD
    	   ,DS_ORD_TP_CD
    	   ,FIRST_BIZ_CTX_ATTRB_TXT
           ,SCD_BIZ_CTX_ATTRB_TXT
    	   ,THIRD_BIZ_CTX_ATTRB_TXT EFF_FROM_DT
		   ,FRTH_BIZ_CTX_ATTRB_TXT EFF_THRU_DT
		   ,ORD_CATG_BIZ_CTX_PK
		   ,EZUPTIME
		   ,EZUPTIMEZONE
    	FROM
    		ORD_CATG_BIZ_CTX 
    	WHERE
    		GLBL_CMPY_CD = #glblCmpyCd#
    	AND EZCANCELFLAG = '0'
    	AND ORD_CATG_CTX_TP_CD = 'DEFAULT_WH_TMPL'
    	ORDER BY
            DS_ORD_CATG_CD
           ,DS_ORD_TP_CD
           ,FIRST_BIZ_CTX_ATTRB_TXT
           ,SCD_BIZ_CTX_ATTRB_TXT
    	)
        WHERE ROWNUM &lt;= #rowNum#
    </statement>
    
    <statement id ="searchMapTmplQlfy" parameterClass="Map" resultMap="result.NWAL2040_ASMsg">
    	SELECT * FROM (
        SELECT
            ODW.DEF_WH_MAP_TMPL_CD
           ,ODW.MDSE_ITEM_CLS_TP_CD
           ,ODW.FROM_POST_CD
           ,ODW.TO_POST_CD
           ,ODW.ON_HND_CHK_FLG
           ,ODW.OTBD_PRIM_ON_HND_CHK_WH_CD
           ,SW1.RTL_SWH_NM RTL_SWH_NM_01
           ,ODW.OTBD_PRIM_ON_HND_CHK_SWH_CD
           ,ODW.OTBD_PRIM_ON_HND_LIN_SRC_CD
           ,ODW.OTBD_SCD_ON_HND_CHK_WH_CD
           ,SW2.RTL_SWH_NM RTL_SWH_NM_02
           ,ODW.OTBD_SCD_ON_HND_CHK_SWH_CD
           ,ODW.OTBD_SCD_ON_HND_LINE_SRC_CD
           ,ODW.OTBD_DEF_WH_CD
           ,SW3.RTL_SWH_NM RTL_SWH_NM_03
           ,ODW.OTBD_DEF_SWH_CD
           ,ODW.OTBD_DEF_LINE_SRC_CD
           <!-- 2017/09/12 QC#19805 Del Start -->
           <!-- ,ODW.RMA_DEF_WH_CD -->
           <!-- ,SW4.RTL_SWH_NM RTL_SWH_NM_04 -->
           <!-- ,ODW.RMA_DEF_SWH_CD -->
           <!-- ,ODW.RMA_DEF_LINE_SRC_CD -->
           <!-- 2017/09/12 QC#19805 Del End -->
           ,ODW.THIRD_PTY_ITEM_FLG
           ,ODW.EZUPTIME
           ,ODW.EZUPTIMEZONE
    	FROM
            ORD_DEF_WH ODW
           ,SWH SW1
           ,SWH SW2
           ,SWH SW3
           <!-- 2017/09/12 QC#19805 Del Start -->
           <!-- ,SWH SW4 -->
           <!-- 2017/09/12 QC#19805 Del End -->
    	WHERE 
    		ODW.GLBL_CMPY_CD = #glblCmpyCd#
    	AND ODW.EZCANCELFLAG = '0'
        AND ODW.GLBL_CMPY_CD = SW1.GLBL_CMPY_CD(+)
        AND ODW.OTBD_PRIM_ON_HND_CHK_SWH_CD = SW1.RTL_SWH_CD(+)
        AND ODW.GLBL_CMPY_CD = SW2.GLBL_CMPY_CD(+)
        AND ODW.OTBD_SCD_ON_HND_CHK_SWH_CD = SW2.RTL_SWH_CD(+)
        AND ODW.GLBL_CMPY_CD = SW3.GLBL_CMPY_CD(+)
        AND ODW.OTBD_DEF_SWH_CD = SW3.RTL_SWH_CD(+)
        <!-- 2017/09/12 QC#19805 Del Start -->
        <!-- AND ODW.GLBL_CMPY_CD = SW4.GLBL_CMPY_CD(+) -->
        <!-- AND ODW.RMA_DEF_SWH_CD = SW4.RTL_SWH_CD(+) -->
        <!-- 2017/09/12 QC#19805 Del End -->
        AND SW1.EZCANCELFLAG(+) = '0'
        AND SW2.EZCANCELFLAG(+) = '0'
        AND SW3.EZCANCELFLAG(+) = '0'
        <!-- 2017/09/12 QC#19805 Del Start -->
        <!-- AND SW4.EZCANCELFLAG(+) = '0' -->
        <!-- 2017/09/12 QC#19805 Del End -->
        <isNotNull property="defWhMapTmplCd">
    	AND ODW.DEF_WH_MAP_TMPL_CD = #defWhMapTmplCd#
        </isNotNull>
        ORDER BY
            ODW.DEF_WH_MAP_TMPL_CD
           ,ODW.MDSE_ITEM_CLS_TP_CD
           ,ODW.FROM_POST_CD
           ,ODW.TO_POST_CD
    	)
        WHERE ROWNUM &lt;= #rowNum#
    </statement>

    <!-- 2017/09/12 QC#19805 Add Start -->
    <statement id ="searchMapTmplQlfyRMA" parameterClass="Map" resultMap="result.NWAL2040_ESMsg">
    	SELECT * FROM (
        SELECT
            ORDW.ORD_RMA_DEF_WH_PK
           ,ORDW.DEF_WH_MAP_TMPL_CD
           ,ORDW.MDSE_ITEM_CLS_TP_CD
           ,ORDW.THIRD_PTY_ITEM_FLG
           ,ORDW.FROM_POST_CD
           ,ORDW.TO_POST_CD
           ,ORDW.ON_HND_CHK_FLG
           ,ORDW.THIRD_PTY_DSP_TP_CD
           ,ORDW.DROP_RTRN_VND_CD
           ,ORDW.RMA_DEF_WH_CD
           ,ORDW.EZUPTIME
           ,ORDW.EZUPTIMEZONE
    	FROM
            ORD_RMA_DEF_WH ORDW
    	WHERE 
    		ORDW.GLBL_CMPY_CD = #glblCmpyCd#
    	AND ORDW.EZCANCELFLAG = '0'
        <isNotNull property="defWhMapTmplCd">
    	AND ORDW.DEF_WH_MAP_TMPL_CD = #defWhMapTmplCd#
        </isNotNull>
        ORDER BY
            ORDW.DEF_WH_MAP_TMPL_CD
           ,ORDW.MDSE_ITEM_CLS_TP_CD
           ,ORDW.FROM_POST_CD
           ,ORDW.TO_POST_CD
    	)
        WHERE ROWNUM &lt;= #rowNum#
    </statement>
    <!-- 2017/09/12 QC#19805 Add End -->

    <statement id ="getInternalOrderLineSource" parameterClass="Map"  resultClass="Map">
        SELECT 
            ORD_LINE_SRC_CD
           ,ORD_LINE_SRC_CATG_CD
        FROM 
            ORD_LINE_SRC
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        AND ORD_LINE_SRC_CD = #ordLineSrcCd#
    </statement>
    <statement id ="setDsOrdTpPulldown" parameterClass="Map"  resultClass="Map">
        SELECT 
            DS_ORD_TP_CD
           ,DS_ORD_TP_NM
        FROM 
            DS_ORD_TP
        WHERE
            GLBL_CMPY_CD = #glblCmpyCd#
        AND EZCANCELFLAG = '0'
        AND DS_ORD_CATG_CD = #dsOrdCatgCd#
    </statement>
    <statement id ="searchMapTmplQlfyForCSV" parameterClass="Map" resultClass="Map">
        SELECT
             DEF_WH_MAP_TMPL_CD
            ,MDSE_ITEM_CLS_TP_NM
            ,THIRD_PTY_ITEM_FLG
            ,FROM_POST_CD
            ,TO_POST_CD
            ,ON_HND_CHK_FLG
            ,OTBD_PRIM_ON_HND_CHK_WH_CD
            ,OTBD_PRIM_ON_HND_CHK_SWH_NM
            ,OTBD_PRIM_ON_HND_LIN_SRC_NM
            ,OTBD_SCD_ON_HND_CHK_WH_CD
            ,OTBD_SCD_ON_HND_CHK_SWH_NM
            ,OTBD_SCD_ON_HND_LINE_SRC_NM
            ,OTBD_DEF_WH_CD
            ,OTBD_DEF_SWH_NM
            ,OTBD_DEF_LINE_SRC_NM
            <!-- 2017/09/12 QC#19805 Del Start -->
            <!-- ,RMA_DEF_WH_CD -->
            <!-- ,RMA_DEF_SWH_NM -->
            <!-- ,RMA_DEF_LINE_SRC_NM -->
            <!-- 2017/09/12 QC#19805 Del End -->
        FROM
            (
                SELECT
                     ODW.DEF_WH_MAP_TMPL_CD
                    ,CASE WHEN ODW.MDSE_ITEM_CLS_TP_CD = #mdseItemClsTpCdAst# THEN ODW.MDSE_ITEM_CLS_TP_CD ELSE MICT.MDSE_ITEM_CLS_TP_DESC_TXT END AS MDSE_ITEM_CLS_TP_NM
                    ,ODW.THIRD_PTY_ITEM_FLG
                    ,ODW.FROM_POST_CD
                    ,ODW.TO_POST_CD
                    ,ODW.ON_HND_CHK_FLG
                    ,ODW.OTBD_PRIM_ON_HND_CHK_WH_CD
                    ,SW1.RTL_SWH_NM                 AS OTBD_PRIM_ON_HND_CHK_SWH_NM
                    ,OLS1.ORD_LINE_SRC_NM           AS OTBD_PRIM_ON_HND_LIN_SRC_NM
                    ,ODW.OTBD_SCD_ON_HND_CHK_WH_CD
                    ,SW2.RTL_SWH_NM                 AS OTBD_SCD_ON_HND_CHK_SWH_NM
                    ,OLS2.ORD_LINE_SRC_NM           AS OTBD_SCD_ON_HND_LINE_SRC_NM
                    ,ODW.OTBD_DEF_WH_CD
                    ,SW3.RTL_SWH_NM                 AS OTBD_DEF_SWH_NM
                    ,OLS3.ORD_LINE_SRC_NM           AS OTBD_DEF_LINE_SRC_NM
                    <!-- 2017/09/12 QC#19805 Del Start -->
                    <!-- ,ODW.RMA_DEF_WH_CD -->
                    <!-- ,SW4.RTL_SWH_NM                 AS RMA_DEF_SWH_NM -->
                    <!-- ,OLS4.ORD_LINE_SRC_NM           AS RMA_DEF_LINE_SRC_NM -->
                    <!-- 2017/09/12 QC#19805 Del End -->
                FROM
                     ORD_DEF_WH ODW
                    ,MDSE_ITEM_CLS_TP MICT
                    ,SWH SW1
                    ,SWH SW2
                    ,SWH SW3
                    <!-- 2017/09/12 QC#19805 Del Start -->
                    <!-- ,SWH SW4 -->
                    <!-- 2017/09/12 QC#19805 Del End -->
                    ,ORD_LINE_SRC OLS1
                    ,ORD_LINE_SRC OLS2
                    ,ORD_LINE_SRC OLS3
                    <!-- 2017/09/12 QC#19805 Del Start -->
                    <!-- ,ORD_LINE_SRC OLS4 -->
                    <!-- 2017/09/12 QC#19805 Del End -->
                WHERE 
                        ODW.GLBL_CMPY_CD                = #glblCmpyCd#
                    AND ODW.GLBL_CMPY_CD                = MICT.GLBL_CMPY_CD(+)
                    AND ODW.MDSE_ITEM_CLS_TP_CD         = MICT.MDSE_ITEM_CLS_TP_CD(+)
                    AND ODW.GLBL_CMPY_CD                = SW1.GLBL_CMPY_CD(+)
                    AND ODW.OTBD_PRIM_ON_HND_CHK_SWH_CD = SW1.RTL_SWH_CD(+)
                    AND ODW.GLBL_CMPY_CD                = SW2.GLBL_CMPY_CD(+)
                    AND ODW.OTBD_SCD_ON_HND_CHK_SWH_CD  = SW2.RTL_SWH_CD(+)
                    AND ODW.GLBL_CMPY_CD                = SW3.GLBL_CMPY_CD(+)
                    AND ODW.OTBD_DEF_SWH_CD             = SW3.RTL_SWH_CD(+)
                    <!-- 2017/09/12 QC#19805 Del Start -->
                    <!-- AND ODW.GLBL_CMPY_CD                = SW4.GLBL_CMPY_CD(+) -->
                    <!-- AND ODW.RMA_DEF_SWH_CD              = SW4.RTL_SWH_CD(+) -->
                    <!-- 2017/09/12 QC#19805 Del End -->
                    AND ODW.GLBL_CMPY_CD                = OLS1.GLBL_CMPY_CD(+)
                    AND ODW.OTBD_PRIM_ON_HND_LIN_SRC_CD = OLS1.ORD_LINE_SRC_CD(+)
                    AND ODW.GLBL_CMPY_CD                = OLS2.GLBL_CMPY_CD(+)
                    AND ODW.OTBD_SCD_ON_HND_LINE_SRC_CD = OLS2.ORD_LINE_SRC_CD(+)
                    AND ODW.GLBL_CMPY_CD                = OLS3.GLBL_CMPY_CD(+)
                    AND ODW.OTBD_DEF_LINE_SRC_CD        = OLS3.ORD_LINE_SRC_CD(+)
                    <!-- 2017/09/12 QC#19805 Del Start -->
                    <!-- AND ODW.GLBL_CMPY_CD                = OLS4.GLBL_CMPY_CD(+) -->
                    <!-- AND ODW.RMA_DEF_LINE_SRC_CD         = OLS4.ORD_LINE_SRC_CD(+) -->
                    <!-- 2017/09/12 QC#19805 Del End -->
                    AND ODW.EZCANCELFLAG                = '0'
                    AND MICT.EZCANCELFLAG(+)            = '0'
                    AND SW1.EZCANCELFLAG(+)             = '0'
                    AND SW2.EZCANCELFLAG(+)             = '0'
                    AND SW3.EZCANCELFLAG(+)             = '0'
                    <!-- 2017/09/12 QC#19805 Del Start -->
                    <!-- AND SW4.EZCANCELFLAG(+)             = '0' -->
                    <!-- 2017/09/12 QC#19805 Del End -->
                    AND OLS1.EZCANCELFLAG(+)            = '0'
                    AND OLS2.EZCANCELFLAG(+)            = '0'
                    AND OLS3.EZCANCELFLAG(+)            = '0'
                    <!-- 2017/09/12 QC#19805 Del Start -->
                    <!-- AND OLS4.EZCANCELFLAG(+)            = '0' -->
                    <!-- 2017/09/12 QC#19805 Del End -->
                ORDER BY
                     ODW.DEF_WH_MAP_TMPL_CD
                    ,ODW.MDSE_ITEM_CLS_TP_CD
                    ,ODW.FROM_POST_CD
                    ,ODW.TO_POST_CD
            )
        WHERE
            ROWNUM &lt;= #rowNum#
    </statement>

    <!-- 2017/09/12 QC#19805 Add Start -->
    <statement id ="searchMapTmplQlfyRMAForCSV" parameterClass="Map" resultClass="Map">
        SELECT
             DEF_WH_MAP_TMPL_CD
            ,MDSE_ITEM_CLS_TP_NM
            ,THIRD_PTY_ITEM_FLG
            ,FROM_POST_CD
            ,TO_POST_CD
            ,ON_HND_CHK_FLG
            ,DROP_RTRN_VND_NM
            ,THIRD_PTY_DSP_TP_NM
            ,RMA_DEF_WH_CD
        FROM
            (
                SELECT
                     ORDW.DEF_WH_MAP_TMPL_CD
                    ,CASE WHEN ORDW.MDSE_ITEM_CLS_TP_CD = #mdseItemClsTpCdAst# THEN ORDW.MDSE_ITEM_CLS_TP_CD ELSE MICT.MDSE_ITEM_CLS_TP_DESC_TXT END AS MDSE_ITEM_CLS_TP_NM
                    ,ORDW.THIRD_PTY_ITEM_FLG
                    ,ORDW.FROM_POST_CD
                    ,ORDW.TO_POST_CD
                    ,ORDW.ON_HND_CHK_FLG
                    ,DRV.DROP_RTRN_VND_NM
                    ,TPDT.THIRD_PTY_DSP_TP_NM
                    ,ORDW.RMA_DEF_WH_CD
                FROM
                     ORD_RMA_DEF_WH ORDW
                    ,MDSE_ITEM_CLS_TP MICT
                    ,DROP_RTRN_VND DRV
                    ,THIRD_PTY_DSP_TP TPDT
                WHERE 
                        ORDW.GLBL_CMPY_CD        = #glblCmpyCd#
                    AND ORDW.GLBL_CMPY_CD        = MICT.GLBL_CMPY_CD(+)
                    AND ORDW.MDSE_ITEM_CLS_TP_CD = MICT.MDSE_ITEM_CLS_TP_CD(+)
                    AND ORDW.GLBL_CMPY_CD        = DRV.GLBL_CMPY_CD(+)
                    AND ORDW.DROP_RTRN_VND_CD    = DRV.DROP_RTRN_VND_CD(+)
                    AND ORDW.GLBL_CMPY_CD        = TPDT.GLBL_CMPY_CD(+)
                    AND ORDW.THIRD_PTY_DSP_TP_CD = TPDT.THIRD_PTY_DSP_TP_CD(+)
                    AND ORDW.EZCANCELFLAG        = '0'
                    AND MICT.EZCANCELFLAG(+)     = '0'
                    AND DRV.EZCANCELFLAG(+)      = '0'
                    AND TPDT.EZCANCELFLAG(+)     = '0'
                ORDER BY
                     ORDW.DEF_WH_MAP_TMPL_CD
                    ,ORDW.MDSE_ITEM_CLS_TP_CD
                    ,ORDW.FROM_POST_CD
                    ,ORDW.TO_POST_CD
            )
        WHERE
            ROWNUM &lt;= #rowNum#
    </statement>
    <!-- 2017/09/12 QC#19805 Add End -->

</sqlMap>
