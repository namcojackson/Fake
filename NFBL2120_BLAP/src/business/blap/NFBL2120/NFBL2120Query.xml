<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NFBL2120Query">

    <typeAlias alias="NFBL2120SMsg"    type="business.blap.NFBL2120.NFBL2120SMsg"/>
    <typeAlias alias="NFBL2120_ASMsg"  type="business.blap.NFBL2120.NFBL2120_ASMsg"/>

    <statement id="getThereforeCatgoryNo" parameterClass="Map" resultClass="Map">
        SELECT
            DMC.DOC_MGT_CATG_CD
            ,DMC.DOC_MGT_CATG_NUM
            ,DMC.DOC_MGT_CATG_DESC_TXT
        FROM
            DOC_MGT_CATG DMC
        WHERE
            DMC.GLBL_CMPY_CD  = #glblCmpyCd#
            <iterate property="docMgtCatgCdList" var="docMgtCatgCd[]" open="AND DMC.DOC_MGT_CATG_CD IN (" close=")" conjunction= ", " >
                #docMgtCatgCd[]#
            </iterate>
        AND DMC.EZCANCELFLAG  = '0'
    </statement>

    <statement id="getSearchDocMgtFld" parameterClass="Map" resultClass="Map">
        SELECT
            DMD.DOC_MGT_CATG_CD
            ,DMC.DOC_MGT_CATG_DESC_TXT
            ,DMC.DOC_MGT_CATG_NUM
            ,DMD.DOC_MGT_FLD_CD
            ,DMF.DOC_MGT_FLD_DESC_TXT
            ,DMF.DOC_MGT_FLD_NUM 
        FROM
            DOC_MGT_IDX_ATTRB_DFN DMD
            ,DOC_MGT_CATG         DMC
            ,DOC_MGT_FLD          DMF
        WHERE
            DMD.GLBL_CMPY_CD    = #glblCmpyCd#
        AND DMD.DOC_MGT_CATG_CD = #docMgtCatgCd#
        AND DMD.EZCANCELFLAG    = '0'

        AND DMD.GLBL_CMPY_CD    = DMC.GLBL_CMPY_CD
        AND DMD.DOC_MGT_CATG_CD = DMC.DOC_MGT_CATG_CD
        AND DMC.EZCANCELFLAG    = '0'

        AND DMD.GLBL_CMPY_CD    = DMF.GLBL_CMPY_CD
        AND DMD.DOC_MGT_FLD_CD  = DMF.DOC_MGT_FLD_CD 
            <iterate property="docMgtFldDescTxtList" var="docMgtFldDescTxt[]" open="AND DMF.DOC_MGT_FLD_DESC_TXT IN (" close=")" conjunction= ", " >
                #docMgtFldDescTxt[]#
            </iterate>
        AND DMF.EZCANCELFLAG    = '0'
        ORDER BY
            DMF.DOC_MGT_FLD_CD
    </statement>

</sqlMap>
