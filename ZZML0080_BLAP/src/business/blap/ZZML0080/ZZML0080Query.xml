<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZZML0080Query">

    <typeAlias alias="ZZML0080_ASMsg" type="business.blap.ZZML0080.ZZML0080_ASMsg"/>

    <resultMap id="result.ZZML0080_ASMsg" class="ZZML0080_ASMsg">
        <result property="mlGrpId_A"       column="ML_GRP_ID"         javaType="EZDCStringItem"/>
        <result property="mlGrpNm_A"       column="ML_GRP_NM"         javaType="EZDCStringItem"/>
        <result property="mlGrpDescTxt_A"  column="ML_GRP_DESC_TXT"   javaType="EZDCStringItem"/>
    </resultMap>

    <statement id="getMlGrpAddr" parameterClass="Map" resultMap="result.ZZML0080_ASMsg">
      SELECT
        ML_GRP_ID,
        ML_GRP_NM,
        ML_GRP_DESC_TXT
      FROM
        ML_GRP_ADDR
      WHERE
        EZCANCELFLAG     = '0'
        AND GLBL_CMPY_CD = #glblCmpyCd#
      <isNotNull property="mlGrpId">
        AND ML_GRP_ID LIKE #mlGrpId#
      </isNotNull>
      <isNotNull property="mlGrpNm">
        AND ML_GRP_NM LIKE #mlGrpNm#
      </isNotNull>
      ORDER BY
        ML_GRP_ID
    </statement>

    <statement id="getMlGrpAddrRange" parameterClass="Map" resultMap="result.ZZML0080_ASMsg">
      SELECT
        IDX,
        GLBL_CMPY_CD,
        ML_GRP_ID,
        ML_GRP_NM,
        ML_GRP_DESC_TXT
      FROM
        ( SELECT
            A.*,
            ROWNUM AS IDX
          FROM
            ( SELECT
                GLBL_CMPY_CD,
                ML_GRP_ID,
                ML_GRP_NM,
                ML_GRP_DESC_TXT
              FROM
                ML_GRP_ADDR
              WHERE
                EZCANCELFLAG     = '0'
                AND GLBL_CMPY_CD = #glblCmpyCd#
      <isNotNull property="mlGrpId">
                AND ML_GRP_ID LIKE #mlGrpId#
      </isNotNull>
      <isNotNull property="mlGrpNm">
                AND ML_GRP_NM LIKE #mlGrpNm#
      </isNotNull>
              ORDER BY
                ML_GRP_ID) A
        )
      WHERE
        IDX     &gt;  #rowNumMin#
        AND IDX &lt;= #rowNumMax#
    </statement>
</sqlMap>
