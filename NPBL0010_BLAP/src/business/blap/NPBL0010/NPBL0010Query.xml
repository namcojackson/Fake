<?xml version="1.0" encoding="UTF-8"?>

<sqlMap namespace="NPBL0010Query">
    <typeAlias alias="NPBL0010CMsg" type="business.blap.NPBL0010.NPBL0010CMsg" />
    <typeAlias alias="NPBL0010SMsg" type="business.blap.NPBL0010.NPBL0010SMsg" />
    <typeAlias alias="NPBL0010_ASMsg" type="business.blap.NPBL0010.NPBL0010_ASMsg" />

    <statement id="getSearchOptionPulldownList" parameterClass="Map"
        resultClass="Map">
        SELECT
            SSO.SRCH_OPT_PK
            ,SSO.SRCH_OPT_NM
        FROM
            SAVE_SRCH_OPT SSO
        WHERE
                SSO.GLBL_CMPY_CD = #glblCmpyCd#
            AND SSO.SRCH_OPT_APL_ID = #srchOptAplId#
            AND SSO.SRCH_OPT_USR_ID = #srchOptUsrId#
            AND SSO.EZCANCELFLAG = '0'
        ORDER BY
            SSO.SRCH_OPT_NM ASC
    </statement>
    <statement id="getRequisitionTypePulldownList" parameterClass="Map"
        resultClass="Map">
        SELECT
            PRT.PRCH_REQ_TP_CD
            ,PRT.PRCH_REQ_TP_DESC_TXT
        FROM
            PRCH_REQ_TP PRT
        WHERE
                PRT.GLBL_CMPY_CD = #glblCmpyCd#
            AND PRT.PRCH_REQ_REC_TP_CD = #prchReqRecTpCd#
            AND PRT.EZCANCELFLAG = '0'
        ORDER BY
            PRT.PRCH_REQ_TP_SORT_NUM ASC
    </statement>
    <statement id="getDocumentSourceTypePulldownList" parameterClass="Map"
        resultClass="Map">
        SELECT
            PRST.PRCH_REQ_SRC_TP_CD
            ,PRST.PRCH_REQ_SRC_TP_DESC_TXT
        FROM
            PRCH_REQ_SRC_TP_XREF PRSTX
            ,PRCH_REQ_SRC_TP PRST
        WHERE
                PRSTX.GLBL_CMPY_CD = #glblCmpyCd#
            AND PRSTX.EZCANCELFLAG = '0'
            AND PRSTX.PRCH_REQ_REC_TP_CD = #prchReqRecTpCd#
            AND PRST.GLBL_CMPY_CD = #glblCmpyCd#
            AND PRST.EZCANCELFLAG = '0'
            AND PRSTX.PRCH_REQ_SRC_TP_CD = PRST.PRCH_REQ_SRC_TP_CD
        ORDER BY
            PRST.PRCH_REQ_SRC_TP_SORT_NUM ASC
    </statement>
    <statement id="searchSerial" parameterClass="Map"
        resultClass="Map">
        SELECT
            PRS.PRCH_REQ_NUM
            ,PRS.PRCH_REQ_LINE_NUM
            ,PRS.PRCH_REQ_LINE_SUB_NUM
            ,PRS.SER_NUM
        FROM
            PRCH_REQ_SER PRS
        WHERE
                PRS.GLBL_CMPY_CD = #glblCmpyCd#
            AND PRS.EZCANCELFLAG = '0'
            AND $serialQueryParts$
        ORDER BY
            PRS.PRCH_REQ_NUM ASC
            ,PRS.PRCH_REQ_LINE_NUM ASC
            ,PRS.PRCH_REQ_LINE_SUB_NUM ASC
    </statement>

    <statement id="searchHeader" parameterClass="Map"
        resultMap="result.NPBL0010_ASMsg">
        SELECT /*+ INDEX(AP AUTH_PSN_U1) */
        --08/07/2017 CITS H.Naoi Add MRP_PLN_NM Sol 097 QC18398
            MAIN.PRCH_REQ_NUM_FOR_VIEW
            ,MAIN.PRCH_REQ_TP_DESC_TXT
            ,MAIN.PRCH_REQ_STS_DESC_TXT
            ,MAIN.PRCH_REQ_APVL_STS_DESC_TXT
            ,MAIN.PRCH_REQ_CRAT_DT
            ,MAIN.RQST_RCV_DT
            ,MAIN.PRCH_REQ_SRC_TP_DESC_TXT
            ,MAIN.TRX_REF_NUM
            ,MAIN.MRP_PLN_NM
            ,MAIN.PRCH_REQ_RQST_BY_PSN_CD
            ,NVL2(MAIN.FULL_PSN_NM2,MAIN.FULL_PSN_NM2,MAIN.FULL_PSN_NM) AS FULL_PSN_NM
            ,MAIN.PRCH_GRP_DESC_TXT
            ,MAIN.SHPG_SVC_LVL_DESC_TXT
            ,MAIN.CARR_CD
            ,MAIN.CARR_NM
            ,MAIN.VND_RTRN_RSN_DESC_TXT
            ,MAIN.SRC_RTL_WH_CD
            ,MAIN.RTL_WH_NM
            ,MAIN.SRC_RTL_SWH_CD
            ,MAIN.RTL_SWH_NM
            ,MAIN.DEST_RTL_WH_CD
            ,MAIN.RTL_WH_NM2
            ,MAIN.DEST_RTL_SWH_CD
            ,MAIN.RTL_SWH_NM2
            ,MAIN.VND_CD
            ,MAIN.DPLY_VND_NM
            ,MAIN.LINE_NUMBER
            ,MAIN.PRCH_REQ_LINE_TP_DESC_TXT
            ,MAIN.MDSE_CD
            ,MAIN.MDSE_NM
            ,MAIN.SVC_CONFIG_MSTR_PK
            ,MAIN.PRCH_REQ_DISP_QTY
            ,MAIN.PRCH_REQ_LINE_STS_DESC_TXT
            ,MAIN.ENT_DEAL_NET_UNIT_PRC_AMT
            ,MAIN.ENT_PO_DTL_DEAL_NET_AMT
            ,MAIN.CHARGE_ACCOUNT
            ,MAIN.COA_MDSE_TP_CD
            ,MAIN.COA_PROD_CD
            ,MAIN.SERIAL_NUMBER
            ,MAIN.PRCH_REQ_LINE_CMNT_TXT
            ,MAIN.COA_CMPY_CD
            ,MAIN.COA_AFFL_CD
            ,MAIN.COA_BR_CD
            ,MAIN.COA_CC_CD
            ,MAIN.COA_ACCT_CD
            ,MAIN.COA_PROD_CD2
            ,MAIN.COA_CH_CD
            ,MAIN.COA_PROJ_CD
            ,MAIN.COA_EXTN_CD
            ,MAIN.PRCH_REQ_NUM
            ,MAIN.PRCH_REQ_LINE_NUM
            ,MAIN.PRCH_REQ_LINE_SUB_NUM
            ,MAIN.PRCH_REQ_NUM_FOR_SORT
            ,MAIN.SHIP_TO_CUST_CD
            ,MAIN.DS_ACCT_NM
            ,MAIN.CPO_ORD_NUM
            ,MAIN.PRCH_REQ_TP_CD
            <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
            ,MAIN.XX_REC_HIST_CRAT_TS
            ,MAIN.XX_REC_HIST_CRAT_BY_NM
            ,MAIN.XX_REC_HIST_UPD_TS
            ,MAIN.XX_REC_HIST_UPD_BY_NM
            ,MAIN.XX_REC_HIST_TBL_NM
            <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
        FROM(
            SELECT /*+ INDEX(AP AUTH_PSN_U1) */ DISTINCT
                PR.PRCH_REQ_NUM AS PRCH_REQ_NUM_FOR_VIEW
                ,PRT.PRCH_REQ_TP_DESC_TXT
                ,PRS.PRCH_REQ_STS_DESC_TXT
                ,PRAS.PRCH_REQ_APVL_STS_DESC_TXT
                ,PR.PRCH_REQ_CRAT_DT
                ,PRD.RQST_RCV_DT
                ,PRST.PRCH_REQ_SRC_TP_DESC_TXT
                ,PR.TRX_REF_NUM
                ,PR.MRP_PLN_NM
                ,PR.PRCH_REQ_RQST_BY_PSN_CD
                ,AP.FIRST_NM || (NVL2(AP.MID_NM, ' '||AP.MID_NM||' ', ' ')) || AP.LAST_NM    FULL_PSN_NM
                ,SSUL.FULL_PSN_NM AS FULL_PSN_NM2
                ,PG.PRCH_GRP_DESC_TXT
                ,NULL AS SHPG_SVC_LVL_DESC_TXT
                ,PRD.CARR_CD
                ,(SELECT
                      OCV.LOC_NM
                  FROM(
                      SELECT
                           V.GLBL_CMPY_CD
                          ,V.LOC_NM
                          ,V.VND_CD
                      FROM
                           VND_TP_RELN VTR
                          ,VND_TP VT
                          ,VND V
                      WHERE
                          VT.VND_TP_CD     = #vndTpCd#
                      AND VT.VND_TP_CD     = VTR.VND_TP_CD
                      AND VTR.VND_CD       = V.VND_CD
                      AND VTR.GLBL_CMPY_CD = VT.GLBL_CMPY_CD
                      AND VT.GLBL_CMPY_CD  = V.GLBL_CMPY_CD
                      AND VT.EZCANCELFLAG  = '0'
                      AND VTR.EZCANCELFLAG = '0'
                      AND V.EZCANCELFLAG   = '0'
                  ) OCV
                  WHERE
                      PRD.GLBL_CMPY_CD = OCV.GLBL_CMPY_CD
                  AND PRD.CARR_CD      = OCV.VND_CD
                  AND ROWNUM           = 1
                 ) AS CARR_NM
                ,VRR.VND_RTRN_RSN_DESC_TXT
                ,NULL AS SRC_RTL_WH_CD
                ,NULL AS RTL_WH_NM
                ,NULL AS SRC_RTL_SWH_CD
                ,NULL AS RTL_SWH_NM
                ,NULL AS DEST_RTL_WH_CD
                ,NULL AS RTL_WH_NM2
                ,NULL AS DEST_RTL_SWH_CD
                ,NULL AS RTL_SWH_NM2
                ,PRD.VND_CD
                ,(SELECT PVV.DPLY_VND_NM FROM PO_VND_V PVV WHERE PRD.VND_CD = PVV.VND_CD AND PRD.GLBL_CMPY_CD = PVV.GLBL_CMPY_CD AND PVV.EZCANCELFLAG = '0' AND ROWNUM = 1) AS DPLY_VND_NM
                ,NULL AS LINE_NUMBER
                ,NULL AS PRCH_REQ_LINE_TP_DESC_TXT
                ,NULL AS MDSE_CD
                ,NULL AS MDSE_NM
                ,NULL AS SVC_CONFIG_MSTR_PK
                ,NULL AS PRCH_REQ_DISP_QTY
                ,NULL AS PRCH_REQ_LINE_STS_DESC_TXT
                ,NULL AS ENT_DEAL_NET_UNIT_PRC_AMT
                ,NULL AS ENT_PO_DTL_DEAL_NET_AMT
                ,NULL AS CHARGE_ACCOUNT
                ,NULL AS COA_MDSE_TP_CD
                ,NULL AS COA_PROD_CD
                ,NULL AS SERIAL_NUMBER
                ,NULL AS PRCH_REQ_LINE_CMNT_TXT
                ,NULL AS COA_CMPY_CD
                ,NULL AS COA_AFFL_CD
                ,NULL AS COA_BR_CD
                ,NULL AS COA_CC_CD
                ,NULL AS COA_ACCT_CD
                ,NULL AS COA_PROD_CD2
                ,NULL AS COA_CH_CD
                ,NULL AS COA_PROJ_CD
                ,NULL AS COA_EXTN_CD
                ,PR.PRCH_REQ_NUM
                ,NULL AS PRCH_REQ_LINE_NUM
                ,NULL AS PRCH_REQ_LINE_SUB_NUM
                ,PR.PRCH_REQ_NUM AS PRCH_REQ_NUM_FOR_SORT
                ,NULL AS SHIP_TO_CUST_CD
                ,NULL AS DS_ACCT_NM
                ,NULL AS CPO_ORD_NUM
                ,PR.PRCH_REQ_TP_CD
                <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
                ,PR.EZINTIME AS XX_REC_HIST_CRAT_TS
                ,PR.EZINUSERID AS XX_REC_HIST_CRAT_BY_NM
                ,PR.EZUPTIME AS XX_REC_HIST_UPD_TS
                ,PR.EZUPUSERID AS XX_REC_HIST_UPD_BY_NM
                ,PR.EZTABLEID AS XX_REC_HIST_TBL_NM
                <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
             FROM
                 PRCH_REQ            PR
                 ,PRCH_REQ_TP        PRT
                 ,PRCH_REQ_STS       PRS
                 ,PRCH_REQ_APVL_STS  PRAS
                 ,PRCH_REQ_DTL       PRD
                 ,PRCH_REQ_SRC_TP    PRST
                 ,AUTH_PSN           AP
                 ,PRCH_GRP           PG
                 ,SHPG_SVC_LVL       SSL
                 ,VND_RTRN_RSN       VRR
                 ,SCE_SYS_USR_LIST   SSUL
            WHERE
                    PR.GLBL_CMPY_CD                =        #glblCmpyCd#
                AND PR.EZCANCELFLAG                =        '0'
                AND PR.PRCH_REQ_REC_TP_CD          =        #prchReqRecTpCd#
            <isNotNull property="cMsg.prchReqNum">
                AND PR.PRCH_REQ_NUM                =        #cMsg.prchReqNum#
            </isNotNull>
            <isNotNull property="cMsg.prchReqTpCd_SL">
                AND PR.PRCH_REQ_TP_CD              =        #cMsg.prchReqTpCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.prchReqStsCd_SL">
                AND PR.PRCH_REQ_STS_CD             =        #cMsg.prchReqStsCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.prchReqApvlStsCd_SL">
                AND PR.PRCH_REQ_APVL_STS_CD        =        #cMsg.prchReqApvlStsCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.prchReqCratDt_RF">
                AND PR.PRCH_REQ_CRAT_DT        &gt;=        #cMsg.prchReqCratDt_RF#
            </isNotNull>
            <isNotNull property="cMsg.prchReqCratDt_RT">
                AND PR.PRCH_REQ_CRAT_DT        &lt;=        #cMsg.prchReqCratDt_RT#
            </isNotNull>
            <isNotNull property="cMsg.prchReqSrcTpCd_SL">
                AND PR.PRCH_REQ_SRC_TP_CD          =        #cMsg.prchReqSrcTpCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.trxRefNum">
                AND PR.TRX_REF_NUM                 LIKE     #cMsg.trxRefNum#
            </isNotNull>
            <isNotNull property="cMsg.mrpPlnNm">
                AND PR.MRP_PLN_NM                  LIKE     #cMsg.mrpPlnNm#
            </isNotNull>
                AND PR.PRCH_REQ_NUM                =        PRD.PRCH_REQ_NUM
                AND PR.GLBL_CMPY_CD                =        PRD.GLBL_CMPY_CD
                AND PRD.EZCANCELFLAG               =        '0'
                AND PR.PRCH_REQ_TP_CD              =        PRT.PRCH_REQ_TP_CD(+)
                AND PR.GLBL_CMPY_CD                =        PRT.GLBL_CMPY_CD(+)
                AND PRT.EZCANCELFLAG(+)            =        '0'
                AND PR.PRCH_REQ_STS_CD             =        PRS.PRCH_REQ_STS_CD(+)
                AND PR.GLBL_CMPY_CD                =        PRS.GLBL_CMPY_CD(+)
                AND PRS.EZCANCELFLAG(+)            =        '0'
                AND PR.PRCH_REQ_APVL_STS_CD        =        PRAS.PRCH_REQ_APVL_STS_CD(+)
                AND PR.GLBL_CMPY_CD                =        PRAS.GLBL_CMPY_CD(+)
                AND PRAS.EZCANCELFLAG(+)           =        '0'
                AND PR.PRCH_REQ_SRC_TP_CD          =        PRST.PRCH_REQ_SRC_TP_CD(+)
                AND PR.GLBL_CMPY_CD                =        PRST.GLBL_CMPY_CD(+)
                AND PRST.EZCANCELFLAG(+)           =        '0'
            <isNotNull property="cMsg.fullPsnNm">
                AND (
                     UPPER(AP.FIRST_NM || (NVL2(AP.MID_NM, ' '||AP.MID_NM||' ', ' ')) || AP.LAST_NM) LIKE UPPER(#cMsg.fullPsnNm#)
                     OR
                     UPPER(SSUL.FULL_PSN_NM) LIKE UPPER(#cMsg.fullPsnNm#)
                     )
            </isNotNull>
                AND PR.PRCH_REQ_RQST_BY_PSN_CD     =        AP.USR_NM(+)
                AND PR.GLBL_CMPY_CD                =        AP.GLBL_CMPY_CD(+)
                AND AP.EZCANCELFLAG(+)             =        '0'
                AND PR.PRCH_REQ_RQST_BY_PSN_CD     =        SSUL.FULL_PSN_NM(+)
                AND PR.GLBL_CMPY_CD                =        SSUL.GLBL_CMPY_CD(+)
                AND SSUL.EZCANCELFLAG(+)           =        '0'
                AND PR.PRCH_GRP_CD                 =        PG.PRCH_GRP_CD(+)
                AND PR.GLBL_CMPY_CD                =        PG.GLBL_CMPY_CD(+)
                AND PG.EZCANCELFLAG(+)             =        '0'
                AND PRD.SHPG_SVC_LVL_CD            =        SSL.SHPG_SVC_LVL_CD(+)
                AND PRD.GLBL_CMPY_CD               =        SSL.GLBL_CMPY_CD(+)
                AND SSL.EZCANCELFLAG(+)            =        '0'
                AND PRD.VND_RTRN_RSN_CD            =        VRR.VND_RTRN_RSN_CD(+)
                AND PRD.GLBL_CMPY_CD               =        VRR.GLBL_CMPY_CD(+)
                AND VRR.EZCANCELFLAG(+)            =        '0'
                AND EXISTS (SELECT
                                1
                            FROM
                                PRCH_REQ_DTL PRD2
                            <isNotNull property="cMsg.carrNm">
                                ,OTBD_CARR_V OCV2
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_SW">
                                ,RTL_WH RW
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_SS">
                                ,RTL_SWH RS
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_DW">
                                ,RTL_WH RW2
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_DS">
                                ,RTL_SWH RS2
                            </isNotNull>
                            <isNotNull property="cMsg.dplyVndNm">
                                ,PO_VND_V PVV2
                            </isNotNull>
                            <isNotNull property="cMsg.shipToLocNm_EO">
                                ,SHIP_TO_CUST        STC
                                ,LOC_TP              LT
                                ,SELL_TO_CUST        SELL_TO
                            </isNotNull>
                            WHERE
                                    PRD2.PRCH_REQ_NUM          =    PRD.PRCH_REQ_NUM
                                AND PRD2.PRCH_REQ_LINE_NUM     =    PRD.PRCH_REQ_LINE_NUM
                                AND PRD2.PRCH_REQ_LINE_SUB_NUM =    PRD.PRCH_REQ_LINE_SUB_NUM
                                AND PRD2.GLBL_CMPY_CD          =    PRD.GLBL_CMPY_CD
                                AND PRD2.EZCANCELFLAG          =    '0'
                            <isNotNull property="cMsg.rqstRcvDt_NF">
                                AND PRD2.RQST_RCV_DT       &gt;=    #cMsg.rqstRcvDt_NF#
                            </isNotNull>
                            <isNotNull property="cMsg.rqstRcvDt_NT">
                                AND PRD2.RQST_RCV_DT       &lt;=    #cMsg.rqstRcvDt_NT#
                            </isNotNull>
                            <isNotNull property="cMsg.shpgSvcLvlCd_SL">
                                AND PRD2.SHPG_SVC_LVL_CD       =    #cMsg.shpgSvcLvlCd_SL#
                            </isNotNull>
                            <isNotNull property="cMsg.srcRtlWhCd">
                                AND PRD2.SRC_RTL_WH_CD         LIKE #cMsg.srcRtlWhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.srcRtlSwhCd">
                                AND PRD2.SRC_RTL_SWH_CD        LIKE #cMsg.srcRtlSwhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.destRtlWhCd">
                                AND PRD2.DEST_RTL_WH_CD        LIKE #cMsg.destRtlWhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.destRtlSwhCd">
                                AND PRD2.DEST_RTL_SWH_CD       LIKE #cMsg.destRtlSwhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.vndCd">
                                AND PRD2.VND_CD                LIKE #cMsg.vndCd#
                            </isNotNull>
                            <!-- Add Start 2020/03/09 QC# -->
                            <isNotNull property="cMsg.mdseCd">
                                AND PRD2.MDSE_CD               LIKE #cMsg.mdseCd#
                            </isNotNull>
                            <!-- Add End 2020/03/09 QC# -->
                            <isNotNull property="cMsg.carrNm">
                                AND PRD2.CARR_CD               =    OCV2.CARR_CD(+)
                                AND PRD2.GLBL_CMPY_CD          =    OCV2.GLBL_CMPY_CD(+)
                                AND OCV2.EZCANCELFLAG(+)       =    '0'
                                AND OCV2.CARR_NM               LIKE #cMsg.carrNm#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_SW">
                                AND PRD2.SRC_RTL_WH_CD         =    RW.RTL_WH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          =    RW.GLBL_CMPY_CD(+)
                                AND RW.EZCANCELFLAG(+)         =    '0'
                                AND RW.RTL_WH_NM               LIKE #cMsg.rtlWhNm_SW#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_SS">
                                AND PRD2.SRC_RTL_WH_CD         =    RS.RTL_WH_CD(+)
                                AND PRD2.SRC_RTL_SWH_CD        =    RS.RTL_SWH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          =    RS.GLBL_CMPY_CD(+)
                                AND RS.EZCANCELFLAG(+)         =    '0'
                                AND RS.RTL_SWH_NM              LIKE #cMsg.rtlSwhNm_SS#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_DW">
                                AND PRD2.DEST_RTL_WH_CD        =    RW2.RTL_WH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          =    RW2.GLBL_CMPY_CD(+)
                                AND RW2.EZCANCELFLAG(+)        =    '0'
                                AND RW2.RTL_WH_NM              LIKE #cMsg.rtlWhNm_DW#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_DS">
                                AND PRD2.DEST_RTL_WH_CD        =    RS2.RTL_WH_CD(+)
                                AND PRD2.DEST_RTL_SWH_CD       =    RS2.RTL_SWH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          =    RS2.GLBL_CMPY_CD(+)
                                AND RS2.EZCANCELFLAG(+)        =    '0'
                                AND RS2.RTL_SWH_NM             LIKE #cMsg.rtlSwhNm_DS#
                            </isNotNull>
                            <isNotNull property="cMsg.dplyVndNm">
                                AND PRD2.VND_CD                =    PVV2.VND_CD(+)
                                AND PRD2.GLBL_CMPY_CD          =    PVV2.GLBL_CMPY_CD(+)
                                AND PVV2.EZCANCELFLAG(+)       =    '0'
                                AND PVV2.DPLY_VND_NM           LIKE #cMsg.dplyVndNm#
                            </isNotNull>
                            <isNotNull property="cMsg.shipToCustCd_EO">
                                AND PRD2.DEST_INVTY_LOC_CD     LIKE #cMsg.shipToCustCd_EO#
                            </isNotNull>
                            <isNotNull property="cMsg.shipToLocNm_EO">
                                AND PRD2.GLBL_CMPY_CD          =    STC.GLBL_CMPY_CD(+)
                                AND PRD2.DEST_INVTY_LOC_CD     =    STC.SHIP_TO_CUST_CD(+)
                                AND STC.GLBL_CMPY_CD           =    LT.GLBL_CMPY_CD(+)
                                AND STC.LOC_GRP_CD             =    LT.LOC_GRP_CD(+)
                                AND STC.LOC_ROLE_TP_CD         =    LT.LOC_ROLE_TP_CD(+)
                                AND STC.GLBL_CMPY_CD           =    SELL_TO.GLBL_CMPY_CD(+)
                                AND STC.SELL_TO_CUST_CD        =    SELL_TO.SELL_TO_CUST_CD(+)
                                AND SELL_TO.DS_ACCT_NM         LIKE #cMsg.shipToLocNm_EO#
                                AND STC.EZCANCELFLAG(+)        =    '0'
                                AND LT.EZCANCELFLAG(+)         =    '0'
                                AND SELL_TO.EZCANCELFLAG(+)    =    '0'
                            </isNotNull>
                           )
            ORDER BY
                PRCH_REQ_NUM_FOR_SORT ASC
            ) MAIN
        WHERE ROWNUM &lt;= #rowNum#
    </statement>

    <statement id="searchDetail" parameterClass="Map"
        resultMap="result.NPBL0010_ASMsg">
        SELECT
            MAIN.PRCH_REQ_NUM_FOR_VIEW
            ,MAIN.PRCH_REQ_TP_DESC_TXT
            ,MAIN.PRCH_REQ_STS_DESC_TXT
            ,MAIN.PRCH_REQ_APVL_STS_DESC_TXT
            ,MAIN.PRCH_REQ_CRAT_DT
            ,MAIN.RQST_RCV_DT
            ,MAIN.PRCH_REQ_SRC_TP_DESC_TXT
            ,MAIN.TRX_REF_NUM
            ,MAIN.MRP_PLN_NM
            ,MAIN.PRCH_REQ_RQST_BY_PSN_CD
            ,NVL2(MAIN.FULL_PSN_NM2,MAIN.FULL_PSN_NM2,MAIN.FULL_PSN_NM) AS FULL_PSN_NM
            ,MAIN.PRCH_GRP_DESC_TXT
            ,MAIN.SHPG_SVC_LVL_DESC_TXT
            ,MAIN.CARR_CD
            ,MAIN.CARR_NM
            ,MAIN.VND_RTRN_RSN_DESC_TXT
            ,MAIN.SRC_RTL_WH_CD
            ,MAIN.RTL_WH_NM
            ,MAIN.SRC_RTL_SWH_CD
            ,MAIN.RTL_SWH_NM
            ,MAIN.DEST_RTL_WH_CD
            ,MAIN.RTL_WH_NM2
            ,MAIN.DEST_RTL_SWH_CD
            ,MAIN.RTL_SWH_NM2
            ,MAIN.VND_CD
            ,MAIN.DPLY_VND_NM
            ,MAIN.LINE_NUMBER
            ,MAIN.PRCH_REQ_LINE_TP_DESC_TXT
            ,MAIN.MDSE_CD
            ,MAIN.MDSE_NM
            ,MAIN.SVC_CONFIG_MSTR_PK
            ,MAIN.PRCH_REQ_DISP_QTY
            ,MAIN.PRCH_REQ_LINE_STS_DESC_TXT
            ,MAIN.ENT_DEAL_NET_UNIT_PRC_AMT
            ,MAIN.ENT_PO_DTL_DEAL_NET_AMT
            ,MAIN.CHARGE_ACCOUNT
            ,MAIN.COA_MDSE_TP_CD
            ,MAIN.COA_PROD_CD
            ,MAIN.SERIAL_NUMBER
            ,MAIN.PRCH_REQ_LINE_CMNT_TXT
            ,MAIN.COA_CMPY_CD
            ,MAIN.COA_AFFL_CD
            ,MAIN.COA_BR_CD
            ,MAIN.COA_CC_CD
            ,MAIN.COA_ACCT_CD
            ,MAIN.COA_PROD_CD2
            ,MAIN.COA_CH_CD
            ,MAIN.COA_PROJ_CD
            ,MAIN.COA_EXTN_CD
            ,MAIN.PRCH_REQ_NUM
            ,MAIN.PRCH_REQ_LINE_NUM
            ,MAIN.PRCH_REQ_LINE_SUB_NUM
            ,MAIN.SHIP_TO_CUST_CD
            ,MAIN.DS_ACCT_NM
            ,MAIN.CPO_ORD_NUM
            ,MAIN.PRCH_REQ_TP_CD
            <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
            ,MAIN.XX_REC_HIST_CRAT_TS
            ,MAIN.XX_REC_HIST_CRAT_BY_NM
            ,MAIN.XX_REC_HIST_UPD_TS
            ,MAIN.XX_REC_HIST_UPD_BY_NM
            ,MAIN.XX_REC_HIST_TBL_NM
            <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
        FROM(
            SELECT /*+ INDEX(AP AUTH_PSN_U1) */ DISTINCT
                PR.PRCH_REQ_NUM AS PRCH_REQ_NUM_FOR_VIEW
                ,PRT.PRCH_REQ_TP_DESC_TXT
                ,PRS.PRCH_REQ_STS_DESC_TXT
                ,PRAS.PRCH_REQ_APVL_STS_DESC_TXT
                ,PR.PRCH_REQ_CRAT_DT
                ,PRD.RQST_RCV_DT
                ,PRST.PRCH_REQ_SRC_TP_DESC_TXT
                ,PR.TRX_REF_NUM
                ,PR.MRP_PLN_NM
                ,PR.PRCH_REQ_RQST_BY_PSN_CD
                ,AP.FIRST_NM || (NVL2(AP.MID_NM, ' '||AP.MID_NM||' ', ' ')) || AP.LAST_NM    FULL_PSN_NM
                ,SSUL.FULL_PSN_NM AS FULL_PSN_NM2
                ,PG.PRCH_GRP_DESC_TXT
                ,SSL.SHPG_SVC_LVL_DESC_TXT
                ,PRD.CARR_CD
                ,(SELECT
                      OCV.LOC_NM
                  FROM(
                      SELECT
                           V.GLBL_CMPY_CD
                          ,V.LOC_NM
                          ,V.VND_CD
                      FROM
                           VND_TP_RELN VTR
                          ,VND_TP VT
                          ,VND V
                      WHERE
                          VT.VND_TP_CD     = #vndTpCd#
                      AND VT.VND_TP_CD     = VTR.VND_TP_CD
                      AND VTR.VND_CD       = V.VND_CD
                      AND VTR.GLBL_CMPY_CD = VT.GLBL_CMPY_CD
                      AND VT.GLBL_CMPY_CD  = V.GLBL_CMPY_CD
                      AND VT.EZCANCELFLAG  = '0'
                      AND VTR.EZCANCELFLAG = '0'
                      AND V.EZCANCELFLAG   = '0'
                  ) OCV
                  WHERE
                      PRD.GLBL_CMPY_CD = OCV.GLBL_CMPY_CD
                  AND PRD.CARR_CD      = OCV.VND_CD
                  AND ROWNUM           = 1
                 ) AS CARR_NM
                ,VRR.VND_RTRN_RSN_DESC_TXT
                ,NULL AS SRC_RTL_WH_CD
                ,NULL AS RTL_WH_NM
                ,NULL AS SRC_RTL_SWH_CD
                ,NULL AS RTL_SWH_NM
                ,NULL AS DEST_RTL_WH_CD
                ,NULL AS RTL_WH_NM2
                ,NULL AS DEST_RTL_SWH_CD
                ,NULL AS RTL_SWH_NM2
                ,PRD.VND_CD
                ,(SELECT PVV.DPLY_VND_NM FROM PO_VND_V PVV WHERE PRD.VND_CD = PVV.VND_CD AND PRD.GLBL_CMPY_CD = PVV.GLBL_CMPY_CD AND PVV.EZCANCELFLAG = '0' AND ROWNUM = 1) AS DPLY_VND_NM
                ,NULL AS LINE_NUMBER
                ,NULL AS PRCH_REQ_LINE_TP_DESC_TXT
                ,NULL AS MDSE_CD
                ,NULL AS MDSE_NM
                ,NULL AS SVC_CONFIG_MSTR_PK
                ,NULL AS PRCH_REQ_DISP_QTY
                ,NULL AS PRCH_REQ_LINE_STS_DESC_TXT
                ,NULL AS ENT_DEAL_NET_UNIT_PRC_AMT
                ,NULL AS ENT_PO_DTL_DEAL_NET_AMT
                ,NULL AS CHARGE_ACCOUNT
                ,NULL AS COA_MDSE_TP_CD
                ,NULL AS COA_PROD_CD
                ,NULL AS SERIAL_NUMBER
                ,NULL AS PRCH_REQ_LINE_CMNT_TXT
                ,NULL AS COA_CMPY_CD
                ,NULL AS COA_AFFL_CD
                ,NULL AS COA_BR_CD
                ,NULL AS COA_CC_CD
                ,NULL AS COA_ACCT_CD
                ,NULL AS COA_PROD_CD2
                ,NULL AS COA_CH_CD
                ,NULL AS COA_PROJ_CD
                ,NULL AS COA_EXTN_CD
                ,PR.PRCH_REQ_NUM
                ,NULL AS PRCH_REQ_LINE_NUM
                ,NULL AS PRCH_REQ_LINE_SUB_NUM
                ,PR.PRCH_REQ_NUM AS PRCH_REQ_NUM_SORT
                ,PRD.PRCH_REQ_LINE_NUM AS PRCH_REQ_LINE_NUM_SORT
                ,PRD.PRCH_REQ_LINE_SUB_NUM AS PRCH_REQ_LINE_SUB_NUM_SORT
                ,NULL AS SHIP_TO_CUST_CD
                ,NULL AS DS_ACCT_NM
                ,NULL AS CPO_ORD_NUM
                ,PR.PRCH_REQ_TP_CD
                 <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
                ,PRD.EZINTIME AS XX_REC_HIST_CRAT_TS
                ,PRD.EZINUSERID AS XX_REC_HIST_CRAT_BY_NM
                ,PRD.EZUPTIME AS XX_REC_HIST_UPD_TS
                ,PRD.EZUPUSERID AS XX_REC_HIST_UPD_BY_NM
                ,PRD.EZTABLEID AS XX_REC_HIST_TBL_NM
                <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
             FROM
                 PRCH_REQ            PR
                 ,PRCH_REQ_TP        PRT
                 ,PRCH_REQ_STS       PRS
                 ,PRCH_REQ_APVL_STS  PRAS
                 ,PRCH_REQ_DTL       PRD
                 ,PRCH_REQ_SRC_TP    PRST
                 ,AUTH_PSN           AP
                 ,PRCH_GRP           PG
                 ,SHPG_SVC_LVL       SSL
                 ,VND_RTRN_RSN       VRR
                 ,SCE_SYS_USR_LIST   SSUL
            WHERE
                    PR.GLBL_CMPY_CD                = #glblCmpyCd#
                AND PR.EZCANCELFLAG                = '0'
                AND PR.PRCH_REQ_REC_TP_CD          = #prchReqRecTpCd#
            <isNotNull property="cMsg.prchReqNum">
                AND PR.PRCH_REQ_NUM                = #cMsg.prchReqNum#
            </isNotNull>
            <isNotNull property="cMsg.prchReqTpCd_SL">
                AND PR.PRCH_REQ_TP_CD              = #cMsg.prchReqTpCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.prchReqStsCd_SL">
                AND PR.PRCH_REQ_STS_CD             = #cMsg.prchReqStsCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.prchReqApvlStsCd_SL">
                AND PR.PRCH_REQ_APVL_STS_CD        = #cMsg.prchReqApvlStsCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.prchReqCratDt_RF">
                AND PR.PRCH_REQ_CRAT_DT        &gt;= #cMsg.prchReqCratDt_RF#
            </isNotNull>
            <isNotNull property="cMsg.prchReqCratDt_RT">
                AND PR.PRCH_REQ_CRAT_DT        &lt;= #cMsg.prchReqCratDt_RT#
            </isNotNull>
            <isNotNull property="cMsg.prchReqSrcTpCd_SL">
                AND PR.PRCH_REQ_SRC_TP_CD          = #cMsg.prchReqSrcTpCd_SL#
            </isNotNull>
            <isNotNull property="cMsg.trxRefNum">
                AND PR.TRX_REF_NUM                 LIKE #cMsg.trxRefNum#
            </isNotNull>
            <isNotNull property="cMsg.mrpPlnNm">
                AND PR.MRP_PLN_NM                  LIKE #cMsg.mrpPlnNm#
            </isNotNull>
                AND PR.PRCH_REQ_NUM                = PRD.PRCH_REQ_NUM
                AND PR.GLBL_CMPY_CD                = PRD.GLBL_CMPY_CD
                AND PRD.EZCANCELFLAG               = '0'
                AND PR.PRCH_REQ_TP_CD              = PRT.PRCH_REQ_TP_CD(+)
                AND PR.GLBL_CMPY_CD                = PRT.GLBL_CMPY_CD(+)
                AND PRT.EZCANCELFLAG(+)            = '0'
                AND PR.PRCH_REQ_STS_CD             = PRS.PRCH_REQ_STS_CD(+)
                AND PR.GLBL_CMPY_CD                = PRS.GLBL_CMPY_CD(+)
                AND PRS.EZCANCELFLAG(+)            = '0'
                AND PR.PRCH_REQ_APVL_STS_CD        = PRAS.PRCH_REQ_APVL_STS_CD(+)
                AND PR.GLBL_CMPY_CD                = PRAS.GLBL_CMPY_CD(+)
                AND PRAS.EZCANCELFLAG(+)           = '0'
                AND PR.PRCH_REQ_SRC_TP_CD          = PRST.PRCH_REQ_SRC_TP_CD(+)
                AND PR.GLBL_CMPY_CD                = PRST.GLBL_CMPY_CD(+)
                AND PRST.EZCANCELFLAG(+)           = '0'
            <isNotNull property="cMsg.fullPsnNm">
                AND 
                    (
                    UPPER(AP.FIRST_NM || (NVL2(AP.MID_NM, ' '||AP.MID_NM||' ', ' ')) || AP.LAST_NM) LIKE UPPER(#cMsg.fullPsnNm#)
                    OR
                    UPPER(SSUL.FULL_PSN_NM) LIKE UPPER(#cMsg.fullPsnNm#)
                    )
            </isNotNull>
                AND PR.PRCH_REQ_RQST_BY_PSN_CD     = AP.USR_NM(+)
                AND PR.GLBL_CMPY_CD                = AP.GLBL_CMPY_CD(+)
                AND AP.EZCANCELFLAG(+)             = '0'
                AND PR.PRCH_REQ_RQST_BY_PSN_CD     = SSUL.FULL_PSN_NM(+)
                AND PR.GLBL_CMPY_CD                = SSUL.GLBL_CMPY_CD(+)
                AND SSUL.EZCANCELFLAG(+)           = '0'
                AND PR.PRCH_GRP_CD                 = PG.PRCH_GRP_CD(+)
                AND PR.GLBL_CMPY_CD                = PG.GLBL_CMPY_CD(+)
                AND PG.EZCANCELFLAG(+)             = '0'
                AND PRD.SHPG_SVC_LVL_CD            = SSL.SHPG_SVC_LVL_CD(+)
                AND PRD.GLBL_CMPY_CD               = SSL.GLBL_CMPY_CD(+)
                AND SSL.EZCANCELFLAG(+)            = '0'
                AND PRD.VND_RTRN_RSN_CD            = VRR.VND_RTRN_RSN_CD(+)
                AND PRD.GLBL_CMPY_CD               = VRR.GLBL_CMPY_CD(+)
                AND VRR.EZCANCELFLAG(+)            = '0'
                AND EXISTS (
                            SELECT
                                1
                            FROM
                                PRCH_REQ_DTL PRD2
                            <isNotNull property="cMsg.carrNm">
                                ,OTBD_CARR_V  OCV2
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_SW">
                                ,RTL_WH       RW
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_SS">
                                ,RTL_SWH      RS
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_DW">
                                ,RTL_WH       RW2
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_DS">
                                ,RTL_SWH      RS2
                            </isNotNull>
                            <isNotNull property="cMsg.dplyVndNm">
                                ,PO_VND_V     PVV2
                            </isNotNull>
                            <isNotNull property="cMsg.shipToLocNm_EO">
                                ,SHIP_TO_CUST STC
                                ,LOC_TP       LT
                                ,SELL_TO_CUST SELL_TO
                            </isNotNull>
                            WHERE
                                    PRD2.PRCH_REQ_NUM          = PRD.PRCH_REQ_NUM
                                AND PRD2.PRCH_REQ_LINE_NUM     = PRD.PRCH_REQ_LINE_NUM
                                AND PRD2.PRCH_REQ_LINE_SUB_NUM = PRD.PRCH_REQ_LINE_SUB_NUM
                                AND PRD2.GLBL_CMPY_CD          = PRD.GLBL_CMPY_CD
                                AND PRD2.EZCANCELFLAG          = '0'
                            <isNotNull property="cMsg.rqstRcvDt_NF">
                                AND PRD2.RQST_RCV_DT       &gt;= #cMsg.rqstRcvDt_NF#
                            </isNotNull>
                            <isNotNull property="cMsg.rqstRcvDt_NT">
                                AND PRD2.RQST_RCV_DT       &lt;= #cMsg.rqstRcvDt_NT#
                            </isNotNull>
                            <isNotNull property="cMsg.shpgSvcLvlCd_SL">
                                AND PRD2.SHPG_SVC_LVL_CD       = #cMsg.shpgSvcLvlCd_SL#
                            </isNotNull>
                            <isNotNull property="cMsg.srcRtlWhCd">
                                AND PRD2.SRC_RTL_WH_CD         LIKE #cMsg.srcRtlWhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.srcRtlSwhCd">
                                AND PRD2.SRC_RTL_SWH_CD        LIKE #cMsg.srcRtlSwhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.destRtlWhCd">
                                AND PRD2.DEST_RTL_WH_CD        LIKE #cMsg.destRtlWhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.destRtlSwhCd">
                                AND PRD2.DEST_RTL_SWH_CD       LIKE #cMsg.destRtlSwhCd#
                            </isNotNull>
                            <isNotNull property="cMsg.vndCd">
                                AND PRD2.VND_CD                LIKE #cMsg.vndCd#
                            </isNotNull>
                            <!-- Add Start 2020/03/09 QC#55940 -->
                            <isNotNull property="cMsg.mdseCd">
                                AND PRD2.MDSE_CD               LIKE #cMsg.mdseCd#
                            </isNotNull>
                            <!-- Add End 2020/03/09 QC#55940 -->
                            <isNotNull property="cMsg.carrNm">
                                AND PRD2.CARR_CD               = OCV2.CARR_CD(+)
                                AND PRD2.GLBL_CMPY_CD          = OCV2.GLBL_CMPY_CD(+)
                                AND OCV2.EZCANCELFLAG(+)       = '0'
                                AND OCV2.CARR_NM               LIKE #cMsg.carrNm#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_SW">
                                AND PRD2.SRC_RTL_WH_CD         = RW.RTL_WH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          = RW.GLBL_CMPY_CD(+)
                                AND RW.EZCANCELFLAG(+)         = '0'
                                AND RW.RTL_WH_NM               LIKE #cMsg.rtlWhNm_SW#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_SS">
                                AND PRD2.SRC_RTL_WH_CD         = RS.RTL_WH_CD(+)
                                AND PRD2.SRC_RTL_SWH_CD        = RS.RTL_SWH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          = RS.GLBL_CMPY_CD(+)
                                AND RS.EZCANCELFLAG(+)         = '0'
                                AND RS.RTL_SWH_NM              LIKE #cMsg.rtlSwhNm_SS#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlWhNm_DW">
                                AND PRD2.DEST_RTL_WH_CD        = RW2.RTL_WH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          = RW2.GLBL_CMPY_CD(+)
                                AND RW2.EZCANCELFLAG(+)        = '0'
                                AND RW2.RTL_WH_NM              LIKE #cMsg.rtlWhNm_DW#
                            </isNotNull>
                            <isNotNull property="cMsg.rtlSwhNm_DS">
                                AND PRD2.DEST_RTL_WH_CD        = RS2.RTL_WH_CD(+)
                                AND PRD2.DEST_RTL_SWH_CD       = RS2.RTL_SWH_CD(+)
                                AND PRD2.GLBL_CMPY_CD          = RS2.GLBL_CMPY_CD(+)
                                AND RS2.EZCANCELFLAG(+)        = '0'
                                AND RS2.RTL_SWH_NM             LIKE #cMsg.rtlSwhNm_DS#
                            </isNotNull>
                            <isNotNull property="cMsg.dplyVndNm">
                                AND PRD2.VND_CD                = PVV2.VND_CD(+)
                                AND PRD2.GLBL_CMPY_CD          = PVV2.GLBL_CMPY_CD(+)
                                AND PVV2.EZCANCELFLAG(+)       = '0'
                                AND PVV2.DPLY_VND_NM           LIKE #cMsg.dplyVndNm#
                            </isNotNull>
                            <isNotNull property="cMsg.shipToCustCd_EO">
                                AND PRD2.DEST_INVTY_LOC_CD     LIKE #cMsg.shipToCustCd_EO#
                            </isNotNull>
                            <isNotNull property="cMsg.shipToLocNm_EO">
                                AND PRD2.GLBL_CMPY_CD          = STC.GLBL_CMPY_CD(+)
                                AND PRD2.DEST_INVTY_LOC_CD     = STC.SHIP_TO_CUST_CD(+)
                                AND STC.GLBL_CMPY_CD           = LT.GLBL_CMPY_CD(+)
                                AND STC.LOC_GRP_CD             = LT.LOC_GRP_CD(+)
                                AND STC.LOC_ROLE_TP_CD         = LT.LOC_ROLE_TP_CD(+)
                                AND STC.GLBL_CMPY_CD           = SELL_TO.GLBL_CMPY_CD(+)
                                AND STC.SELL_TO_CUST_CD        = SELL_TO.SELL_TO_CUST_CD(+)
                                AND SELL_TO.DS_ACCT_NM         LIKE #cMsg.shipToLocNm_EO#
                                AND STC.EZCANCELFLAG(+)        = '0'
                                AND LT.EZCANCELFLAG(+)         = '0'
                                AND SELL_TO.EZCANCELFLAG(+)    = '0'
                            </isNotNull>
                            )
            UNION SELECT /*+ LEADING(PR PRD) USE_NL(PR PRD) INDEX(MDSE MDSE_PK) INDEX(SELL_TO SELL_TO_CUST_I1) INDEX(AP AUTH_PSN_U1) INDEX(OCV.V VND_I1) */
                    NULL AS PRCH_REQ_NUM_FOR_VIEW
                    ,NULL AS PRCH_REQ_TP_DESC_TXT
                    ,NULL AS PRCH_REQ_STS_DESC_TXT
                    ,NULL AS PRCH_REQ_APVL_STS_DESC_TXT
                    ,NULL AS PRCH_REQ_CRAT_DT
                    ,NULL AS RQST_RCV_DT
                    ,NULL AS PRCH_REQ_SRC_TP_DESC_TXT
                    ,NULL AS TRX_REF_NUM
                    ,NULL AS MRP_PLN_NM
                    ,NULL AS PRCH_REQ_RQST_BY_PSN_CD
                    ,NULL AS FULL_PSN_NM
                    ,NULL AS FULL_PSN_NM2
                    ,NULL AS PRCH_GRP_DESC_TXT
                    ,NULL AS SHPG_SVC_LVL_DESC_TXT
                    ,NULL AS CARR_CD
                    ,NULL AS CARR_NM
                    ,NULL AS VND_RTRN_RSN_DESC_TXT
                    ,PRD.SRC_RTL_WH_CD
                    ,RW.RTL_WH_NM
                    ,PRD.SRC_RTL_SWH_CD
                    ,RS.RTL_SWH_NM
                    ,PRD.DEST_RTL_WH_CD
                    ,RW2.RTL_WH_NM AS RTL_WH_NM2
                    ,PRD.DEST_RTL_SWH_CD
                    ,RS2.RTL_SWH_NM AS RTL_SWH_NM2
                    ,PRD.VND_CD
                    ,PVV.DPLY_VND_NM
                    ,PRD.PRCH_REQ_LINE_NUM || '.' || PRD.PRCH_REQ_LINE_SUB_NUM AS LINE_NUMBER
                    ,PRLT.PRCH_REQ_LINE_TP_DESC_TXT
                    ,PRD.MDSE_CD
                    ,MDSE.MDSE_NM
                    ,PRD.SVC_CONFIG_MSTR_PK
                    ,PRD.PRCH_REQ_DISP_QTY
                    ,PRLS.PRCH_REQ_LINE_STS_DESC_TXT
                    ,PRD.ENT_DEAL_NET_UNIT_PRC_AMT
                    ,PRD.ENT_PO_DTL_DEAL_NET_AMT
                    ,CASE
                         WHEN (PRT.CHRG_ACCT_EDTBL_FLG = 'N' OR (PRD.CONFIG_TP_CD IS NOT NULL AND PRD.PRCH_REQ_LINE_SUB_NUM = '0')) THEN NULL
                         ELSE PRD.COA_CMPY_CD ||  '.' || PRD.COA_BR_CD ||  '.' || PRD.COA_CC_CD ||  '.' || PRD.COA_ACCT_CD ||  '.' || PRD.COA_PROD_CD ||  '.' || PRD.COA_CH_CD ||  '.' || PRD.COA_AFFL_CD ||  '.' || PRD.COA_PROJ_CD ||  '.' || PRD.COA_EXTN_CD
                     END AS CHARGE_ACCOUNT
                    ,MDSE.COA_MDSE_TP_CD
                    ,MDSE.COA_PROD_CD
                    ,(
                        SELECT 
                            LISTAGG(PRSR.SER_NUM, ',') WITHIN GROUP (ORDER BY PRSR.SER_NUM)
                        FROM 
                            PRCH_REQ_SER PRSR
                        WHERE 
                            PRSR.PRCH_REQ_NUM            = PRD.PRCH_REQ_NUM
                        AND PRSR.PRCH_REQ_LINE_NUM       = PRD.PRCH_REQ_LINE_NUM
                        AND PRSR.PRCH_REQ_LINE_SUB_NUM   = PRD.PRCH_REQ_LINE_SUB_NUM
                        AND PRSR.GLBL_CMPY_CD            = PRD.GLBL_CMPY_CD
                        AND PRSR.EZCANCELFLAG            = '0'
                    ) AS SERIAL_NUMBER
                    ,PRD.PRCH_REQ_LINE_CMNT_TXT
                    ,PRD.COA_CMPY_CD
                    ,PRD.COA_AFFL_CD
                    ,PRD.COA_BR_CD
                    ,PRD.COA_CC_CD
                    ,PRD.COA_ACCT_CD
                    ,PRD.COA_PROD_CD AS COA_PROD_CD2
                    ,PRD.COA_CH_CD
                    ,PRD.COA_PROJ_CD
                    ,PRD.COA_EXTN_CD
                    ,PR.PRCH_REQ_NUM
                    ,PRD.PRCH_REQ_LINE_NUM
                    ,PRD.PRCH_REQ_LINE_SUB_NUM
                    ,PR.PRCH_REQ_NUM AS PRCH_REQ_NUM_SORT
                    ,PRD.PRCH_REQ_LINE_NUM AS PRCH_REQ_LINE_NUM_SORT
                    ,PRD.PRCH_REQ_LINE_SUB_NUM AS PRCH_REQ_LINE_SUB_NUM_SORT
                    ,PRD.DEST_INVTY_LOC_CD AS SHIP_TO_CUST_CD
                    ,SELL_TO.DS_ACCT_NM
                    ,CASE
                     WHEN PR.PRCH_REQ_TP_CD IN(#whTransferTp#, #expenseOrderTp#) THEN (
                         SELECT DISTINCT
                             DIO.CPO_ORD_NUM
                         FROM
                              DS_IMPT_ORD DIO
                             ,DS_IMPT_ORD_DTL DIOD
                         WHERE
                             PRD.GLBL_CMPY_CD      = DIO.GLBL_CMPY_CD
                         AND PRD.PRCH_REQ_NUM      = DIO.ORD_SRC_REF_NUM
                         AND DIO.GLBL_CMPY_CD      = DIOD.GLBL_CMPY_CD
                         AND DIO.DS_IMPT_ORD_PK    = DIOD.DS_IMPT_ORD_PK
                         AND PRD.PRCH_REQ_LINE_NUM = DIOD.ORD_SRC_REF_LINE_NUM
                         AND DIO.EZCANCELFLAG      = '0'
                         AND DIOD.EZCANCELFLAG     = '0'
                     )
                     ELSE PR.CPO_ORD_NUM
                     END AS CPO_ORD_NUM
                    ,PR.PRCH_REQ_TP_CD
                     <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
                    ,PRD.EZINTIME AS XX_REC_HIST_CRAT_TS
                    ,PRD.EZINUSERID AS XX_REC_HIST_CRAT_BY_NM
                    ,PRD.EZUPTIME AS XX_REC_HIST_UPD_TS
                    ,PRD.EZUPUSERID AS XX_REC_HIST_UPD_BY_NM
                    ,PRD.EZTABLEID AS XX_REC_HIST_TBL_NM
                    <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
                FROM
                     PRCH_REQ            PR
                     ,PRCH_REQ_DTL       PRD
                     ,PRCH_REQ_TP        PRT
                     ,PRCH_REQ_STS       PRS
                     ,PRCH_REQ_APVL_STS  PRAS
                     ,PRCH_REQ_SRC_TP    PRST
                     ,AUTH_PSN           AP
                     ,PRCH_GRP           PG
                     ,SHPG_SVC_LVL       SSL
                     ,OTBD_CARR_V        OCV
                     ,VND_RTRN_RSN       VRR
                     ,RTL_WH             RW
                     ,RTL_SWH            RS
                     ,RTL_WH             RW2
                     ,RTL_SWH            RS2
                     ,PO_VND_V           PVV
                     ,PRCH_REQ_LINE_TP   PRLT
                     ,MDSE               MDSE
                     ,PRCH_REQ_LINE_STS  PRLS
                     ,SHIP_TO_CUST        STC
                     ,LOC_TP              LT
                     ,SELL_TO_CUST        SELL_TO
                     ,SCE_SYS_USR_LIST    SSUL
                WHERE
                        PR.GLBL_CMPY_CD                = #glblCmpyCd#
                    AND PR.EZCANCELFLAG                = '0'
                    AND PR.PRCH_REQ_REC_TP_CD          = #prchReqRecTpCd#
                <isNotNull property="cMsg.prchReqNum">
                    AND PR.PRCH_REQ_NUM                = #cMsg.prchReqNum#
                </isNotNull>
                <isNotNull property="cMsg.prchReqTpCd_SL">
                    AND PR.PRCH_REQ_TP_CD              = #cMsg.prchReqTpCd_SL#
                </isNotNull>
                <isNotNull property="cMsg.prchReqStsCd_SL">
                    AND PR.PRCH_REQ_STS_CD             = #cMsg.prchReqStsCd_SL#
                </isNotNull>
                <isNotNull property="cMsg.prchReqApvlStsCd_SL">
                    AND PR.PRCH_REQ_APVL_STS_CD        = #cMsg.prchReqApvlStsCd_SL#
                </isNotNull>
                <isNotNull property="cMsg.prchReqCratDt_RF">
                    AND PR.PRCH_REQ_CRAT_DT        &gt;= #cMsg.prchReqCratDt_RF#
                </isNotNull>
                <isNotNull property="cMsg.prchReqCratDt_RT">
                    AND PR.PRCH_REQ_CRAT_DT        &lt;= #cMsg.prchReqCratDt_RT#
                </isNotNull>
                <isNotNull property="cMsg.prchReqSrcTpCd_SL">
                    AND PR.PRCH_REQ_SRC_TP_CD          = #cMsg.prchReqSrcTpCd_SL#
                </isNotNull>
                <isNotNull property="cMsg.trxRefNum">
                    AND PR.TRX_REF_NUM                 = #cMsg.trxRefNum#
                </isNotNull>
                <isNotNull property="cMsg.mrpPlnNm">
                    AND PR.MRP_PLN_NM                  LIKE #cMsg.mrpPlnNm#
                </isNotNull>
                    AND PR.PRCH_REQ_NUM                = PRD.PRCH_REQ_NUM
                    AND PR.GLBL_CMPY_CD                = PRD.GLBL_CMPY_CD
                    AND PRD.EZCANCELFLAG               = '0'
                <!-- Add Start 2020/03/09 QC#55940 -->
                <isNotNull property="cMsg.mdseCd">
                    AND PRD.MDSE_CD                    LIKE #cMsg.mdseCd#
                </isNotNull>
                <!-- Add End 2020/03/09 QC#55940 -->
                <isNotNull property="cMsg.rqstRcvDt_NF">
                    AND PRD.RQST_RCV_DT            &gt;= #cMsg.rqstRcvDt_NF#
                </isNotNull>
                <isNotNull property="cMsg.rqstRcvDt_NT">
                    AND PRD.RQST_RCV_DT            &lt;= #cMsg.rqstRcvDt_NT#
                </isNotNull>
                <isNotNull property="cMsg.shpgSvcLvlCd_SL">
                    AND PRD.SHPG_SVC_LVL_CD            = #cMsg.shpgSvcLvlCd_SL#
                </isNotNull>
                <isNotNull property="cMsg.srcRtlWhCd">
                    AND PRD.SRC_RTL_WH_CD              LIKE #cMsg.srcRtlWhCd#
                </isNotNull>
                <isNotNull property="cMsg.srcRtlSwhCd">
                    AND PRD.SRC_RTL_SWH_CD             LIKE #cMsg.srcRtlSwhCd#
                </isNotNull>
                <isNotNull property="cMsg.destRtlWhCd">
                    AND PRD.DEST_RTL_WH_CD             LIKE #cMsg.destRtlWhCd#
                </isNotNull>
                <isNotNull property="cMsg.destRtlSwhCd">
                    AND PRD.DEST_RTL_SWH_CD            LIKE #cMsg.destRtlSwhCd#
                </isNotNull>
                <isNotNull property="cMsg.vndCd">
                    AND PRD.VND_CD                     LIKE #cMsg.vndCd#
                </isNotNull>
                    AND PR.PRCH_REQ_TP_CD              = PRT.PRCH_REQ_TP_CD(+)
                    AND PR.GLBL_CMPY_CD                = PRT.GLBL_CMPY_CD(+)
                    AND PRT.EZCANCELFLAG(+)            = '0'
                    AND PR.PRCH_REQ_STS_CD             = PRS.PRCH_REQ_STS_CD(+)
                    AND PR.GLBL_CMPY_CD                = PRS.GLBL_CMPY_CD(+)
                    AND PRS.EZCANCELFLAG(+)            = '0'
                    AND PR.PRCH_REQ_APVL_STS_CD        = PRAS.PRCH_REQ_APVL_STS_CD(+)
                    AND PR.GLBL_CMPY_CD                = PRAS.GLBL_CMPY_CD(+)
                    AND PRAS.EZCANCELFLAG(+)           = '0'
                    AND PR.PRCH_REQ_SRC_TP_CD          = PRST.PRCH_REQ_SRC_TP_CD(+)
                    AND PR.GLBL_CMPY_CD                = PRST.GLBL_CMPY_CD(+)
                    AND PRST.EZCANCELFLAG(+)           = '0'
                <isNotNull property="cMsg.fullPsnNm">
                    AND
                        (
                        UPPER(AP.FIRST_NM || (NVL2(AP.MID_NM, ' '||AP.MID_NM||' ', ' ')) || AP.LAST_NM) LIKE UPPER(#cMsg.fullPsnNm#)
                        OR
                        UPPER(SSUL.FULL_PSN_NM) LIKE UPPER(#cMsg.fullPsnNm#)
                        )
                </isNotNull>
                    AND PR.PRCH_REQ_RQST_BY_PSN_CD     = AP.USR_NM(+)
                    AND PR.GLBL_CMPY_CD                = AP.GLBL_CMPY_CD(+)
                    AND AP.EZCANCELFLAG(+)             = '0'
                    AND PR.PRCH_REQ_RQST_BY_PSN_CD     = SSUL.FULL_PSN_NM(+)
                    AND PR.GLBL_CMPY_CD                = SSUL.GLBL_CMPY_CD(+)
                    AND SSUL.EZCANCELFLAG(+)           = '0'
                    AND PR.PRCH_GRP_CD                 = PG.PRCH_GRP_CD(+)
                    AND PR.GLBL_CMPY_CD                = PG.GLBL_CMPY_CD(+)
                    AND PG.EZCANCELFLAG(+)             = '0'
                    AND PRD.SHPG_SVC_LVL_CD            = SSL.SHPG_SVC_LVL_CD(+)
                    AND PRD.GLBL_CMPY_CD               = SSL.GLBL_CMPY_CD(+)
                    AND SSL.EZCANCELFLAG(+)            = '0'
                    AND PRD.CARR_CD                    = OCV.CARR_CD(+)
                    AND PRD.GLBL_CMPY_CD               = OCV.GLBL_CMPY_CD(+)
                    AND OCV.EZCANCELFLAG(+)            = '0'
                <isNotNull property="cMsg.carrNm">
                    AND OCV.CARR_NM                    LIKE #cMsg.carrNm#
                </isNotNull>
                    AND PRD.VND_RTRN_RSN_CD            = VRR.VND_RTRN_RSN_CD(+)
                    AND PRD.GLBL_CMPY_CD               = VRR.GLBL_CMPY_CD(+)
                    AND VRR.EZCANCELFLAG(+)            = '0'
                    AND PRD.SRC_RTL_WH_CD              = RW.RTL_WH_CD(+)
                    AND PRD.GLBL_CMPY_CD               = RW.GLBL_CMPY_CD(+)
                    AND RW.EZCANCELFLAG(+)             = '0'
                <isNotNull property="cMsg.rtlWhNm_SW">
                    AND RW.RTL_WH_NM                   LIKE #cMsg.rtlWhNm_SW#
                </isNotNull>
                    AND PRD.SRC_RTL_WH_CD              = RS.RTL_WH_CD(+)
                    AND PRD.SRC_RTL_SWH_CD             = RS.RTL_SWH_CD(+)
                    AND PRD.GLBL_CMPY_CD               = RS.GLBL_CMPY_CD(+)
                    AND RS.EZCANCELFLAG(+)             = '0'
                <isNotNull property="cMsg.rtlSwhNm_SS">
                    AND RS.RTL_SWH_NM                  LIKE #cMsg.rtlSwhNm_SS#
                </isNotNull>
                    AND PRD.DEST_RTL_WH_CD             = RW2.RTL_WH_CD(+)
                    AND PRD.GLBL_CMPY_CD               = RW2.GLBL_CMPY_CD(+)
                    AND RW2.EZCANCELFLAG(+)            = '0'
                <isNotNull property="cMsg.rtlWhNm_DW">
                    AND RW2.RTL_WH_NM                  LIKE     #cMsg.rtlWhNm_DW#
                </isNotNull>
                    AND PRD.DEST_RTL_WH_CD             = RS2.RTL_WH_CD(+)
                    AND PRD.DEST_RTL_SWH_CD            = RS2.RTL_SWH_CD(+)
                    AND PRD.GLBL_CMPY_CD               = RS2.GLBL_CMPY_CD(+)
                    AND RS2.EZCANCELFLAG(+)            = '0'
                <isNotNull property="cMsg.rtlSwhNm_DS">
                    AND RS2.RTL_SWH_NM                  LIKE #cMsg.rtlSwhNm_DS#
                </isNotNull>
                    AND PRD.VND_CD                     = PVV.VND_CD(+)
                    AND PRD.GLBL_CMPY_CD               = PVV.GLBL_CMPY_CD(+)
                    AND PVV.EZCANCELFLAG(+)            = '0'
                <isNotNull property="cMsg.dplyVndNm">
                    AND PVV.DPLY_VND_NM                LIKE #cMsg.dplyVndNm#
                </isNotNull>
                    AND PRD.PRCH_REQ_LINE_TP_CD        = PRLT.PRCH_REQ_LINE_TP_CD(+)
                    AND PRD.GLBL_CMPY_CD               = PRLT.GLBL_CMPY_CD(+)
                    AND PRLT.EZCANCELFLAG(+)           = '0'
                    AND PRD.PRCH_REQ_LINE_STS_CD       = PRLS.PRCH_REQ_LINE_STS_CD(+)
                    AND PRD.GLBL_CMPY_CD               = PRLS.GLBL_CMPY_CD(+)
                    AND PRLS.EZCANCELFLAG(+)           = '0'
                    AND PRD.MDSE_CD                    = MDSE.MDSE_CD(+)
                    AND PRD.GLBL_CMPY_CD               = MDSE.GLBL_CMPY_CD(+)
                    AND MDSE.EZCANCELFLAG(+)              = '0'
                <isNotNull property="cMsg.shipToCustCd_EO">
                    AND PRD.DEST_INVTY_LOC_CD          LIKE #cMsg.shipToCustCd_EO#
                </isNotNull>
                    AND PRD.GLBL_CMPY_CD               = STC.GLBL_CMPY_CD(+)
                    AND PRD.DEST_INVTY_LOC_CD          = STC.SHIP_TO_CUST_CD(+)
                    AND STC.GLBL_CMPY_CD               = LT.GLBL_CMPY_CD(+)
                    AND STC.LOC_GRP_CD                 = LT.LOC_GRP_CD(+)
                    AND STC.LOC_ROLE_TP_CD             = LT.LOC_ROLE_TP_CD(+)
                    AND STC.GLBL_CMPY_CD               = SELL_TO.GLBL_CMPY_CD(+)
                    AND STC.SELL_TO_CUST_CD            = SELL_TO.SELL_TO_CUST_CD(+)
                <isNotNull property="cMsg.shipToLocNm_EO">
                    AND SELL_TO.DS_ACCT_NM             LIKE #cMsg.shipToLocNm_EO#
                </isNotNull>
                    AND STC.EZCANCELFLAG(+)            = '0'
                    AND LT.EZCANCELFLAG(+)             = '0'
                    AND SELL_TO.EZCANCELFLAG(+)        = '0'
                ORDER BY
                    PRCH_REQ_NUM_SORT ASC
                    ,PRCH_REQ_LINE_NUM_SORT ASC
                    ,PRCH_REQ_LINE_SUB_NUM_SORT ASC
            ) MAIN
        WHERE ROWNUM &lt;= #rowNum#
    </statement>

    <resultMap id="result.NPBL0010_ASMsg" class="NPBL0010_ASMsg">
        <result property="prchReqNum_A1"                 column="PRCH_REQ_NUM_FOR_VIEW"            javaType="EZDSStringItem"/>
        <result property="prchReqTpDescTxt_A1"           column="PRCH_REQ_TP_DESC_TXT"             javaType="EZDSStringItem"/>
        <result property="prchReqStsDescTxt_A1"          column="PRCH_REQ_STS_DESC_TXT"            javaType="EZDSStringItem"/>
        <result property="prchReqApvlStsDescTxt_A1"      column="PRCH_REQ_APVL_STS_DESC_TXT"       javaType="EZDSStringItem"/>
        <result property="prchReqCratDt_A1"              column="PRCH_REQ_CRAT_DT"                 javaType="EZDSDateItem"/>
        <result property="rqstRcvDt_A1"                  column="RQST_RCV_DT"                      javaType="EZDSDateItem"/>
        <result property="prchReqSrcTpDescTxt_A1"        column="PRCH_REQ_SRC_TP_DESC_TXT"         javaType="EZDSStringItem"/>
        <result property="trxRefNum_A1"                  column="TRX_REF_NUM"                      javaType="EZDSStringItem"/>
        <result property="mrpPlnNm_A1"                   column="MRP_PLN_NM"                       javaType="EZDSStringItem"/>
        <result property="prchReqRqstByPsnCd_A1"         column="PRCH_REQ_RQST_BY_PSN_CD"          javaType="EZDSStringItem"/>
        <result property="fullPsnNm_A1"                  column="FULL_PSN_NM"                      javaType="EZDSStringItem"/>
        <result property="prchGrpDescTxt_A1"             column="PRCH_GRP_DESC_TXT"                javaType="EZDSStringItem"/>
        <result property="shpgSvcLvlDescTxt_A1"          column="SHPG_SVC_LVL_DESC_TXT"            javaType="EZDSStringItem"/>
        <result property="carrCd_A1"                     column="CARR_CD"                          javaType="EZDSStringItem"/>
        <result property="carrNm_A1"                     column="CARR_NM"                          javaType="EZDSStringItem"/>
        <result property="vndRtrnRsnDescTxt_A1"          column="VND_RTRN_RSN_DESC_TXT"            javaType="EZDSStringItem"/>
        <result property="srcRtlWhCd_A1"                 column="SRC_RTL_WH_CD"                    javaType="EZDSStringItem"/>
        <result property="rtlWhNm_A1"                    column="RTL_WH_NM"                        javaType="EZDSStringItem"/>
        <result property="srcRtlSwhCd_A1"                column="SRC_RTL_SWH_CD"                   javaType="EZDSStringItem"/>
        <result property="rtlSwhNm_A1"                   column="RTL_SWH_NM"                       javaType="EZDSStringItem"/>
        <result property="destRtlWhCd_A1"                column="DEST_RTL_WH_CD"                   javaType="EZDSStringItem"/>
        <result property="rtlWhNm_A2"                    column="RTL_WH_NM2"                       javaType="EZDSStringItem"/>
        <result property="destRtlSwhCd_A1"               column="DEST_RTL_SWH_CD"                  javaType="EZDSStringItem"/>
        <result property="rtlSwhNm_A2"                   column="RTL_SWH_NM2"                      javaType="EZDSStringItem"/>
        <result property="vndCd_A1"                      column="VND_CD"                           javaType="EZDSStringItem"/>
        <result property="dplyVndNm_A1"                  column="DPLY_VND_NM"                      javaType="EZDSStringItem"/>
        <result property="xxScrItem20Txt_A1"             column="LINE_NUMBER"                      javaType="EZDSStringItem"/>
        <result property="prchReqLineTpDescTxt_A1"       column="PRCH_REQ_LINE_TP_DESC_TXT"        javaType="EZDSStringItem"/>
        <result property="mdseCd_A1"                     column="MDSE_CD"                          javaType="EZDSStringItem"/>
        <result property="mdseDescShortTxt_A1"           column="MDSE_NM"                          javaType="EZDSStringItem"/>
        <result property="svcConfigMstrPk_A1"            column="SVC_CONFIG_MSTR_PK"               javaType="EZDSBigDecimalItem"/>
        <result property="prchReqDispQty_A1"             column="PRCH_REQ_DISP_QTY"                javaType="EZDSBigDecimalItem"/>
        <result property="prchReqLineStsDescTxt_A1"      column="PRCH_REQ_LINE_STS_DESC_TXT"       javaType="EZDSStringItem"/>
        <result property="entDealNetUnitPrcAmt_A1"       column="ENT_DEAL_NET_UNIT_PRC_AMT"        javaType="EZDSBigDecimalItem"/>
        <result property="entPoDtlDealNetAmt_A1"         column="ENT_PO_DTL_DEAL_NET_AMT"          javaType="EZDSBigDecimalItem"/>
        <result property="xxDsMultMsgDplyTxt_A2"         column="CHARGE_ACCOUNT"                   javaType="EZDSStringItem"/>
        <result property="coaMdseTpCd_A1"                column="COA_MDSE_TP_CD"                   javaType="EZDSStringItem"/>
        <result property="coaProdCd_A2"                  column="COA_PROD_CD"                      javaType="EZDSStringItem"/>
        <result property="xxDsMultMsgDplyTxt_A1"         column="SERIAL_NUMBER"                    javaType="EZDSStringItem"/>
        <result property="prchReqLineCmntTxt_A1"         column="PRCH_REQ_LINE_CMNT_TXT"           javaType="EZDSStringItem"/>
        <result property="coaCmpyCd_A1"                  column="COA_CMPY_CD"                      javaType="EZDSStringItem"/>
        <result property="coaAfflCd_A1"                  column="COA_AFFL_CD"                      javaType="EZDSStringItem"/>
        <result property="coaBrCd_A1"                    column="COA_BR_CD"                        javaType="EZDSStringItem"/>
        <result property="coaCcCd_A1"                    column="COA_CC_CD"                        javaType="EZDSStringItem"/>
        <result property="coaAcctCd_A1"                  column="COA_ACCT_CD"                      javaType="EZDSStringItem"/>
        <result property="coaProdCd_A1"                  column="COA_PROD_CD2"                     javaType="EZDSStringItem"/>
        <result property="coaChCd_A1"                    column="COA_CH_CD"                        javaType="EZDSStringItem"/>
        <result property="coaProjCd_A1"                  column="COA_PROJ_CD"                      javaType="EZDSStringItem"/>
        <result property="coaExtnCd_A1"                  column="COA_EXTN_CD"                      javaType="EZDSStringItem"/>
        <result property="prchReqNum_A2"                 column="PRCH_REQ_NUM"                     javaType="EZDSStringItem"/>
        <result property="prchReqLineNum_A1"             column="PRCH_REQ_LINE_NUM"                javaType="EZDSStringItem"/>
        <result property="prchReqLineSubNum_A1"          column="PRCH_REQ_LINE_SUB_NUM"            javaType="EZDSBigDecimalItem"/>
        <result property="shipToCustCd_E1"               column="DEST_INVTY_LOC_CD"                javaType="EZDSStringItem"/>
        <result property="shipToLocNm_E1"                column="DS_ACCT_NM"                       javaType="EZDSStringItem"/>
        <result property="cpoOrdNum_A1"                  column="CPO_ORD_NUM"                      javaType="EZDSStringItem"/>
        <result property="prchReqTpCd_A1"                column="PRCH_REQ_TP_CD"                   javaType="EZDSStringItem"/>
        <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
        <result property="xxRecHistCratTs_A1"            column="XX_REC_HIST_CRAT_TS"              javaType="EZDSStringItem"/>
        <result property="xxRecHistCratByNm_A1"          column="XX_REC_HIST_CRAT_BY_NM"           javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdTs_A1"             column="XX_REC_HIST_UPD_TS"               javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdByNm_A1"           column="XX_REC_HIST_UPD_BY_NM"            javaType="EZDSStringItem"/>
        <result property="xxRecHistTblNm_A1"             column="XX_REC_HIST_TBL_NM"               javaType="EZDSStringItem"/>
        <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
    </resultMap>
</sqlMap>