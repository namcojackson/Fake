<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NSBL0290Query">

    <typeAlias alias="NSBL0290_ASMsg"    type="business.blap.NSBL0290.NSBL0290_ASMsg"/>
    <statement id="getSearchData" parameterClass="Map" resultMap="result.getSearchData">
    SELECT
        SKILL.SVC_SKILL_NUM
        ,SKILL.SVC_SKILL_NM
        ,SKILL.SVC_SKILL_DESC_TXT
        ,SKILL.SVC_ALIAS_RATE
        ,SKILL.SS_EFF_FROM_DT
        ,SKILL.SS_EFF_THRU_DT
        ,SKILL.SS_EZUPTIME
        ,SKILL.SS_EZUPTIMEZONE
<!-- START 2016/12/05 N.Arai [QC#14204, ADD] -->
        ,SKILL.XX_REC_HIST_CRAT_TS
        ,SKILL.XX_REC_HIST_CRAT_BY_NM
        ,SKILL.XX_REC_HIST_UPD_TS
        ,SKILL.XX_REC_HIST_UPD_BY_NM
        ,SKILL.XX_REC_HIST_TBL_NM
<!-- END 2016/12/05 N.Arai [QC#14204, ADD] -->
    FROM
    (
       SELECT
           SS.SVC_SKILL_NUM               AS   SVC_SKILL_NUM
           , SS.SVC_SKILL_NM                AS   SVC_SKILL_NM
           , SS.SVC_SKILL_DESC_TXT          AS   SVC_SKILL_DESC_TXT
           , SS.SVC_ALIAS_RATE              AS   SVC_ALIAS_RATE
           , SS.EFF_FROM_DT                 AS   SS_EFF_FROM_DT
           , SS.EFF_THRU_DT                 AS   SS_EFF_THRU_DT
           , SS.EZUPTIME                    AS   SS_EZUPTIME
           , SS.EZUPTIMEZONE                AS   SS_EZUPTIMEZONE
<!-- START 2016/12/05 N.Arai [QC#14204, ADD] -->
           , SS.EZINTIME                    AS   XX_REC_HIST_CRAT_TS
           , SS.EZINUSERID                  AS   XX_REC_HIST_CRAT_BY_NM
           , SS.EZUPTIME                    AS   XX_REC_HIST_UPD_TS
           , SS.EZUPUSERID                  AS   XX_REC_HIST_UPD_BY_NM
           , SS.EZTABLEID                   AS   XX_REC_HIST_TBL_NM
<!-- END 2016/12/05 N.Arai [QC#14204, ADD] -->
       FROM
             SVC_SKILL    SS
       WHERE
           SS.GLBL_CMPY_CD                  =   #glblCmpyCd#
           AND SS.SVC_SKILL_TP_CD           =   #svcSkillTpCd#
           <isNotNull property="svcSkillNm" >
           AND SS.SVC_SKILL_NM             LIKE #svcSkillNm#
           </isNotNull>
           <isNotNull property="svcSkillDescTxt" >
           AND SS.SVC_SKILL_DESC_TXT       LIKE #svcSkillDescTxt#
           </isNotNull>
           AND SS.EZCANCELFLAG              =   '0'
           ORDER BY
               SS.SVC_SKILL_NM ASC
       ) SKILL
    WHERE
      ROWNUM                            &lt;=   #limitCount#

    </statement>
    <resultMap id="result.getSearchData"      class="NSBL0290_ASMsg">
        <result property="svcSkillNum"         column="SVC_SKILL_NUM"             javaType="EZDSStringItem"/>
        <result property="svcSkillNm"          column="SVC_SKILL_NM"              javaType="EZDSStringItem"/>
        <result property="svcSkillDescTxt"     column="SVC_SKILL_DESC_TXT"        javaType="EZDSStringItem"/>
        <result property="svcAliasRate"        column="SVC_ALIAS_RATE"            javaType="EZDSBigDecimalItem"/>
        <result property="effFromDt"           column="SS_EFF_FROM_DT"            javaType="EZDSDateItem"/>
        <result property="effThruDt"           column="SS_EFF_THRU_DT"            javaType="EZDSDateItem"/>
        <result property="ezUpTime_B"          column="SS_EZUPTIME"               javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_B"      column="SS_EZUPTIMEZONE"           javaType="EZDSStringItem"/>
<!-- START 2016/12/05 N.Arai [QC#14204, ADD] -->
        <result property="xxRecHistCratTs_A"   column="XX_REC_HIST_CRAT_TS"       javaType="EZDSStringItem"/>
        <result property="xxRecHistCratByNm_A" column="XX_REC_HIST_CRAT_BY_NM"    javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdTs_A"    column="XX_REC_HIST_UPD_TS"        javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdByNm_A"  column="XX_REC_HIST_UPD_BY_NM"     javaType="EZDSStringItem"/>
        <result property="xxRecHistTblNm_A"    column="XX_REC_HIST_TBL_NM"        javaType="EZDSStringItem"/>
<!-- END 2016/12/05 N.Arai [QC#14204, ADD] -->
    </resultMap>
</sqlMap>
