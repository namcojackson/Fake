<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWAL2410Query">

    <typeAlias alias="NWAL2410SMsg"    type="business.blap.NWAL2410.NWAL2410SMsg"/>
    <typeAlias alias="NWAL2410_ASMsg"  type="business.blap.NWAL2410.NWAL2410_ASMsg"/>

    <statement id="getThereforeBranchData" parameterClass="Map" resultClass="Map">
        SELECT
              DMB.DOC_MGT_ORG_CD
            , DMB.DOC_MGT_SCAN_BR_CD
            , DMB.DOC_MGT_SCAN_BR_NM
            , DMB.DOC_MGT_SCAN_RG_NM
            , DMB.DOC_MGT_SCAN_ZN_NM
            , DMB.DEF_ORD_PROC_PSN_CD
            , DMB.DEF_BR_ADMIN_PSN_CD
            , DMB.LEASE_CMPY_PROC_PSN_CD
            , DMB.PO_PEND_EML_ADDR
            , DMB.PO_ISS_EML_ADDR
            , DMB.INV_PKG_PEND_EML_ADDR
            , DMB.ACTV_FLG
            , DMB.DOC_MGT_INTFC_PROC_TS
            , DMB.DOC_MGT_INTFC_STS_CD
            , DMIS.DOC_MGT_INTFC_STS_NM
            , DMB.PROC_MODE_CD
            , DMB.EZUPTIME
            , DMB.EZUPTIMEZONE
        FROM
            DOC_MGT_BR DMB 
            ,DOC_MGT_INTFC_STS DMIS
        WHERE
            DMB.GLBL_CMPY_CD = #glblCmpyCd# 
        AND DMB.EZCANCELFLAG = '0'
        AND DMB.GLBL_CMPY_CD = DMIS.GLBL_CMPY_CD(+)
        AND DMB.DOC_MGT_INTFC_STS_CD = DMIS.DOC_MGT_INTFC_STS_CD(+)
        AND DMIS.EZCANCELFLAG(+) = '0'
        <isNotNull property="docMgtOrgCd">
        AND DMB.DOC_MGT_ORG_CD = #docMgtOrgCd#
        </isNotNull>
        <isNotNull property="docMgtScanBrCd">
        AND DMB.DOC_MGT_SCAN_BR_CD LIKE #docMgtScanBrCd#
        </isNotNull>
        <isNotNull property="docMgtScanBrNm">
        AND DMB.DOC_MGT_SCAN_BR_NM LIKE #docMgtScanBrNm#
        </isNotNull>
        <isNotNull property="docMgtScanRgNm">
        AND DMB.DOC_MGT_SCAN_RG_NM LIKE #docMgtScanRgNm#
        </isNotNull>
        <isNotNull property="docMgtScanZnNm">
        AND DMB.DOC_MGT_SCAN_ZN_NM LIKE #docMgtScanZnNm#
        </isNotNull>
        <isNotNull property="defOrdProcPsnCd">
        AND DMB.DEF_ORD_PROC_PSN_CD LIKE #defOrdProcPsnCd#
        </isNotNull>
        <isNotNull property="defBrAdminPsnCd">
        AND DMB.DEF_BR_ADMIN_PSN_CD LIKE #defBrAdminPsnCd#
        </isNotNull>
        <isNotNull property="leaseCmpyProcPsnCd">
        AND DMB.LEASE_CMPY_PROC_PSN_CD LIKE #leaseCmpyProcPsnCd#
        </isNotNull>
        <isNotNull property="actvFlg">
        AND DMB.ACTV_FLG = #actvFlg#
        </isNotNull>
        ORDER BY DMB.DOC_MGT_ORG_CD,
                 DMB.DOC_MGT_SCAN_BR_CD
    </statement>

    <statement id="getSendThereforeData" parameterClass="Map" resultClass="Map">
        SELECT
              DMB.GLBL_CMPY_CD
            , DMB.DOC_MGT_ORG_CD
            , DMB.DOC_MGT_SCAN_BR_CD
            , DMB.DOC_MGT_SCAN_BR_NM
            , DMB.DOC_MGT_SCAN_RG_NM
            , DMB.DOC_MGT_SCAN_ZN_NM
            , DMB.DEF_ORD_PROC_PSN_CD
            , DMB.DEF_BR_ADMIN_PSN_CD
            , DMB.LEASE_CMPY_PROC_PSN_CD
            , DMB.PO_PEND_EML_ADDR
            , DMB.PO_ISS_EML_ADDR
            , DMB.INV_PKG_PEND_EML_ADDR
            , DMB.ACTV_FLG
            , DMB.DOC_MGT_INTFC_PROC_TS
            , DMB.DOC_MGT_INTFC_STS_CD
            , DMB.PROC_MODE_CD
            , DMB.EZCANCELFLAG
        FROM
            DOC_MGT_BR DMB 
        WHERE
            DMB.GLBL_CMPY_CD = #glblCmpyCd#  
        AND DMB.EZCANCELFLAG = '0'
        AND DMB.ACTV_FLG = #actvFlg#
        AND DMB.DOC_MGT_INTFC_PROC_TS IS NULL
        ORDER BY DMB.DOC_MGT_ORG_CD,
                 DMB.DOC_MGT_SCAN_BR_CD,
                 DMB.EZUPTIME
    </statement>
    <statement id="getdocMgtCatgNum" parameterClass="Map" resultClass="Map">
        SELECT
              DMC.DOC_MGT_CATG_CD
            , DMC.DOC_MGT_CATG_NM
            , DMC.DOC_MGT_CATG_SORT_NUM
            , DMC.DOC_MGT_CATG_DESC_TXT
            , DMC.DOC_MGT_CATG_NUM
            , DMC.DOC_MGT_CATG_OM_USE_FLG
            , DMC.DOC_MGT_CATG_AP_USE_FLG
            , DMC.ATT_DOC_TP_CD
            , DMC.UPD_IDX_ATTRB_ON_ATT_FLG
            , DMC.UPD_IDX_ATTRB_ON_DEL_FLG 
        FROM
            DOC_MGT_CATG DMC 
        WHERE
            DMC.GLBL_CMPY_CD = #glblCmpyCd#  
        AND DMC.EZCANCELFLAG = '0'
        AND DMC.DOC_MGT_CATG_SRCH_KEY_NM = #srchKeyNm#
    </statement>
</sqlMap>
