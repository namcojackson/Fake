<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NFCB026001">

    <statement id="getArLockBoxFileNm" parameterClass="Map">
    SELECT 
        ARRI.AR_LOCK_BOX_FILE_NM
    FROM
        AR_RCPT_RCV_INTFC ARRI
    WHERE
        ARRI.GLBL_CMPY_CD = #glblCmpyCd#
    AND
        ARRI.EZCANCELFLAG = '0'
    AND
        ARRI.RCV_FUNC_ID  = #rcvFuncId#
    AND
    <isEqual property="type" compareValue="N">
        ARRI.AR_LOCK_BOX_STS_CD &lt;&gt; #arLockBoxStsCd#
    </isEqual>
    <isNotEqual property="type" compareValue="N">
        ARRI.AR_LOCK_BOX_STS_CD = #arLockBoxStsCd#
    </isNotEqual>
    AND
        (ARRI.LOCK_BOX_NTFY_STS_CD &lt;&gt; #lockBoxNtfyStsCd# OR ARRI.LOCK_BOX_NTFY_STS_CD IS NULL)
    GROUP BY ARRI.AR_LOCK_BOX_FILE_NM
    </statement>

    <statement id="getCountErrorData" parameterClass="Map" resultClass="BigDecimal">
    SELECT 
        COUNT(ARRI.AR_LOCK_BOX_FILE_NM)
    FROM
        AR_RCPT_RCV_INTFC ARRI
    WHERE
        ARRI.GLBL_CMPY_CD = #glblCmpyCd#
    AND
        ARRI.EZCANCELFLAG = '0'
    AND
        ARRI.RCV_FUNC_ID  = #rcvFuncId#
    AND
        ARRI.AR_LOCK_BOX_STS_CD = #arLockBoxStsCd#
    AND
        ARRI.AR_LOCK_BOX_FILE_NM = #arLockBoxFileNm#
    GROUP BY ARRI.AR_LOCK_BOX_FILE_NM
    </statement>

</sqlMap>
