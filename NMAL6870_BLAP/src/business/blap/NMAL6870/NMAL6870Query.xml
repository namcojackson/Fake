<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NMAL6870Query">

    <typeAlias alias="NMAL6870_ACMsg"    type="business.blap.NMAL6870.NMAL6870_ACMsg"/>

    <statement id="search" parameterClass="Map"  resultMap="result.search">
        WITH ANYTABLE AS(
            SELECT
            <isNotNull property="sortOrder">
              ROW_NUMBER() OVER (
                   ORDER BY 
                <iterate property="sortOrder" var="elements[]" open="" close="" conjunction=",">
                    $elements[]$
                </iterate>
               )          AS ROW_NUM 
            </isNotNull>
            <isNull property="sortOrder">
               ROWNUM     AS ROW_NUM
            </isNull>
              ,$column00$ AS COLUMN00
              ,$column01$ AS COLUMN01
              ,$column02$ AS COLUMN02
              ,$column03$ AS COLUMN03
              ,$column04$ AS COLUMN04
              ,$column05$ AS COLUMN05
              ,$column06$ AS COLUMN06
              ,$column07$ AS COLUMN07
              ,$column08$ AS COLUMN08
              ,$column09$ AS COLUMN09
            FROM
                ($from$)
            WHERE
                    EZCANCELFLAG      = '0'
                AND GLBL_CMPY_CD      = #glblCmpyCd#

          <isNull property="queryAll">
            <isNotNull property="where00">
              <isNotNull property="criteria00">
                AND $where00$ $operator00$ #criteria00#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where01">
              <isNotNull property="criteria01">
                AND $where01$ $operator01$ #criteria01#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where02">
              <isNotNull property="criteria02">
                AND $where02$ $operator02$ #criteria02#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where03">
              <isNotNull property="criteria03">
                AND $where03$ $operator03$ #criteria03#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where04">
              <isNotNull property="criteria04">
                AND $where04$ $operator04$ #criteria04#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where05">
              <isNotNull property="criteria05">
                AND $where05$ $operator05$ #criteria05#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where06">
              <isNotNull property="criteria06">
                AND $where06$ $operator06$ #criteria06#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where07">
              <isNotNull property="criteria07">
                AND $where07$ $operator07$ #criteria07#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where08">
              <isNotNull property="criteria08">
                AND $where08$ $operator08$ #criteria08#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where09">
              <isNotNull property="criteria09">
                AND $where09$ $operator09$ #criteria09#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where0A">
              <isNotNull property="criteria0A">
                AND $where0A$ $operator0A$ #criteria0A#
              </isNotNull>
            </isNotNull>
            <isNotNull property="where0B">
              <isNotNull property="criteria0B">
                AND $where0B$ $operator0B$ #criteria0B#
              </isNotNull>
            </isNotNull>
          </isNull>
          <isNotNull property="queryAll">
                AND (
            <iterate property="queryAll" var="query[]" open=" (" close=")" conjunction=" OR ">
              <iterate property="query[]" var="queryMap[]" open=" (" close=")" conjunction=" AND ">
                $queryMap[].col$ = #queryMap[].val#
              </iterate>
            </iterate>
                )
          </isNotNull>

        )
        SELECT
            TO_CHAR(COLUMN00) AS COLUMN00
           ,TO_CHAR(COLUMN01) AS COLUMN01
           ,TO_CHAR(COLUMN02) AS COLUMN02
           ,TO_CHAR(COLUMN03) AS COLUMN03
           ,TO_CHAR(COLUMN04) AS COLUMN04
           ,TO_CHAR(COLUMN05) AS COLUMN05
           ,TO_CHAR(COLUMN06) AS COLUMN06
           ,TO_CHAR(COLUMN07) AS COLUMN07
           ,TO_CHAR(COLUMN08) AS COLUMN08
           ,TO_CHAR(COLUMN09) AS COLUMN09
        FROM
            ANYTABLE
        WHERE
            ROW_NUM &lt;= #rowNum#
        ORDER BY
            ROW_NUM
    </statement>
    <resultMap id="result.search" class="NMAL6870_ACMsg">
        <result property="xxComnScrColValTxt_A0"    column="COLUMN00"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A1"    column="COLUMN01"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A2"    column="COLUMN02"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A3"    column="COLUMN03"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A4"    column="COLUMN04"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A5"    column="COLUMN05"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A6"    column="COLUMN06"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A7"    column="COLUMN07"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A8"    column="COLUMN08"        javaType="EZDCStringItem"/>
        <result property="xxComnScrColValTxt_A9"    column="COLUMN09"        javaType="EZDCStringItem"/>
    </resultMap>

</sqlMap>
