<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NMAL2460Query">
    <typeAlias alias="NMAL2460SMsg"     type="business.blap.NMAL2460.NMAL2460SMsg"/>
    <typeAlias alias="NMAL2460_ASMsg"   type="business.blap.NMAL2460.NMAL2460_ASMsg"/>
    <typeAlias alias="NMAL2460_BSMsg"   type="business.blap.NMAL2460.NMAL2460_BSMsg"/>

    <resultMap id="result.getSearchLayer1"  class="NMAL2460_ASMsg">
        <result property="locNum_A"                    column="LOC_NUM"                      javaType="EZDSStringItem"/>
        <result property="dsAcctNum_A"                 column="DS_ACCT_NUM"                  javaType="EZDSStringItem"/>
        <result property="dsAcctTpDescTxt_A"           column="DS_ACCT_TP_DESC_TXT"          javaType="EZDSStringItem"/>
        <result property="dsAcctNm_A"                  column="DS_ACCT_NM"                   javaType="EZDSStringItem"/>
        <result property="xxAllLineAddr_A"             column="ADDRESS"                      javaType="EZDSStringItem"/>
        <result property="ctyAddr_A"                   column="CTY_ADDR"                     javaType="EZDSStringItem"/>
        <result property="stNm_A"                      column="ST_CD"                        javaType="EZDSStringItem"/>
        <result property="postCd_A"                    column="POST_CD"                      javaType="EZDSStringItem"/>
        <result property="orgNm_A1"                    column="TRTY_NM"                      javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_A"          column="TRTY_GRP_TP_DESC_TXT"         javaType="EZDSStringItem"/>
        <result property="lineBizRoleTpDescTxt_A"      column="LINE_BIZ_ROLE_TP_DESC_TXT"    javaType="EZDSStringItem"/>
        <result property="psnNum_A"                    column="PSN_NUM"                      javaType="EZDSStringItem"/>
        <result property="xxPsnFirstMidLastNm_A"       column="PSN_NM"                       javaType="EZDSStringItem"/>
        <result property="psnCd_A"                     column="PSN_CD"                       javaType="EZDSStringItem"/>
        <result property="xxCratDt_A"                  column="EZINTIME"                     javaType="EZDSStringItem"/>
        <result property="dsCustSicCd_A"               column="DS_CUST_SIC_CD"               javaType="EZDSStringItem"/>
        <result property="dsAcctClsDescTxt_A"          column="DS_ACCT_CLS_DESC_TXT"         javaType="EZDSStringItem"/>
        <result property="firstDsAcctGrpTpCd_A"        column="FIRST_DS_ACCT_GRP_TP_CD"      javaType="EZDSStringItem"/>
        <result property="scdDsAcctGrpTpCd_A"          column="SCD_DS_ACCT_GRP_TP_CD"        javaType="EZDSStringItem"/>
        <result property="thirdDsAcctGrpTpCd_A"        column="THIRD_DS_ACCT_GRP_TP_CD"      javaType="EZDSStringItem"/>
        <result property="frthDsAcctGrpTpCd_A"         column="FRTH_DS_ACCT_GRP_TP_CD"       javaType="EZDSStringItem"/>
        <result property="fifthDsAcctGrpTpCd_A"        column="FIFTH_DS_ACCT_GRP_TP_CD"      javaType="EZDSStringItem"/>
        <result property="manEntryFlg_A"               column="MAN_ENTRY_FLG"                javaType="EZDSStringItem"/>
        <result property="orgCd_A"                     column="ORG_CD"                       javaType="EZDSStringItem"/>
        <result property="orgNm_A2"                    column="ORG_NM"                       javaType="EZDSStringItem"/>
    </resultMap>

    <resultMap id="result.getSearchLayer2"  class="NMAL2460_BSMsg">
        <result property="locNum_B"                    column="LOC_NUM"                    javaType="EZDSStringItem"/>
        <result property="dsAcctNum_B"                 column="DS_ACCT_NUM"                javaType="EZDSStringItem"/>
        <result property="dsAcctTpCd_B"                column="DS_ACCT_TP_CD"              javaType="EZDSStringItem"/>
        <result property="dsAcctTpDescTxt_B"           column="DS_ACCT_TP_DESC_TXT"        javaType="EZDSStringItem"/>
        <result property="dsAcctNm_B"                  column="DS_ACCT_NM"                 javaType="EZDSStringItem"/>
        <result property="xxAllLineAddr_B"             column="ADDRESS"                    javaType="EZDSStringItem"/>
        <result property="firstLineAddr_B"             column="FIRST_LINE_ADDR"            javaType="EZDSStringItem"/>
        <result property="scdLineAddr_B"               column="SCD_LINE_ADDR"              javaType="EZDSStringItem"/>
        <result property="thirdLineAddr_B"             column="THIRD_LINE_ADDR"            javaType="EZDSStringItem"/>
        <result property="frthLineAddr_B"              column="FRTH_LINE_ADDR"             javaType="EZDSStringItem"/>
        <result property="ctyAddr_B"                   column="CTY_ADDR"                   javaType="EZDSStringItem"/>
        <result property="stNm_B"                      column="ST_CD"                      javaType="EZDSStringItem"/>
        <result property="stCd_B"                      column="ST_CD"                      javaType="EZDSStringItem"/>
        <result property="postCd_B"                    column="POST_CD"                    javaType="EZDSStringItem"/>
        <result property="xxCratDt_B"                  column="EZINTIME"                   javaType="EZDSStringItem"/>
        <result property="dsCustSicCd_B"               column="DS_CUST_SIC_CD"             javaType="EZDSStringItem"/>
        <result property="dsAcctClsDescTxt_B"          column="DS_ACCT_CLS_DESC_TXT"       javaType="EZDSStringItem"/>
        <result property="dsAcctGrpNm_B1"              column="FIRST_DS_ACCT_GRP_TP_CD"    javaType="EZDSStringItem"/>
        <result property="dsAcctGrpNm_B2"              column="SCD_DS_ACCT_GRP_TP_CD"      javaType="EZDSStringItem"/>
        <result property="dsAcctGrpNm_B3"              column="THIRD_DS_ACCT_GRP_TP_CD"    javaType="EZDSStringItem"/>
        <result property="dsAcctGrpNm_B4"              column="FRTH_DS_ACCT_GRP_TP_CD"     javaType="EZDSStringItem"/>
        <result property="dsAcctGrpNm_B5"              column="FIFTH_DS_ACCT_GRP_TP_CD"    javaType="EZDSStringItem"/>
        <result property="manEntryFlg_B"               column="MAN_ENTRY_FLG"              javaType="EZDSStringItem"/>
        <result property="manEntryFlg_BO"              column="MAN_ENTRY_FLG"              javaType="EZDSStringItem"/>
        <result property="orgCd_B"                     column="ORG_CD"                     javaType="EZDSStringItem"/>
        <result property="orgNm_B"                     column="ORG_NM"                     javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B1"            column="ORG_CD_01"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O1"            column="ORG_CD_01"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O1"                    column="ORG_NM_01"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B1"                    column="ORG_NM_01"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B1"         column="TRTY_GRP_TP_DESC_TXT_01"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B1"         column="PSN_NUM_01"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B1"          column="PSN_NM_01"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B1"          column="PSN_CD_01"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B2"            column="ORG_CD_02"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O2"            column="ORG_CD_02"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O2"                    column="ORG_NM_02"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B2"                    column="ORG_NM_02"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B2"         column="TRTY_GRP_TP_DESC_TXT_02"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B2"         column="PSN_NUM_02"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B2"          column="PSN_NM_02"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B2"          column="PSN_CD_02"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B3"            column="ORG_CD_03"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O3"            column="ORG_CD_03"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O3"                    column="ORG_NM_03"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B3"                    column="ORG_NM_03"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B3"         column="TRTY_GRP_TP_DESC_TXT_03"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B3"         column="PSN_NUM_03"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B3"          column="PSN_NM_03"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B3"          column="PSN_CD_03"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B4"            column="ORG_CD_04"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O4"            column="ORG_CD_04"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O4"                    column="ORG_NM_04"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B4"                    column="ORG_NM_04"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B4"         column="TRTY_GRP_TP_DESC_TXT_04"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B4"         column="PSN_NUM_04"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B4"          column="PSN_NM_04"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B4"          column="PSN_CD_04"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B5"            column="ORG_CD_05"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O5"            column="ORG_CD_05"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O5"                    column="ORG_NM_05"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B5"                    column="ORG_NM_05"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B5"         column="TRTY_GRP_TP_DESC_TXT_05"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B5"         column="PSN_NUM_05"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B5"          column="PSN_NM_05"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B5"          column="PSN_CD_05"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B6"            column="ORG_CD_06"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O6"            column="ORG_CD_06"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O6"                    column="ORG_NM_06"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B6"                    column="ORG_NM_06"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B6"         column="TRTY_GRP_TP_DESC_TXT_06"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B6"         column="PSN_NUM_06"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B6"          column="PSN_NM_06"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B6"          column="PSN_CD_06"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B7"            column="ORG_CD_07"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O7"            column="ORG_CD_07"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O7"                    column="ORG_NM_07"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B7"                    column="ORG_NM_07"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B7"         column="TRTY_GRP_TP_DESC_TXT_07"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B7"         column="PSN_NUM_07"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B7"          column="PSN_NM_07"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B7"          column="PSN_CD_07"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B8"            column="ORG_CD_08"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O8"            column="ORG_CD_08"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O8"                    column="ORG_NM_08"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B8"                    column="ORG_NM_08"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B8"         column="TRTY_GRP_TP_DESC_TXT_08"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B8"         column="PSN_NUM_08"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B8"          column="PSN_NM_08"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B8"          column="PSN_CD_08"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_B9"            column="ORG_CD_09"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_O9"            column="ORG_CD_09"                  javaType="EZDSStringItem"/>
        <result property="orgNm_O9"                    column="ORG_NM_09"                  javaType="EZDSStringItem"/>
        <result property="orgNm_B9"                    column="ORG_NM_09"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_B9"         column="TRTY_GRP_TP_DESC_TXT_09"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_B9"         column="PSN_NUM_09"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_B9"          column="PSN_NM_09"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_B9"          column="PSN_CD_09"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BA"            column="ORG_CD_10"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OA"            column="ORG_CD_10"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OA"                    column="ORG_NM_10"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BA"                    column="ORG_NM_10"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BA"         column="TRTY_GRP_TP_DESC_TXT_10"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BA"         column="PSN_NUM_10"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BA"          column="PSN_NM_10"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BA"          column="PSN_CD_10"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BB"            column="ORG_CD_11"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OB"            column="ORG_CD_11"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OB"                    column="ORG_NM_11"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BB"                    column="ORG_NM_11"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BB"         column="TRTY_GRP_TP_DESC_TXT_11"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BB"         column="PSN_NUM_11"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BB"          column="PSN_NM_11"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BB"          column="PSN_CD_11"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BC"            column="ORG_CD_12"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OC"            column="ORG_CD_12"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OC"                    column="ORG_NM_12"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BC"                    column="ORG_NM_12"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BC"         column="TRTY_GRP_TP_DESC_TXT_12"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BC"         column="PSN_NUM_12"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BC"          column="PSN_NM_12"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BC"          column="PSN_CD_12"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BD"            column="ORG_CD_13"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OD"            column="ORG_CD_13"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OD"                    column="ORG_NM_13"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BD"                    column="ORG_NM_13"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BD"         column="TRTY_GRP_TP_DESC_TXT_13"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BD"         column="PSN_NUM_13"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BD"          column="PSN_NM_13"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BD"          column="PSN_CD_13"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BE"            column="ORG_CD_14"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OE"            column="ORG_CD_14"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OE"                    column="ORG_NM_14"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BE"                    column="ORG_NM_14"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BE"         column="TRTY_GRP_TP_DESC_TXT_14"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BE"         column="PSN_NUM_14"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BE"          column="PSN_NM_14"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BE"          column="PSN_CD_14"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BF"            column="ORG_CD_15"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OF"            column="ORG_CD_15"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OF"                    column="ORG_NM_15"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BF"                    column="ORG_NM_15"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BF"         column="TRTY_GRP_TP_DESC_TXT_15"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BF"         column="PSN_NUM_15"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BF"          column="PSN_NM_15"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BF"          column="PSN_CD_15"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BG"            column="ORG_CD_16"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OG"            column="ORG_CD_16"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OG"                    column="ORG_NM_16"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BG"                    column="ORG_NM_16"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BG"         column="TRTY_GRP_TP_DESC_TXT_16"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BG"         column="PSN_NUM_16"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BG"          column="PSN_NM_16"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BG"          column="PSN_CD_16"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BH"            column="ORG_CD_17"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OH"            column="ORG_CD_17"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OH"                    column="ORG_NM_17"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BH"                    column="ORG_NM_17"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BH"         column="TRTY_GRP_TP_DESC_TXT_17"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BH"         column="PSN_NUM_17"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BH"          column="PSN_NM_17"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BH"          column="PSN_CD_17"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BI"            column="ORG_CD_18"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OI"            column="ORG_CD_18"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OI"                    column="ORG_NM_18"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BI"                    column="ORG_NM_18"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BI"         column="TRTY_GRP_TP_DESC_TXT_18"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BI"         column="PSN_NUM_18"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BI"          column="PSN_NM_18"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BI"          column="PSN_CD_18"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BJ"            column="ORG_CD_19"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OJ"            column="ORG_CD_19"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OJ"                    column="ORG_NM_19"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BJ"                    column="ORG_NM_19"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BJ"         column="TRTY_GRP_TP_DESC_TXT_19"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BJ"         column="PSN_NUM_19"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BJ"          column="PSN_NM_19"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BJ"          column="PSN_CD_19"                  javaType="EZDSStringItem"/>

        <result property="acctTrtyOrgCd_BK"            column="ORG_CD_20"                  javaType="EZDSStringItem"/>
        <result property="acctTrtyOrgCd_OK"            column="ORG_CD_20"                  javaType="EZDSStringItem"/>
        <result property="orgNm_OK"                    column="ORG_NM_20"                  javaType="EZDSStringItem"/>
        <result property="orgNm_BK"                    column="ORG_NM_20"                  javaType="EZDSStringItem"/>
        <result property="trtyGrpTpDescTxt_BK"         column="TRTY_GRP_TP_DESC_TXT_20"    javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNum_BK"         column="PSN_NUM_20"                 javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnNm_BK"          column="PSN_NM_20"                  javaType="EZDSStringItem"/>
        <result property="xxAcctTrtyPsnCd_BK"          column="PSN_CD_20"                  javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSearchLayer1" parameterClass="Map" resultMap="result.getSearchLayer1">
        WITH ACCT_WRK AS(
            <isEqual property="dsAcctTp" compareValue="10">
                SELECT 
                    AROLE.DS_ACCT_NUM
                  , AROLE.LOC_NUM
                  , AROLE.ORG_CD
                  , AROLE.LINE_BIZ_ROLE_TP_CD
                  , AROLE.DS_ACCT_NM
                  , AROLE.DS_ACCT_TP_CD
                  , AROLE.DS_ACCT_CLS_CD
                  , AROLE.FIRST_DS_ACCT_GRP_TP_CD
                  , AROLE.SCD_DS_ACCT_GRP_TP_CD
                  , AROLE.THIRD_DS_ACCT_GRP_TP_CD
                  , AROLE.FRTH_DS_ACCT_GRP_TP_CD
                  , AROLE.FIFTH_DS_ACCT_GRP_TP_CD
                  , AROLE.FIRST_LINE_ADDR
                  , AROLE.SCD_LINE_ADDR
                  , AROLE.THIRD_LINE_ADDR
                  , AROLE.FRTH_LINE_ADDR
                  , AROLE.CTY_ADDR
                  , AROLE.ST_CD
                  , AROLE.POST_CD
                  , AROLE.ORG_NM
                  , AROLE.PSN_CD
                  , AROLE.MAN_ENTRY_FLG
                  , CUST.PTY_LOC_PK
                  , AROLE.TOC_CD <!-- 2018/03/27 S21_NA#23967 Add -->
                FROM
                      ACCT_TRTY_ROLE_ASG    AROLE
                    , SELL_TO_CUST          CUST
                WHERE
                    AROLE.GLBL_CMPY_CD           =    #glblCmpyCd#
            <isNotNull property="cMsg.dsAcctNum_H">
                AND AROLE.DS_ACCT_NUM         LIKE    #cMsg.dsAcctNum_H#
            </isNotNull>
            <isNotNull property="cMsg.dsAcctNm_H">
                AND AROLE.DS_ACCT_NM          LIKE    #cMsg.dsAcctNm_H#
            </isNotNull>
            <isNotNull property="cMsg.xxLineCatgSrchTxt_H">
                AND AROLE.FIRST_LINE_ADDR ||' '||
                    AROLE.SCD_LINE_ADDR   ||' '||
                    AROLE.THIRD_LINE_ADDR ||' '||
                    AROLE.FRTH_LINE_ADDR       LIKE   #cMsg.xxLineCatgSrchTxt_H#
            </isNotNull>
            <isNotNull property="cMsg.orgNm_H1">
                AND AROLE.ORG_NM               LIKE   #cMsg.orgNm_H1#
            </isNotNull>

                AND AROLE.GLBL_CMPY_CD(+)         =   CUST.GLBL_CMPY_CD
                AND AROLE.DS_ACCT_NUM(+)          =   CUST.SELL_TO_CUST_CD
                AND AROLE.EZCANCELFLAG            =   '0'
                AND CUST.EZCANCELFLAG             =   '0'
        </isEqual>

        <isNotEqual property="dsAcctTp" compareValue="10">
                SELECT
                    PROLE.DS_ACCT_NUM
                  , PROLE.LOC_NUM
                  , PROLE.LINE_BIZ_ROLE_TP_CD
                  , PROLE.ORG_CD
                  , PROLE.DS_ACCT_NM
                  , PROLE.DS_ACCT_TP_CD
                  , PROLE.DS_ACCT_CLS_CD
                  , PROLE.FIRST_DS_ACCT_GRP_TP_CD
                  , PROLE.SCD_DS_ACCT_GRP_TP_CD
                  , PROLE.THIRD_DS_ACCT_GRP_TP_CD
                  , PROLE.FRTH_DS_ACCT_GRP_TP_CD
                  , PROLE.FIFTH_DS_ACCT_GRP_TP_CD
                  , PROLE.FIRST_LINE_ADDR
                  , PROLE.SCD_LINE_ADDR
                  , PROLE.THIRD_LINE_ADDR
                  , PROLE.FRTH_LINE_ADDR
                  , PROLE.CTY_ADDR
                  , PROLE.ST_CD
                  , PROLE.POST_CD
                  , PROLE.ORG_NM
                  , PROLE.PSN_CD
                  , PROLE.MAN_ENTRY_FLG
                  , PROS.PTY_LOC_PK
                  , PROLE.TOC_CD <!-- 2018/03/27 S21_NA#23967 Add -->
                 FROM 
                      PROS_TRTY_ROLE_ASG     PROLE
                    , DS_ACCT_PROS           PROS
                WHERE
                    PROLE.GLBL_CMPY_CD              =  #glblCmpyCd#
            <isNotNull property="cMsg.dsAcctNum_H">
                AND PROLE.DS_ACCT_NUM            LIKE  #cMsg.dsAcctNum_H#
            </isNotNull>
            <isNotNull property="cMsg.dsAcctNm_H">
                AND PROLE.DS_ACCT_NM             LIKE  #cMsg.dsAcctNm_H#
            </isNotNull>
            <isNotNull property="cMsg.xxLineCatgSrchTxt_H">
                AND PROLE.FIRST_LINE_ADDR ||' '||
                    PROLE.SCD_LINE_ADDR   ||' '||
                    PROLE.THIRD_LINE_ADDR ||' '||
                    PROLE.FRTH_LINE_ADDR         LIKE  #cMsg.xxLineCatgSrchTxt_H#
            </isNotNull>
            <isNotNull property="cMsg.orgNm_H1">
                AND PROLE.ORG_NM                 LIKE  #cMsg.orgNm_H1#
            </isNotNull>
                AND PROLE.GLBL_CMPY_CD(+)           =  PROS.GLBL_CMPY_CD
                AND PROLE.DS_ACCT_NUM(+)            =  PROS.DS_ACCT_NUM
                AND PROLE.EZCANCELFLAG              =  '0'
                AND PROS.EZCANCELFLAG               =  '0'
        </isNotEqual>
        )


      SELECT
          *
      FROM
           (SELECT
                ACCT.DS_ACCT_NUM
              , ACCT.LOC_NUM
              , LBR.LINE_BIZ_ROLE_TP_DESC_TXT
              , ACCT.DS_ACCT_NM
              , ACCTTP.DS_ACCT_TP_DESC_TXT
              , CLS.DS_ACCT_CLS_DESC_TXT
              , ACCT.FIRST_DS_ACCT_GRP_TP_CD
              , ACCT.SCD_DS_ACCT_GRP_TP_CD
              , ACCT.THIRD_DS_ACCT_GRP_TP_CD
              , ACCT.FRTH_DS_ACCT_GRP_TP_CD
              , ACCT.FIFTH_DS_ACCT_GRP_TP_CD
              , ACCT.FIRST_LINE_ADDR ||' '|| ACCT.SCD_LINE_ADDR ||' '||
                ACCT.THIRD_LINE_ADDR ||' '|| ACCT.FRTH_LINE_ADDR  AS  ADDRESS
              , ACCT.CTY_ADDR
              , ST.ST_CD
              , ST.ST_NM
              , ACCT.POST_CD
              , ACCT.ORG_NM   AS  TRTY_NM
              , ACCT.PSN_CD
              , ACCT.MAN_ENTRY_FLG
              , SUBSTR(PTY.EZINTIME,1,8) EZINTIME
              , GRP.TRTY_GRP_TP_DESC_TXT
              , PTY.DS_CUST_SIC_CD
              , PSN.PSN_NUM
              , PSN.PSN_FIRST_NM ||' '|| PSN.PSN_LAST_NM  AS  PSN_NM
          <isNotNull property="orgNm">
              , CASE WHEN ORG.FRTH_ORG_NM LIKE #orgNm# THEN ORG.FRTH_ORG_CD
                WHEN ORG.FIFTH_ORG_NM     LIKE #orgNm# THEN ORG.FIFTH_ORG_CD
                WHEN ORG.SIXTH_ORG_NM     LIKE #orgNm# THEN ORG.SIXTH_ORG_CD
                WHEN ORG.SVNTH_ORG_NM     LIKE #orgNm# THEN ORG.SVNTH_ORG_CD
                WHEN ORG.EIGHTH_ORG_NM    LIKE #orgNm# THEN ORG.EIGHTH_ORG_CD
                WHEN ORG.NINTH_ORG_NM     LIKE #orgNm# THEN ORG.NINTH_ORG_CD
                WHEN ORG.TENTH_ORG_NM     LIKE #orgNm# THEN ORG.TENTH_ORG_CD
                WHEN ORG.ELVTH_ORG_NM     LIKE #orgNm# THEN ORG.ELVTH_ORG_CD
                ELSE NULL
                END ORG_CD
              , CASE WHEN ORG.FRTH_ORG_NM LIKE #orgNm# THEN ORG.FRTH_ORG_NM
                WHEN ORG.FIFTH_ORG_NM     LIKE #orgNm# THEN ORG.FIFTH_ORG_NM
                WHEN ORG.SIXTH_ORG_NM     LIKE #orgNm# THEN ORG.SIXTH_ORG_NM
                WHEN ORG.SVNTH_ORG_NM     LIKE #orgNm# THEN ORG.SVNTH_ORG_NM
                WHEN ORG.EIGHTH_ORG_NM    LIKE #orgNm# THEN ORG.EIGHTH_ORG_NM
                WHEN ORG.NINTH_ORG_NM     LIKE #orgNm# THEN ORG.NINTH_ORG_NM
                WHEN ORG.TENTH_ORG_NM     LIKE #orgNm# THEN ORG.TENTH_ORG_NM
                WHEN ORG.ELVTH_ORG_NM     LIKE #orgNm# THEN ORG.ELVTH_ORG_NM
                ELSE NULL
                END ORG_NM
          </isNotNull>
          <isNull property="orgNm">
              , '' AS ORG_CD
              , '' AS ORG_NM
          </isNull>

            FROM 
                ACCT_WRK               ACCT
            <isEqual property="dsAcctTp" compareValue="10">
              , ACCT_LOC               LOC
              , PTY_LOC_WRK            PTY
            </isEqual>
            <isNotEqual property="dsAcctTp" compareValue="10">
              , PROS_PTY_LOC_WRK            PTY
            </isNotEqual>
              , DS_ACCT_TP             ACCTTP
              , LINE_BIZ_ROLE_TP       LBR
              , DS_ACCT_CLS            CLS
              , ST                     ST
              , DS_ORG_UNIT            UNIT
              , TRTY_GRP_TP            GRP
              , ORG_STRU_TP            STRU
              , BIZ_AREA_ORG           BAO
              , DS_ORG_RESRC_RELN      RESRC
              , S21_PSN                PSN
              , ORG_FUNC_ASG           FUNC
              , TOC                    TOC
              , ORG_FUNC_ROLE_TP       ROLE
              , S21_ORG                ORG

            WHERE 
            <isEqual property="dsAcctTp" compareValue="10">
                LOC.GLBL_CMPY_CD             =  #glblCmpyCd#
            AND ACCT.LOC_NUM                 =  LOC.LOC_NUM

            AND LOC.GLBL_CMPY_CD             =  PTY.GLBL_CMPY_CD
            AND LOC.PTY_LOC_PK               =  PTY.PTY_LOC_PK
            </isEqual>
            <isNotEqual property="dsAcctTp" compareValue="10">
                PTY.GLBL_CMPY_CD             =  #glblCmpyCd#
            AND ACCT.PTY_LOC_PK              =  PTY.PTY_LOC_PK
            </isNotEqual>

          <isNotNull property="cMsg.xxCratDt_HF">
            AND SUBSTR(PTY.EZINTIME,1,8) &gt;=  #cMsg.xxCratDt_HF#
          </isNotNull>
          <isNotNull property="cMsg.xxCratDt_HT">
            AND SUBSTR(PTY.EZINTIME,1,8) &lt;=  #cMsg.xxCratDt_HT#
          </isNotNull>
          <isNotNull property="cMsg.xxLineCatgSrchTxt_H">
            AND PTY.FIRST_LINE_ADDR ||' '||
                PTY.SCD_LINE_ADDR   ||' '||
                PTY.THIRD_LINE_ADDR ||' '||
                PTY.FRTH_LINE_ADDR        LIKE  #cMsg.xxLineCatgSrchTxt_H#
          </isNotNull>
          <isNotNull property="cMsg.ctyAddr_H">
            AND PTY.CTY_ADDR              LIKE  #cMsg.ctyAddr_H#
          </isNotNull>
          <isNotNull property="cMsg.stCd_H">
            AND PTY.ST_CD                 LIKE  #cMsg.stCd_H#
          </isNotNull>

          <isNotNull property="cMsg.postCd_HF">
            AND ( 
                  (CASE WHEN LENGTH(PTY.POST_CD) &lt;= #postCd_FiveDigit#  THEN RPAD(PTY.POST_CD,#postCd_NineDigit#,#zero#)
                        WHEN LENGTH(PTY.POST_CD) &lt;= #postCd_FullDigit#  THEN REPLACE(PTY.POST_CD,#hyphen#,'')
                        ELSE ''
                   END ) &gt;= #postCdFromVal#
                )
          </isNotNull>
          <isNotNull property="cMsg.postCd_HT">
            AND ( 
                  (CASE WHEN LENGTH(PTY.POST_CD) &lt;= #postCd_FiveDigit#  THEN RPAD(PTY.POST_CD,#postCd_NineDigit#,#zero#)
                        WHEN LENGTH(PTY.POST_CD) &lt;= #postCd_FullDigit# THEN REPLACE(PTY.POST_CD,#hyphen#,'')
                        ELSE ''
                   END ) &lt;= #postCdThruVal#
                )
          </isNotNull>

          <isNotNull property="cMsg.locNum_H">
            AND PTY.LOC_NUM               LIKE  #cMsg.locNum_H#
          </isNotNull>
          <isNotNull property="cMsg.lineBizTpCd_H">
            AND PTY.LINE_BIZ_TP_CD         =  #cMsg.lineBizTpCd_H#
          </isNotNull>
     
            AND LBR.GLBL_CMPY_CD             =  #glblCmpyCd#
            AND ACCT.LINE_BIZ_ROLE_TP_CD     =  LBR.LINE_BIZ_ROLE_TP_CD


            AND ACCTTP.GLBL_CMPY_CD          =  #glblCmpyCd#
            AND ACCT.DS_ACCT_TP_CD           =  ACCTTP.DS_ACCT_TP_CD

            AND CLS.GLBL_CMPY_CD             =  #glblCmpyCd#
            AND ACCT.DS_ACCT_CLS_CD          =  CLS.DS_ACCT_CLS_CD

            <!-- 2019/11/07 QC#52379 Delete Start -->
            <!-- AND ST.GLBL_CMPY_CD              =  #glblCmpyCd# -->
            <!-- AND ACCT.ST_CD                   =  ST.ST_CD -->
            <!-- 2019/11/07 QC#52379 Delete End -->
            <!-- 2019/11/07 QC#52379 Add Start -->
            AND ST.GLBL_CMPY_CD(+)           =  #glblCmpyCd#
            AND ACCT.ST_CD                   =  ST.ST_CD(+)
            <!-- 2019/11/07 QC#52379 Add End -->

            AND UNIT.GLBL_CMPY_CD            =  #glblCmpyCd#
            AND ACCT.ORG_CD                  =  UNIT.ORG_CD

            AND UNIT.GLBL_CMPY_CD            =  GRP.GLBL_CMPY_CD
            AND UNIT.TRTY_GRP_TP_CD          =  GRP.TRTY_GRP_TP_CD
          <isNotNull property="cMsg.trtyGrpTpCd_H">
            AND GRP.TRTY_GRP_TP_CD        LIKE  #cMsg.trtyGrpTpCd_H#
          </isNotNull>

            AND UNIT.GLBL_CMPY_CD            =  STRU.GLBL_CMPY_CD
            AND UNIT.ORG_STRU_TP_CD          =  STRU.ORG_STRU_TP_CD
            AND STRU.TRTY_STRU_FLG           =  #flgOnY#

            AND UNIT.GLBL_CMPY_CD            =  BAO.GLBL_CMPY_CD
            AND UNIT.FIRST_ORG_CD            =  BAO.BIZ_AREA_ORG_CD
            AND UNIT.ORG_STRU_TP_CD          =  BAO.ORG_STRU_TP_CD
          <isNotNull property="cMsg.bizAreaOrgCd_H">
            AND BAO.BIZ_AREA_ORG_CD          =  #cMsg.bizAreaOrgCd_H#
          </isNotNull>

            AND UNIT.GLBL_CMPY_CD            =  RESRC.GLBL_CMPY_CD
            AND UNIT.ORG_CD                  =  RESRC.ORG_CD
            AND ACCT.PSN_CD                  =  RESRC.PSN_CD
            AND RESRC.GNRN_TP_CD            IN  (#gnrnTp_Current#)

            AND RESRC.GLBL_CMPY_CD           =  PSN.GLBL_CMPY_CD
            AND RESRC.PSN_CD                 =  PSN.PSN_CD
          <isNotNull property="cMsg.psnCd_H">
            AND PSN.PSN_CD                LIKE  #cMsg.psnCd_H#
          </isNotNull>
          <isNotNull property="cMsg.fullPsnNm_H">
            AND PSN.PSN_FIRST_NM  ||' '||
                PSN.PSN_LAST_NM           LIKE  #cMsg.fullPsnNm_H#
          </isNotNull>

            AND PSN.GLBL_CMPY_CD(+)          =  FUNC.GLBL_CMPY_CD
            AND PSN.PSN_CD(+)                =  FUNC.PSN_CD
            AND ACCT.TOC_CD                  =  FUNC.TOC_CD <!-- 2018/03/27 S21_NA#23967 Add -->
            AND FUNC.EFF_FROM_DT         &lt;=  #slsDt#
            AND NVL(FUNC.EFF_THRU_DT, #maxDt#) &gt;=  #slsDt#
            AND FUNC.GNRN_TP_CD             IN  (#gnrnTp_Current#)

            AND FUNC.GLBL_CMPY_CD(+)         =  TOC.GLBL_CMPY_CD
            AND FUNC.TOC_CD(+)               =  TOC.TOC_CD

            AND TOC.GLBL_CMPY_CD(+)          =  ROLE.GLBL_CMPY_CD
            AND TOC.ORG_FUNC_ROLE_TP_CD(+)   =  ROLE.ORG_FUNC_ROLE_TP_CD
            AND ROLE.ACTV_FLG                =  #flgOnY#

            AND TOC.GLBL_CMPY_CD(+)          =  ORG.GLBL_CMPY_CD
            AND TOC.TOC_CD(+)                =  ORG.TOC_CD
            AND ORG.RGTN_STS_CD              =  #rgtnSts_Ready4Order#
          <isNotNull property="orgNm">
            AND (ORG.FRTH_ORG_NM          LIKE  #orgNm#
                 OR ORG.FIFTH_ORG_NM      LIKE  #orgNm#
                 OR ORG.SIXTH_ORG_NM      LIKE  #orgNm#
                 OR ORG.SVNTH_ORG_NM      LIKE  #orgNm#
                 OR ORG.EIGHTH_ORG_NM     LIKE  #orgNm#
                 OR ORG.NINTH_ORG_NM      LIKE  #orgNm#
                 OR ORG.TENTH_ORG_NM      LIKE  #orgNm#
                 OR ORG.ELVTH_ORG_NM      LIKE  #orgNm#
                )
          </isNotNull>

            <isEqual property="dsAcctTp" compareValue="10">
            AND LOC.EZCANCELFLAG             =  '0'
            </isEqual>
            AND PTY.EZCANCELFLAG             =  '0'
            <!-- 2019/11/07 QC#52379 Delete Start -->
            <!-- AND ST.EZCANCELFLAG -->
            <!-- 2019/11/07 QC#52379 Delete End -->
            <!-- 2019/11/07 QC#52379 Add Start -->
            AND ST.EZCANCELFLAG(+)           =  '0'
            <!-- 2019/11/07 QC#52379 Add End -->
            AND ACCTTP.EZCANCELFLAG          =  '0'
            AND LBR.EZCANCELFLAG             =  '0'
            AND UNIT.EZCANCELFLAG            =  '0'
            AND GRP.EZCANCELFLAG             =  '0'
            AND STRU.EZCANCELFLAG            =  '0'
            AND BAO.EZCANCELFLAG             =  '0'
            AND RESRC.EZCANCELFLAG           =  '0'
            AND PSN.EZCANCELFLAG             =  '0'
            AND FUNC.EZCANCELFLAG(+)         =  '0'
            AND TOC.EZCANCELFLAG(+)          =  '0'
            AND ROLE.EZCANCELFLAG(+)         =  '0'
            AND ORG.EZCANCELFLAG(+)          =  '0'
            
            <!-- 2018/03/27 S21_NA#23125 Add Sort -->
            ORDER BY ACCT.LOC_NUM
                   , LBR.LINE_BIZ_ROLE_TP_DESC_TXT DESC)
      WHERE
          ROWNUM                   &lt;=  #rowNum_Max#
    </statement>

    <statement id="getSearchLayer2" parameterClass="Map" resultMap="result.getSearchLayer2">
        WITH TRTY_WRK AS
                   (
                        SELECT
                            DISTINCT ASG.TOC_CD
                          , UNIT.ORG_NM
                          , GRP.TRTY_GRP_TP_DESC_TXT
                          , PSN.PSN_NUM
                          , PSN.PSN_FIRST_NM ||' '|| PSN.PSN_LAST_NM  AS  PSN_NM
                          , UNIT.ORG_CD
                          , PSN.PSN_CD
                      <isNotNull property="orgNm">
                          , (
                               SELECT 
                                      CASE
                                        WHEN ORG.FRTH_ORG_NM      LIKE #orgNm# THEN ORG.FRTH_ORG_CD
                                        WHEN ORG.FIFTH_ORG_NM     LIKE #orgNm# THEN ORG.FIFTH_ORG_CD
                                        WHEN ORG.SIXTH_ORG_NM     LIKE #orgNm# THEN ORG.SIXTH_ORG_CD
                                        WHEN ORG.SVNTH_ORG_NM     LIKE #orgNm# THEN ORG.SVNTH_ORG_CD
                                        WHEN ORG.EIGHTH_ORG_NM    LIKE #orgNm# THEN ORG.EIGHTH_ORG_CD
                                        WHEN ORG.NINTH_ORG_NM     LIKE #orgNm# THEN ORG.NINTH_ORG_CD
                                        WHEN ORG.TENTH_ORG_NM     LIKE #orgNm# THEN ORG.TENTH_ORG_CD
                                        WHEN ORG.ELVTH_ORG_NM     LIKE #orgNm# THEN ORG.ELVTH_ORG_CD
                                        ELSE NULL
                                      END
                                 FROM S21_ORG ORG
                                WHERE ORG.EZCANCELFLAG         =  '0'
                                  AND TOC.GLBL_CMPY_CD         =  ORG.GLBL_CMPY_CD
                                  AND TOC.TOC_CD               =  ORG.TOC_CD
                                  AND ORG.RGTN_STS_CD          =  #rgtnSts_Ready4Order#
                                  AND (ORG.FRTH_ORG_NM        LIKE  #orgNm#
                                         OR ORG.FIFTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.SIXTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.SVNTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.EIGHTH_ORG_NM LIKE  #orgNm#
                                         OR ORG.NINTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.TENTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.ELVTH_ORG_NM  LIKE  #orgNm#
                                      )
                                  AND ROWNUM = 1
                            ) AS S21_ORG_CD
                          , (
                               SELECT 
                                      CASE
                                        WHEN ORG.FRTH_ORG_NM      LIKE #orgNm# THEN ORG.FRTH_ORG_NM
                                        WHEN ORG.FIFTH_ORG_NM     LIKE #orgNm# THEN ORG.FIFTH_ORG_NM
                                        WHEN ORG.SIXTH_ORG_NM     LIKE #orgNm# THEN ORG.SIXTH_ORG_NM
                                        WHEN ORG.SVNTH_ORG_NM     LIKE #orgNm# THEN ORG.SVNTH_ORG_NM
                                        WHEN ORG.EIGHTH_ORG_NM    LIKE #orgNm# THEN ORG.EIGHTH_ORG_NM
                                        WHEN ORG.NINTH_ORG_NM     LIKE #orgNm# THEN ORG.NINTH_ORG_NM
                                        WHEN ORG.TENTH_ORG_NM     LIKE #orgNm# THEN ORG.TENTH_ORG_NM
                                        WHEN ORG.ELVTH_ORG_NM     LIKE #orgNm# THEN ORG.ELVTH_ORG_NM
                                        ELSE NULL
                                      END
                                 FROM S21_ORG ORG
                                WHERE ORG.EZCANCELFLAG         =  '0'
                                  AND TOC.GLBL_CMPY_CD         =  ORG.GLBL_CMPY_CD
                                  AND TOC.TOC_CD               =  ORG.TOC_CD
                                  AND ORG.RGTN_STS_CD          =  #rgtnSts_Ready4Order#
                                  AND (ORG.FRTH_ORG_NM        LIKE  #orgNm#
                                         OR ORG.FIFTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.SIXTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.SVNTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.EIGHTH_ORG_NM LIKE  #orgNm#
                                         OR ORG.NINTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.TENTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.ELVTH_ORG_NM  LIKE  #orgNm#
                                      )
                                  AND ROWNUM = 1
                            ) AS S21_ORG_NM
                      </isNotNull>
                        FROM
                      <isEqual property="dsAcctTp" compareValue="10">
                            ACCT_TRTY_ROLE_ASG  ACCT
                      </isEqual>
                      <isNotEqual property="dsAcctTp" compareValue="10">
                            PROS_TRTY_ROLE_ASG  ACCT
                      </isNotEqual>
                          , DS_ORG_UNIT         UNIT
                          , ORG_STRU_TP         STRU
                          , TRTY_GRP_TP         GRP
                          , DS_ORG_RESRC_RELN   RESRC
                          , S21_PSN             PSN
                          , ORG_FUNC_ASG        ASG
                          , TOC                 TOC
                          , ORG_FUNC_ROLE_TP    ROLE
                      <isEqual property="dsAcctTp" compareValue="10">
                          , PTY_LOC_WRK         PTY
                      </isEqual>
                      <isNotEqual property="dsAcctTp" compareValue="10">
                          , PROS_PTY_LOC_WRK    PTY
                      </isNotEqual>
                        WHERE
                            ACCT.GLBL_CMPY_CD    = #glblCmpyCd#
                        AND ACCT.NON_SLS_REP_FLG = #flgOffN#

                      <isNotNull property="cMsg.dsAcctNum_H">
                        AND ACCT.DS_ACCT_NUM  LIKE #cMsg.dsAcctNum_H#
                      </isNotNull>
                      <isNotNull property="cMsg.dsAcctNm_H">
                        AND ACCT.DS_ACCT_NM   LIKE #cMsg.dsAcctNm_H#
                     </isNotNull>
                        AND ACCT.DS_ACCT_TP_CD   = #dsAcctTp#

                      <isNotNull property="cMsg.xxLineCatgSrchTxt_H">
                        AND ACCT.FIRST_LINE_ADDR ||' '||
                            ACCT.SCD_LINE_ADDR   ||' '||
                            ACCT.THIRD_LINE_ADDR ||' '||
                            ACCT.FRTH_LINE_ADDR        LIKE  #cMsg.xxLineCatgSrchTxt_H#
                      </isNotNull>
                      <isNotNull property="cMsg.ctyAddr_H">
                        AND ACCT.CTY_ADDR              LIKE  #cMsg.ctyAddr_H#
                      </isNotNull>
                      <isNotNull property="cMsg.stCd_H">
                        AND ACCT.ST_CD                 LIKE  #cMsg.stCd_H#
                      </isNotNull>

                      <isNotNull property="cMsg.postCd_HF">
                        <!-- 2018/08/07 QC#27464 Del
                        AND RPAD(REPLACE(PTY.POST_CD, #hyphen#, ''), #postCd_NineDigit#, #zero#) &gt;= #postCdFromVal#
                        -->
                        <!-- 2018/08/07 QC#27464 Add Start -->
                        AND PTY.POST_CD &gt;= (CASE WHEN SUBSTR(#postCdFromVal#,#postCd_FiveDigit# + 1,#postCd_NineDigit#)=RPAD('0',#postCd_NineDigit# - #postCd_FiveDigit#,#zero#)
                                             THEN SUBSTR(#postCdFromVal#,1,#postCd_FiveDigit#)
                                             ELSE SUBSTR(#postCdFromVal#,1,#postCd_FiveDigit#)||#hyphen#||SUBSTR(#postCdFromVal#,#postCd_FiveDigit# + 1)
                                             END)
                        <!-- 2018/08/07 QC#27464 Add End -->
                      </isNotNull>
                      <isNotNull property="cMsg.postCd_HT">
                        <!-- 2018/08/07 QC#27464 Del
                        AND RPAD(REPLACE(PTY.POST_CD, #hyphen#, ''), #postCd_NineDigit#, #zero#) &lt;= #postCdThruVal#
                        -->
                        <!-- 2018/08/07 QC#27464 Mod Start -->
                        AND PTY.POST_CD &lt;= SUBSTR(#postCdThruVal#,1,#postCd_FiveDigit#)||#hyphen#||SUBSTR(#postCdThruVal#,#postCd_FiveDigit# + 1)
                        <!-- 2018/08/07 QC#27464 Mod End -->
                      </isNotNull>

                      <isNotNull property="cMsg.locNum_H">
                        AND ACCT.LOC_NUM          LIKE  #cMsg.locNum_H#
                      </isNotNull>
                      <isNotNull property="cMsg.lineBizTpCd_H">
                        AND ACCT.LINE_BIZ_TP_CD      =  #cMsg.lineBizTpCd_H#
                      </isNotNull>

                        AND ACCT.GLBL_CMPY_CD        =   PTY.GLBL_CMPY_CD
                        AND ACCT.LOC_NUM             =   PTY.LOC_NUM
                        AND PTY.RGTN_STS_CD          =   #rgtnSts_Ready4Order#

                     <isNotNull property="cMsg.xxCratDt_HF">
                        AND SUBSTR(PTY.EZINTIME,1,8) &gt;=  #cMsg.xxCratDt_HF#
                     </isNotNull>
                     <isNotNull property="cMsg.xxCratDt_HT">
                        AND SUBSTR(PTY.EZINTIME,1,8) &lt;=  #cMsg.xxCratDt_HT#
                     </isNotNull>

                        AND ACCT.GLBL_CMPY_CD        =  UNIT.GLBL_CMPY_CD
                        AND ACCT.ORG_CD              =  UNIT.ORG_CD

                        AND UNIT.GLBL_CMPY_CD        =  STRU.GLBL_CMPY_CD
                        AND UNIT.ORG_STRU_TP_CD      =  STRU.ORG_STRU_TP_CD
                        AND STRU.TRTY_STRU_FLG       =  #flgOnY#

                        AND UNIT.GLBL_CMPY_CD        =  GRP.GLBL_CMPY_CD
                        AND UNIT.TRTY_GRP_TP_CD      =  GRP.TRTY_GRP_TP_CD

                        AND UNIT.GLBL_CMPY_CD        =  RESRC.GLBL_CMPY_CD
                        AND UNIT.ORG_CD              =  RESRC.ORG_CD
                        AND RESRC.EFF_FROM_DT    &lt;=  #slsDt#
                        AND NVL(RESRC.EFF_THRU_DT, #maxDt#) &gt;=  #slsDt#
                        AND RESRC.GNRN_TP_CD         =  #gnrnTp_Current#

                        AND RESRC.GLBL_CMPY_CD       =  PSN.GLBL_CMPY_CD
                        AND RESRC.PSN_CD             =  PSN.PSN_CD
                        AND PSN.EFF_FROM_DT      &lt;=  #slsDt#
                        AND NVL(PSN.EFF_THRU_DT, #maxDt#) &gt;=  #slsDt#

                        AND PSN.GLBL_CMPY_CD         =  ASG.GLBL_CMPY_CD
                        AND PSN.PSN_CD               =  ASG.PSN_CD
                        AND ASG.EFF_FROM_DT      &lt;=  #slsDt#
                        AND NVL(ASG.EFF_THRU_DT, #maxDt#) &gt;=  #slsDt#
                        AND ASG.GNRN_TP_CD           =  #gnrnTp_Current#
                        AND ASG.GLBL_CMPY_CD         =  TOC.GLBL_CMPY_CD
                        AND ASG.TOC_CD               =  TOC.TOC_CD

                        AND TOC.GLBL_CMPY_CD         =  ROLE.GLBL_CMPY_CD
                        AND TOC.ORG_FUNC_ROLE_TP_CD  =  ROLE.ORG_FUNC_ROLE_TP_CD
                        AND ROLE.ACTV_FLG            =  #flgOnY#
                        AND ROLE.SLS_REP_FLG         =  #flgOnY#

                        AND ACCT.EZCANCELFLAG        =  '0'
                        AND UNIT.EZCANCELFLAG        =  '0'
                        AND STRU.EZCANCELFLAG        =  '0'
                        AND GRP.EZCANCELFLAG         =  '0'
                        AND RESRC.EZCANCELFLAG       =  '0'
                        AND PSN.EZCANCELFLAG         =  '0'
                        AND ASG.EZCANCELFLAG         =  '0'
                        AND TOC.EZCANCELFLAG         =  '0'
                        AND ROLE.EZCANCELFLAG        =  '0'
                        AND PTY.EZCANCELFLAG         =  '0'
                  <isNotNull property="orgSrchPrmExstFlg">
                    AND EXISTS (
                       SELECT 1 
                         FROM 
                      <isEqual property="dsAcctTp" compareValue="10">
                            ACCT_TRTY_ROLE_ASG  ATRA
                      </isEqual>
                      <isNotEqual property="dsAcctTp" compareValue="10">
                            PROS_TRTY_ROLE_ASG  ATRA
                      </isNotEqual>
                        WHERE 
                              ATRA.EZCANCELFLAG = '0'
                          AND ATRA.GLBL_CMPY_CD = ACCT.GLBL_CMPY_CD
                          AND ATRA.LOC_NUM = ACCT.LOC_NUM
                        <isNotNull property="cMsg.bizAreaOrgCd_H">
                          AND EXISTS (
                            SELECT 1
                              FROM DS_ORG_UNIT UNIT2
                             WHERE 
                                   UNIT2.EZCANCELFLAG =  '0'
                               AND ATRA.GLBL_CMPY_CD  =  UNIT2.GLBL_CMPY_CD
                               AND ATRA.ORG_CD        =  UNIT2.ORG_CD
                               AND UNIT2.FIRST_ORG_CD =  #cMsg.bizAreaOrgCd_H#
                          )
                        </isNotNull>
                        <isNotNull property="cMsg.orgNm_H1">
                          AND ATRA.ORG_NM LIKE #cMsg.orgNm_H1#
                        </isNotNull>
                        <isNotNull property="cMsg.trtyGrpTpCd_H">
                          AND ATRA.TRTY_GRP_TP_CD        LIKE  #cMsg.trtyGrpTpCd_H#
                        </isNotNull>
                        <isNotNull property="cMsg.fullPsnNm_H">
                          AND EXISTS (
                            SELECT 1 
                              FROM S21_PSN PSN2
                             WHERE 
                                   PSN2.EZCANCELFLAG = '0'
                               AND PSN2.GLBL_CMPY_CD = ATRA.GLBL_CMPY_CD
                               AND PSN2.PSN_CD = ATRA.PSN_CD
                               AND PSN2.PSN_FIRST_NM ||' '|| PSN2.PSN_LAST_NM LIKE #cMsg.fullPsnNm_H#
                          )
                        </isNotNull>
                        <isNotNull property="cMsg.psnCd_H">
                          AND ATRA.PSN_CD LIKE #cMsg.psnCd_H#
                        </isNotNull>
                        <isNotNull property="orgNm">
                          AND EXISTS (
                            SELECT 1
                              FROM S21_ORG ORG2
                             WHERE 
                                   ORG2.EZCANCELFLAG = '0'
                               AND ATRA.GLBL_CMPY_CD         =  ORG2.GLBL_CMPY_CD
                               AND ATRA.TOC_CD               =  ORG2.TOC_CD
                               AND ORG2.RGTN_STS_CD           =  #rgtnSts_Ready4Order#
                               AND (ORG2.FRTH_ORG_NM      LIKE  #orgNm#
                                    OR ORG2.FIFTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.SIXTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.SVNTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.EIGHTH_ORG_NM LIKE  #orgNm#
                                    OR ORG2.NINTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.TENTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.ELVTH_ORG_NM  LIKE  #orgNm#
                                   )
                          )
                        </isNotNull>
                    )
                  </isNotNull>
                )
        , SPECIALIST AS
                (
                        SELECT
                              DISTINCT ACCT.ORG_CD
                           ,  ACCT.LINE_BIZ_ROLE_TP_CD
                           ,  ACCT.ORG_NM
                           ,  GRP.TRTY_GRP_TP_DESC_TXT
                           ,  ACCT.DS_ACCT_NUM
                           ,  ACCT.LOC_NUM
                           ,  SUBSTR(RTRIM(LISTAGG(ACCT.PSN_CD||',') WITHIN GROUP (ORDER BY ACCT.PSN_CD), ','), 0, 70) AS PSN_CD
                           ,  SUBSTR(RTRIM(LISTAGG(PSN.PSN_FIRST_NM || '' || PSN.PSN_LAST_NM ||',') WITHIN GROUP (ORDER BY ACCT.PSN_CD), ','), 0, 400) AS PSN_NM
                           ,  SUBSTR(RTRIM(LISTAGG(PSN.PSN_NUM||',') WITHIN GROUP (ORDER BY ACCT.PSN_CD), ','), 0, 70) AS PSN_NUM
                        FROM 
                        <isEqual property="dsAcctTp" compareValue="10">
                              ACCT_TRTY_ROLE_ASG  ACCT
                        </isEqual>
                        <isNotEqual property="dsAcctTp" compareValue="10">
                              PROS_TRTY_ROLE_ASG  ACCT
                        </isNotEqual>
                           ,  DS_ORG_UNIT        UNIT
                           ,  TRTY_GRP_TP        GRP
                           ,  S21_PSN            PSN
                        <isEqual property="dsAcctTp" compareValue="10">
                           , PTY_LOC_WRK         PTY
                        </isEqual>
                        <isNotEqual property="dsAcctTp" compareValue="10">
                           , PROS_PTY_LOC_WRK    PTY
                        </isNotEqual>
                        WHERE
                             ACCT.GLBL_CMPY_CD = #glblCmpyCd#
                         <iterate property="lineBizRoleList" var="lineBizRoleList[]" open="AND ACCT.LINE_BIZ_ROLE_TP_CD IN (" close=")" conjunction=",">
                             #lineBizRoleList[]#
                         </iterate>
                        AND ACCT.NON_SLS_REP_FLG = #flgOnY#

                      <isNotNull property="cMsg.dsAcctNum_H">
                        AND ACCT.DS_ACCT_NUM         LIKE  #cMsg.dsAcctNum_H#
                      </isNotNull>
                      <isNotNull property="cMsg.dsAcctNm_H">
                        AND ACCT.DS_ACCT_NM          LIKE  #cMsg.dsAcctNm_H#
                     </isNotNull>
                        AND ACCT.DS_ACCT_TP_CD          =  #dsAcctTp#

                      <isNotNull property="cMsg.xxLineCatgSrchTxt_H">
                        AND ACCT.FIRST_LINE_ADDR ||' '||
                            ACCT.SCD_LINE_ADDR   ||' '||
                            ACCT.THIRD_LINE_ADDR ||' '||
                            ACCT.FRTH_LINE_ADDR      LIKE  #cMsg.xxLineCatgSrchTxt_H#
                      </isNotNull>
                      <isNotNull property="cMsg.ctyAddr_H">
                        AND ACCT.CTY_ADDR            LIKE  #cMsg.ctyAddr_H#
                      </isNotNull>
                      <isNotNull property="cMsg.stCd_H">
                        AND ACCT.ST_CD               LIKE  #cMsg.stCd_H#
                      </isNotNull>

                      <isNotNull property="cMsg.postCd_HF">
                        <!-- 2018/08/07 QC#27464 Del
                        AND RPAD(REPLACE(PTY.POST_CD, #hyphen#, ''), #postCd_NineDigit#, #zero#) &gt;= #postCdFromVal#
                        -->
                        <!-- 2018/08/07 QC#27464 Add Start -->
                        AND PTY.POST_CD &gt;= (CASE WHEN SUBSTR(#postCdFromVal#,#postCd_FiveDigit# + 1,#postCd_NineDigit#)=RPAD('0',#postCd_NineDigit# - #postCd_FiveDigit#,#zero#)
                                             THEN SUBSTR(#postCdFromVal#,1,#postCd_FiveDigit#)
                                             ELSE SUBSTR(#postCdFromVal#,1,#postCd_FiveDigit#)||#hyphen#||SUBSTR(#postCdFromVal#,#postCd_FiveDigit# + 1)
                                             END)
                        <!-- 2018/08/07 QC#27464 Add End -->
                      </isNotNull>
                      <isNotNull property="cMsg.postCd_HT">
                        <!-- 2018/08/07 QC#27464 Del
                        AND RPAD(REPLACE(PTY.POST_CD, #hyphen#, ''), #postCd_NineDigit#, #zero#) &lt;= #postCdThruVal#
                        -->
                        <!-- 2018/08/07 QC#27464 Add Start -->
                        AND PTY.POST_CD &lt;= SUBSTR(#postCdThruVal#,1,#postCd_FiveDigit#)||#hyphen#||SUBSTR(#postCdThruVal#,#postCd_FiveDigit# + 1)
                        <!-- 2018/08/07 QC#27464 Add End -->
                      </isNotNull>

                      <isNotNull property="cMsg.locNum_H">
                        AND  ACCT.LOC_NUM     LIKE #cMsg.locNum_H#
                      </isNotNull>
                      <isNotNull property="cMsg.lineBizTpCd_H">
                        AND  ACCT.LINE_BIZ_TP_CD = #cMsg.lineBizTpCd_H#
                      </isNotNull>

                        AND  ACCT.GLBL_CMPY_CD   = PTY.GLBL_CMPY_CD
                        AND  ACCT.LOC_NUM        = PTY.LOC_NUM
                        AND  PTY.RGTN_STS_CD     = #rgtnSts_Ready4Order#

                     <isNotNull property="cMsg.xxCratDt_HF">
                        AND  SUBSTR(PTY.EZINTIME,1,8) &gt;=  #cMsg.xxCratDt_HF#
                     </isNotNull>
                     <isNotNull property="cMsg.xxCratDt_HT">
                        AND  SUBSTR(PTY.EZINTIME,1,8) &lt;=  #cMsg.xxCratDt_HT#
                     </isNotNull>

                        AND  ACCT.GLBL_CMPY_CD   = PSN.GLBL_CMPY_CD
                        AND  ACCT.PSN_CD         = PSN.PSN_CD
                        AND  PSN.EFF_FROM_DT &lt;= #slsDt#
                        AND  NVL(PSN.EFF_THRU_DT, #maxDt#) &gt;=  #slsDt#

                        AND  ACCT.GLBL_CMPY_CD   = UNIT.GLBL_CMPY_CD
                        AND  ACCT.ORG_CD         = UNIT.ORG_CD

                        AND  UNIT.ORG_STRU_TP_CD = #orgStruTp_TS#
                        AND  UNIT.GNRN_TP_CD     = #gnrnTp_Current#

                        AND  UNIT.GLBL_CMPY_CD   = GRP.GLBL_CMPY_CD
                        AND  UNIT.TRTY_GRP_TP_CD = GRP.TRTY_GRP_TP_CD

                        AND  ACCT.EZCANCELFLAG   = '0'
                        AND  UNIT.EZCANCELFLAG   = '0'
                        AND  GRP.EZCANCELFLAG    = '0'
                        AND  PSN.EZCANCELFLAG    = '0'
                        AND  PTY.EZCANCELFLAG    = '0'
                  <isNotNull property="orgSrchPrmExstFlg">
                    AND EXISTS (
                       SELECT 1 
                         FROM 
                      <isEqual property="dsAcctTp" compareValue="10">
                            ACCT_TRTY_ROLE_ASG  ATRA
                      </isEqual>
                      <isNotEqual property="dsAcctTp" compareValue="10">
                            PROS_TRTY_ROLE_ASG  ATRA
                      </isNotEqual>
                        WHERE 
                              ATRA.EZCANCELFLAG = '0'
                          AND ATRA.GLBL_CMPY_CD = ACCT.GLBL_CMPY_CD
                          AND ATRA.LOC_NUM = ACCT.LOC_NUM
                        <isNotNull property="cMsg.bizAreaOrgCd_H">
                          AND EXISTS (
                            SELECT 1
                              FROM DS_ORG_UNIT UNIT2
                             WHERE 
                                   UNIT2.EZCANCELFLAG =  '0'
                               AND ATRA.GLBL_CMPY_CD  =  UNIT2.GLBL_CMPY_CD
                               AND ATRA.ORG_CD        =  UNIT2.ORG_CD
                               AND UNIT2.FIRST_ORG_CD =  #cMsg.bizAreaOrgCd_H#
                          )
                        </isNotNull>
                        <isNotNull property="cMsg.orgNm_H1">
                          AND ATRA.ORG_NM LIKE #cMsg.orgNm_H1#
                        </isNotNull>
                        <isNotNull property="cMsg.trtyGrpTpCd_H">
                          AND ATRA.TRTY_GRP_TP_CD        LIKE  #cMsg.trtyGrpTpCd_H#
                        </isNotNull>
                        <isNotNull property="cMsg.fullPsnNm_H">
                          AND EXISTS (
                            SELECT 1 
                              FROM S21_PSN PSN2
                             WHERE 
                                   PSN2.EZCANCELFLAG = '0'
                               AND PSN2.GLBL_CMPY_CD = ATRA.GLBL_CMPY_CD
                               AND PSN2.PSN_CD = ATRA.PSN_CD
                               AND PSN2.PSN_FIRST_NM ||' '|| PSN2.PSN_LAST_NM LIKE #cMsg.fullPsnNm_H#
                          )
                        </isNotNull>
                        <isNotNull property="cMsg.psnCd_H">
                          AND ATRA.PSN_CD LIKE #cMsg.psnCd_H#
                        </isNotNull>
                        <isNotNull property="orgNm">
                          AND EXISTS (
                            SELECT 1
                              FROM S21_ORG ORG2
                             WHERE 
                                   ORG2.EZCANCELFLAG = '0'
                               AND ATRA.GLBL_CMPY_CD         =  ORG2.GLBL_CMPY_CD
                               AND ATRA.TOC_CD               =  ORG2.TOC_CD
                               AND ORG2.RGTN_STS_CD           =  #rgtnSts_Ready4Order#
                               AND (ORG2.FRTH_ORG_NM      LIKE  #orgNm#
                                    OR ORG2.FIFTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.SIXTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.SVNTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.EIGHTH_ORG_NM LIKE  #orgNm#
                                    OR ORG2.NINTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.TENTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG2.ELVTH_ORG_NM  LIKE  #orgNm#
                                   )
                          )
                        </isNotNull>
                    )
                  </isNotNull>
                        GROUP BY ACCT.LINE_BIZ_ROLE_TP_CD, ACCT.ORG_CD, ACCT.ORG_NM, ACCT.DS_ACCT_NUM, ACCT.LOC_NUM, GRP.TRTY_GRP_TP_DESC_TXT
                )

                SELECT
                  <!-- QC#27464 Del Start
                    RESRC.LOC_NUM
                  , RESRC.DS_ACCT_NUM
                  , RESRC.DS_ACCT_TP_CD
                  , TP.DS_ACCT_TP_DESC_TXT
                  , RESRC.DS_ACCT_NM
                  , PTY.FIRST_LINE_ADDR ||' '|| PTY.SCD_LINE_ADDR ||' '||
                    PTY.THIRD_LINE_ADDR ||' '|| PTY.FRTH_LINE_ADDR  AS  ADDRESS
                  , PTY.FIRST_LINE_ADDR
                  , PTY.SCD_LINE_ADDR
                  , PTY.THIRD_LINE_ADDR
                  , PTY.FRTH_LINE_ADDR
                  , PTY.CTY_ADDR
                  , ST.ST_NM
                  , ST.ST_CD
                  , PTY.POST_CD
                  , SUBSTR(PTY.EZINTIME,1,8)  AS  EZINTIME
                  , PTY.DS_CUST_SIC_CD
                  , CLS.DS_ACCT_CLS_DESC_TXT
                  , RESRC.MAN_ENTRY_FLG
                  -->
                  <!-- QC#27464 Add Start -->
                    RESRC_WRK.LOC_NUM
                  , RESRC_WRK.DS_ACCT_NUM
                  , RESRC_WRK.DS_ACCT_TP_CD
                  , RESRC_WRK.DS_ACCT_TP_DESC_TXT
                  , RESRC_WRK.DS_ACCT_NM
                  , RESRC_WRK.FIRST_LINE_ADDR ||' '|| RESRC_WRK.SCD_LINE_ADDR ||' '||
                    RESRC_WRK.THIRD_LINE_ADDR ||' '|| RESRC_WRK.FRTH_LINE_ADDR  AS  ADDRESS
                  , RESRC_WRK.FIRST_LINE_ADDR
                  , RESRC_WRK.SCD_LINE_ADDR
                  , RESRC_WRK.THIRD_LINE_ADDR
                  , RESRC_WRK.FRTH_LINE_ADDR
                  , RESRC_WRK.CTY_ADDR
                  , RESRC_WRK.ST_NM
                  , RESRC_WRK.ST_CD
                  , RESRC_WRK.POST_CD
                  , SUBSTR(RESRC_WRK.EZINTIME,1,8)  AS  EZINTIME
                  , RESRC_WRK.DS_CUST_SIC_CD
                  , RESRC_WRK.DS_ACCT_CLS_DESC_TXT
                  , RESRC_WRK.MAN_ENTRY_FLG
                  <!-- QC#27464 Add End -->
                  <!-- QC#27464 Add Start -->
                  , AG_WRK.VAL1  AS  FIRST_DS_ACCT_GRP_TP_CD
                  , AG_WRK.VAL2  AS  SCD_DS_ACCT_GRP_TP_CD
                  , AG_WRK.VAL3  AS  THIRD_DS_ACCT_GRP_TP_CD
                  , AG_WRK.VAL4  AS  FRTH_DS_ACCT_GRP_TP_CD
                  , AG_WRK.VAL5  AS  FIFTH_DS_ACCT_GRP_TP_CD
                  <!-- QC#27464 Add End -->
                  <!-- 2018/08/07 QC#27464 Del Start
                  , ( SELECT
                          DS_ACCT_GRP_NM
                      FROM (
                          SELECT 
                              ROW_NUMBER() OVER (PARTITION BY ASG.DS_ACCT_NUM ORDER BY ASG.DS_ACCT_GRP_ASG_PK) AS ROWNUMBER
                            , GRP.DS_ACCT_GRP_NM
                          FROM
                               DS_ACCT_GRP_ASG ASG
                            ,  DS_ACCT_GRP     GRP
                           WHERE
                                ASG.GLBL_CMPY_CD    =   #glblCmpyCd#
                           AND  ASG.DS_ACCT_NUM     =   RESRC.DS_ACCT_NUM
                           AND  ASG.EFF_FROM_DT &lt;=   #slsDt#
                           AND  NVL(ASG.EFF_THRU_DT, #maxDt#) &gt;=   #slsDt#
                           AND  ASG.GLBL_CMPY_CD    =   GRP.GLBL_CMPY_CD
                           AND  ASG.DS_ACCT_GRP_CD  =   GRP.DS_ACCT_GRP_CD
                           AND  ASG.EZCANCELFLAG    =   '0'
                           AND  GRP.EZCANCELFLAG    =   '0'
                           ) AG
                        WHERE
                           AG.ROWNUMBER      =  #rowNum_1#
                    )  AS  FIRST_DS_ACCT_GRP_TP_CD
                  , ( SELECT
                          DS_ACCT_GRP_NM
                      FROM (
                          SELECT 
                              ROW_NUMBER() OVER (PARTITION BY ASG.DS_ACCT_NUM ORDER BY ASG.DS_ACCT_GRP_ASG_PK) AS ROWNUMBER
                            , GRP.DS_ACCT_GRP_NM
                          FROM
                               DS_ACCT_GRP_ASG ASG
                            ,  DS_ACCT_GRP     GRP
                           WHERE
                                ASG.GLBL_CMPY_CD    =   #glblCmpyCd#
                           AND  ASG.DS_ACCT_NUM     =   RESRC.DS_ACCT_NUM
                           AND  ASG.EFF_FROM_DT &lt;=   #slsDt#
                           AND  NVL(ASG.EFF_THRU_DT, #maxDt#) &gt;=   #slsDt#
                           AND  ASG.GLBL_CMPY_CD    =   GRP.GLBL_CMPY_CD
                           AND  ASG.DS_ACCT_GRP_CD  =   GRP.DS_ACCT_GRP_CD
                           AND  ASG.EZCANCELFLAG    =   '0'
                           AND  GRP.EZCANCELFLAG    =   '0'
                           ) AG
                        WHERE
                           AG.ROWNUMBER      =  #rowNum_2#
                    )  AS  SCD_DS_ACCT_GRP_TP_CD
                  , ( SELECT
                          DS_ACCT_GRP_NM
                      FROM (
                          SELECT 
                              ROW_NUMBER() OVER (PARTITION BY ASG.DS_ACCT_NUM ORDER BY ASG.DS_ACCT_GRP_ASG_PK) AS ROWNUMBER
                            , GRP.DS_ACCT_GRP_NM
                          FROM
                               DS_ACCT_GRP_ASG ASG
                            ,  DS_ACCT_GRP     GRP
                           WHERE
                                ASG.GLBL_CMPY_CD    =   #glblCmpyCd#
                           AND  ASG.DS_ACCT_NUM     =   RESRC.DS_ACCT_NUM
                           AND  ASG.EFF_FROM_DT &lt;=   #slsDt#
                           AND  NVL(ASG.EFF_THRU_DT, #maxDt#) &gt;=   #slsDt#
                           AND  ASG.GLBL_CMPY_CD    =   GRP.GLBL_CMPY_CD
                           AND  ASG.DS_ACCT_GRP_CD  =   GRP.DS_ACCT_GRP_CD
                           AND  ASG.EZCANCELFLAG    =   '0'
                           AND  GRP.EZCANCELFLAG    =   '0'
                           ) AG
                        WHERE
                           AG.ROWNUMBER      =  #rowNum_3#
                    )  AS  THIRD_DS_ACCT_GRP_TP_CD
                  , ( SELECT
                          DS_ACCT_GRP_NM
                      FROM (
                          SELECT 
                              ROW_NUMBER() OVER (PARTITION BY ASG.DS_ACCT_NUM ORDER BY ASG.DS_ACCT_GRP_ASG_PK) AS ROWNUMBER
                            , GRP.DS_ACCT_GRP_NM
                          FROM
                               DS_ACCT_GRP_ASG ASG
                            ,  DS_ACCT_GRP     GRP
                           WHERE
                                ASG.GLBL_CMPY_CD    =   #glblCmpyCd#
                           AND  ASG.DS_ACCT_NUM     =   RESRC.DS_ACCT_NUM
                           AND  ASG.EFF_FROM_DT &lt;=   #slsDt#
                           AND  NVL(ASG.EFF_THRU_DT, #maxDt#) &gt;=   #slsDt#
                           AND  ASG.GLBL_CMPY_CD    =   GRP.GLBL_CMPY_CD
                           AND  ASG.DS_ACCT_GRP_CD  =   GRP.DS_ACCT_GRP_CD
                           AND  ASG.EZCANCELFLAG    =   '0'
                           AND  GRP.EZCANCELFLAG    =   '0'
                           ) AG
                        WHERE
                           AG.ROWNUMBER      =  #rowNum_4#
                    )  AS  FRTH_DS_ACCT_GRP_TP_CD
                  , ( SELECT
                          DS_ACCT_GRP_NM
                      FROM (
                          SELECT 
                              ROW_NUMBER() OVER (PARTITION BY ASG.DS_ACCT_NUM ORDER BY ASG.DS_ACCT_GRP_ASG_PK) AS ROWNUMBER
                            , GRP.DS_ACCT_GRP_NM
                          FROM
                               DS_ACCT_GRP_ASG ASG
                            ,  DS_ACCT_GRP     GRP
                           WHERE
                                ASG.GLBL_CMPY_CD    =   #glblCmpyCd#
                           AND  ASG.DS_ACCT_NUM     =   RESRC.DS_ACCT_NUM
                           AND  ASG.EFF_FROM_DT &lt;=   #slsDt#
                           AND  NVL(ASG.EFF_THRU_DT, #maxDt#) &gt;=   #slsDt#
                           AND  ASG.GLBL_CMPY_CD    =   GRP.GLBL_CMPY_CD
                           AND  ASG.DS_ACCT_GRP_CD  =   GRP.DS_ACCT_GRP_CD
                           AND  ASG.EZCANCELFLAG    =   '0'
                           AND  GRP.EZCANCELFLAG    =   '0'
                           ) AG
                        WHERE
                           AG.ROWNUMBER      =  #rowNum_5#
                    )  AS  FIFTH_DS_ACCT_GRP_TP_CD
                  -->
              <isNotNull property="orgNm">
                  <isEqual property="dsAcctTp" compareValue="10">
                    <!-- 2018/08/07 QC#27464 Del
                    , (SELECT DISTINCT(TW.S21_ORG_NM) FROM TRTY_WRK TW, ACCT_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_NM
                    , (SELECT DISTINCT(TW.S21_ORG_CD) FROM TRTY_WRK TW, ACCT_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_CD
                    -->
                    <!-- 2018/08/07 QC#27464 Add Start -->
                    , (SELECT DISTINCT(TW.S21_ORG_NM) FROM TRTY_WRK TW, ACCT_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC_WRK.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_NM
                    , (SELECT DISTINCT(TW.S21_ORG_CD) FROM TRTY_WRK TW, ACCT_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC_WRK.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_CD
                    <!-- 2018/08/07 QC#27464 Add End -->
                  </isEqual>
                  <isNotEqual property="dsAcctTp" compareValue="10">
                    <!-- 2018/08/07 QC#27464 Del
                    , (SELECT DISTINCT(TW.S21_ORG_NM) FROM TRTY_WRK TW, PROS_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_NM
                    , (SELECT DISTINCT(TW.S21_ORG_CD) FROM TRTY_WRK TW, PROS_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_CD
                    -->
                    <!-- 2018/08/07 QC#27464 Add Start -->
                    , (SELECT DISTINCT(TW.S21_ORG_NM) FROM TRTY_WRK TW, PROS_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC_WRK.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_NM
                    , (SELECT DISTINCT(TW.S21_ORG_CD) FROM TRTY_WRK TW, PROS_TRTY_ROLE_ASG ACCT WHERE TW.TOC_CD = ACCT.TOC_CD AND ACCT.GLBL_CMPY_CD = #glblCmpyCd# AND ACCT.EZCANCELFLAG = '0' AND ACCT.DS_ACCT_NUM = RESRC_WRK.DS_ACCT_NUM AND TW.S21_ORG_NM IS NOT NULL AND ROWNUM = 1)  AS  ORG_CD
                    <!-- 2018/08/07 QC#27464 Add End -->
                  </isNotEqual>
             </isNotNull>
             <isNull property="orgNm">
                    , '' AS ORG_CD
                    , '' AS ORG_NM
             </isNull>
             <isNull property="lineBizRoleTp_01">
                  , TW_01.ORG_CD               ORG_CD_01
                  , TW_01.ORG_NM               ORG_NM_01
                  , TW_01.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_01
                  , TW_01.PSN_NUM              PSN_NUM_01
                  , TW_01.PSN_NM               PSN_NM_01
                  , TW_01.PSN_CD               PSN_CD_01
             </isNull>
             <isNotNull property="lineBizRoleTp_01">
                  , SP_01.ORG_CD               ORG_CD_01
                  , SP_01.ORG_NM               ORG_NM_01
                  , SP_01.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_01
                  , SP_01.PSN_NUM              PSN_NUM_01
                  , SP_01.PSN_NM               PSN_NM_01
                  , SP_01.PSN_CD               PSN_CD_01
             </isNotNull>
             <isNull property="lineBizRoleTp_02">
                  , TW_02.ORG_CD               ORG_CD_02
                  , TW_02.ORG_NM               ORG_NM_02
                  , TW_02.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_02
                  , TW_02.PSN_NUM              PSN_NUM_02
                  , TW_02.PSN_NM               PSN_NM_02
                  , TW_02.PSN_CD               PSN_CD_02
             </isNull>
             <isNotNull property="lineBizRoleTp_02">
                  , SP_02.ORG_CD               ORG_CD_02
                  , SP_02.ORG_NM               ORG_NM_02
                  , SP_02.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_02
                  , SP_02.PSN_NUM              PSN_NUM_02
                  , SP_02.PSN_NM               PSN_NM_02
                  , SP_02.PSN_CD               PSN_CD_02
             </isNotNull>
             <isNull property="lineBizRoleTp_03">
                  , TW_03.ORG_CD               ORG_CD_03
                  , TW_03.ORG_NM               ORG_NM_03
                  , TW_03.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_03
                  , TW_03.PSN_NUM              PSN_NUM_03
                  , TW_03.PSN_NM               PSN_NM_03
                  , TW_03.PSN_CD               PSN_CD_03
             </isNull>
             <isNotNull property="lineBizRoleTp_03">
                  , SP_03.ORG_CD               ORG_CD_03
                  , SP_03.ORG_NM               ORG_NM_03
                  , SP_03.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_03
                  , SP_03.PSN_NUM              PSN_NUM_03
                  , SP_03.PSN_NM               PSN_NM_03
                  , SP_03.PSN_CD               PSN_CD_03
             </isNotNull>
             <isNull property="lineBizRoleTp_04">
                  , TW_04.ORG_CD               ORG_CD_04
                  , TW_04.ORG_NM               ORG_NM_04
                  , TW_04.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_04
                  , TW_04.PSN_NUM              PSN_NUM_04
                  , TW_04.PSN_NM               PSN_NM_04
                  , TW_04.PSN_CD               PSN_CD_04
             </isNull>
             <isNotNull property="lineBizRoleTp_04">
                  , SP_04.ORG_CD               ORG_CD_04
                  , SP_04.ORG_NM               ORG_NM_04
                  , SP_04.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_04
                  , SP_04.PSN_NUM              PSN_NUM_04
                  , SP_04.PSN_NM               PSN_NM_04
                  , SP_04.PSN_CD               PSN_CD_04
             </isNotNull>
             <isNull property="lineBizRoleTp_05">
                  , TW_05.ORG_CD               ORG_CD_05
                  , TW_05.ORG_NM               ORG_NM_05
                  , TW_05.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_05
                  , TW_05.PSN_NUM              PSN_NUM_05
                  , TW_05.PSN_NM               PSN_NM_05
                  , TW_05.PSN_CD               PSN_CD_05
             </isNull>
             <isNotNull property="lineBizRoleTp_05">
                  , SP_05.ORG_CD               ORG_CD_05
                  , SP_05.ORG_NM               ORG_NM_05
                  , SP_05.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_05
                  , SP_05.PSN_NUM              PSN_NUM_05
                  , SP_05.PSN_NM               PSN_NM_05
                  , SP_05.PSN_CD               PSN_CD_05
             </isNotNull>
             <isNull property="lineBizRoleTp_06">
                  , TW_06.ORG_CD               ORG_CD_06
                  , TW_06.ORG_NM               ORG_NM_06
                  , TW_06.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_06
                  , TW_06.PSN_NUM              PSN_NUM_06
                  , TW_06.PSN_NM               PSN_NM_06
                  , TW_06.PSN_CD               PSN_CD_06
             </isNull>
             <isNotNull property="lineBizRoleTp_06">
                  , SP_06.ORG_CD               ORG_CD_06
                  , SP_06.ORG_NM               ORG_NM_06
                  , SP_06.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_06
                  , SP_06.PSN_NUM              PSN_NUM_06
                  , SP_06.PSN_NM               PSN_NM_06
                  , SP_06.PSN_CD               PSN_CD_06
             </isNotNull>
             <isNull property="lineBizRoleTp_07">
                  , TW_07.ORG_CD               ORG_CD_07
                  , TW_07.ORG_NM               ORG_NM_07
                  , TW_07.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_07
                  , TW_07.PSN_NUM              PSN_NUM_07
                  , TW_07.PSN_NM               PSN_NM_07
                  , TW_07.PSN_CD               PSN_CD_07
             </isNull>
             <isNotNull property="lineBizRoleTp_07">
                  , SP_07.ORG_CD               ORG_CD_07
                  , SP_07.ORG_NM               ORG_NM_07
                  , SP_07.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_07
                  , SP_07.PSN_NUM              PSN_NUM_07
                  , SP_07.PSN_NM               PSN_NM_07
                  , SP_07.PSN_CD               PSN_CD_07
             </isNotNull>
             <isNull property="lineBizRoleTp_08">
                  , TW_08.ORG_CD               ORG_CD_08
                  , TW_08.ORG_NM               ORG_NM_08
                  , TW_08.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_08
                  , TW_08.PSN_NUM              PSN_NUM_08
                  , TW_08.PSN_NM               PSN_NM_08
                  , TW_08.PSN_CD               PSN_CD_08
             </isNull>
             <isNotNull property="lineBizRoleTp_08">
                  , SP_08.ORG_CD               ORG_CD_08
                  , SP_08.ORG_NM               ORG_NM_08
                  , SP_08.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_08
                  , SP_08.PSN_NUM              PSN_NUM_08
                  , SP_08.PSN_NM               PSN_NM_08
                  , SP_08.PSN_CD               PSN_CD_08
             </isNotNull>
             <isNull property="lineBizRoleTp_09">
                  , TW_09.ORG_CD               ORG_CD_09
                  , TW_09.ORG_NM               ORG_NM_09
                  , TW_09.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_09
                  , TW_09.PSN_NUM              PSN_NUM_09
                  , TW_09.PSN_NM               PSN_NM_09
                  , TW_09.PSN_CD               PSN_CD_09
             </isNull>
             <isNotNull property="lineBizRoleTp_09">
                  , SP_09.ORG_CD               ORG_CD_09
                  , SP_09.ORG_NM               ORG_NM_09
                  , SP_09.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_09
                  , SP_09.PSN_NUM              PSN_NUM_09
                  , SP_09.PSN_NM               PSN_NM_09
                  , SP_09.PSN_CD               PSN_CD_09
             </isNotNull>
             <isNull property="lineBizRoleTp_10">
                  , TW_10.ORG_CD               ORG_CD_10
                  , TW_10.ORG_NM               ORG_NM_10
                  , TW_10.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_10
                  , TW_10.PSN_NUM              PSN_NUM_10
                  , TW_10.PSN_NM               PSN_NM_10
                  , TW_10.PSN_CD               PSN_CD_10
             </isNull>
             <isNotNull property="lineBizRoleTp_10">
                  , SP_10.ORG_CD               ORG_CD_10
                  , SP_10.ORG_NM               ORG_NM_10
                  , SP_10.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_10
                  , SP_10.PSN_NUM              PSN_NUM_10
                  , SP_10.PSN_NM               PSN_NM_10
                  , SP_10.PSN_CD               PSN_CD_10
             </isNotNull>
             <isNull property="lineBizRoleTp_11">
                  , TW_11.ORG_CD               ORG_CD_11
                  , TW_11.ORG_NM               ORG_NM_11
                  , TW_11.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_11
                  , TW_11.PSN_NUM              PSN_NUM_11
                  , TW_11.PSN_NM               PSN_NM_11
                  , TW_11.PSN_CD               PSN_CD_11
             </isNull>
             <isNotNull property="lineBizRoleTp_11">
                  , SP_11.ORG_CD               ORG_CD_11
                  , SP_11.ORG_NM               ORG_NM_11
                  , SP_11.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_11
                  , SP_11.PSN_NUM              PSN_NUM_11
                  , SP_11.PSN_NM               PSN_NM_11
                  , SP_11.PSN_CD               PSN_CD_11
             </isNotNull>
             <isNull property="lineBizRoleTp_12">
                  , TW_12.ORG_CD               ORG_CD_12
                  , TW_12.ORG_NM               ORG_NM_12
                  , TW_12.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_12
                  , TW_12.PSN_NUM              PSN_NUM_12
                  , TW_12.PSN_NM               PSN_NM_12
                  , TW_12.PSN_CD               PSN_CD_12
             </isNull>
             <isNotNull property="lineBizRoleTp_12">
                  , SP_12.ORG_CD               ORG_CD_12
                  , SP_12.ORG_NM               ORG_NM_12
                  , SP_12.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_12
                  , SP_12.PSN_NUM              PSN_NUM_12
                  , SP_12.PSN_NM               PSN_NM_12
                  , SP_12.PSN_CD               PSN_CD_12
             </isNotNull>
             <isNull property="lineBizRoleTp_13">
                  , TW_13.ORG_CD               ORG_CD_13
                  , TW_13.ORG_NM               ORG_NM_13
                  , TW_13.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_13
                  , TW_13.PSN_NUM              PSN_NUM_13
                  , TW_13.PSN_NM               PSN_NM_13
                  , TW_13.PSN_CD               PSN_CD_13
             </isNull>
             <isNotNull property="lineBizRoleTp_13">
                  , SP_13.ORG_CD               ORG_CD_13
                  , SP_13.ORG_NM               ORG_NM_13
                  , SP_13.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_13
                  , SP_13.PSN_NUM              PSN_NUM_13
                  , SP_13.PSN_NM               PSN_NM_13
                  , SP_13.PSN_CD               PSN_CD_13
             </isNotNull>
             <isNull property="lineBizRoleTp_14">
                  , TW_14.ORG_CD               ORG_CD_14
                  , TW_14.ORG_NM               ORG_NM_14
                  , TW_14.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_14
                  , TW_14.PSN_NUM              PSN_NUM_14
                  , TW_14.PSN_NM               PSN_NM_14
                  , TW_14.PSN_CD               PSN_CD_14
            </isNull>
            <isNotNull property="lineBizRoleTp_14">
                  , SP_14.ORG_CD               ORG_CD_14
                  , SP_14.ORG_NM               ORG_NM_14
                  , SP_14.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_14
                  , SP_14.PSN_NUM              PSN_NUM_14
                  , SP_14.PSN_NM               PSN_NM_14
                  , SP_14.PSN_CD               PSN_CD_14
             </isNotNull>
             <isNull property="lineBizRoleTp_15">
                  , TW_15.ORG_CD               ORG_CD_15
                  , TW_15.ORG_NM               ORG_NM_15
                  , TW_15.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_15
                  , TW_15.PSN_NUM              PSN_NUM_15
                  , TW_15.PSN_NM               PSN_NM_15
                  , TW_15.PSN_CD               PSN_CD_15
            </isNull>
            <isNotNull property="lineBizRoleTp_15">
                  , SP_15.ORG_CD               ORG_CD_15
                  , SP_15.ORG_NM               ORG_NM_15
                  , SP_15.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_15
                  , SP_15.PSN_NUM              PSN_NUM_15
                  , SP_15.PSN_NM               PSN_NM_15
                  , SP_15.PSN_CD               PSN_CD_15
             </isNotNull>
             <isNull property="lineBizRoleTp_16">
                  , TW_16.ORG_CD               ORG_CD_16
                  , TW_16.ORG_NM               ORG_NM_16
                  , TW_16.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_16
                  , TW_16.PSN_NUM              PSN_NUM_16
                  , TW_16.PSN_NM               PSN_NM_16
                  , TW_16.PSN_CD               PSN_CD_16
            </isNull>
            <isNotNull property="lineBizRoleTp_16">
                  , SP_16.ORG_CD               ORG_CD_16
                  , SP_16.ORG_NM               ORG_NM_16
                  , SP_16.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_16
                  , SP_16.PSN_NUM              PSN_NUM_16
                  , SP_16.PSN_NM               PSN_NM_16
                  , SP_16.PSN_CD               PSN_CD_16
             </isNotNull>
             <isNull property="lineBizRoleTp_17">
                  , TW_17.ORG_CD               ORG_CD_17
                  , TW_17.ORG_NM               ORG_NM_17
                  , TW_17.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_17
                  , TW_17.PSN_NUM              PSN_NUM_17
                  , TW_17.PSN_NM               PSN_NM_17
                  , TW_17.PSN_CD               PSN_CD_17
            </isNull>
            <isNotNull property="lineBizRoleTp_17">
                  , SP_17.ORG_CD               ORG_CD_17
                  , SP_17.ORG_NM               ORG_NM_17
                  , SP_17.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_17
                  , SP_17.PSN_NUM              PSN_NUM_17
                  , SP_17.PSN_NM               PSN_NM_17
                  , SP_17.PSN_CD               PSN_CD_17
             </isNotNull>
             <isNull property="lineBizRoleTp_18">
                  , TW_18.ORG_CD               ORG_CD_18
                  , TW_18.ORG_NM               ORG_NM_18
                  , TW_18.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_18
                  , TW_18.PSN_NUM              PSN_NUM_18
                  , TW_18.PSN_NM               PSN_NM_18
                  , TW_18.PSN_CD               PSN_CD_18
            </isNull>
            <isNotNull property="lineBizRoleTp_18">
                  , SP_18.ORG_CD               ORG_CD_18
                  , SP_18.ORG_NM               ORG_NM_18
                  , SP_18.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_18
                  , SP_18.PSN_NUM              PSN_NUM_18
                  , SP_18.PSN_NM               PSN_NM_18
                  , SP_18.PSN_CD               PSN_CD_18
             </isNotNull>
             <isNull property="lineBizRoleTp_19">
                  , TW_19.ORG_CD               ORG_CD_19
                  , TW_19.ORG_NM               ORG_NM_19
                  , TW_19.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_19
                  , TW_19.PSN_NUM              PSN_NUM_19
                  , TW_19.PSN_NM               PSN_NM_19
                  , TW_19.PSN_CD               PSN_CD_19
            </isNull>
            <isNotNull property="lineBizRoleTp_19">
                  , SP_19.ORG_CD               ORG_CD_19
                  , SP_19.ORG_NM               ORG_NM_19
                  , SP_19.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_19
                  , SP_19.PSN_NUM              PSN_NUM_19
                  , SP_19.PSN_NM               PSN_NM_19
                  , SP_19.PSN_CD               PSN_CD_19
             </isNotNull>
             <isNull property="lineBizRoleTp_20">
                  , TW_20.ORG_CD               ORG_CD_20
                  , TW_20.ORG_NM               ORG_NM_20
                  , TW_20.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_20
                  , TW_20.PSN_NUM              PSN_NUM_20
                  , TW_20.PSN_NM               PSN_NM_20
                  , TW_20.PSN_CD               PSN_CD_20
            </isNull>
            <isNotNull property="lineBizRoleTp_20">
                  , SP_20.ORG_CD               ORG_CD_20
                  , SP_20.ORG_NM               ORG_NM_20
                  , SP_20.TRTY_GRP_TP_DESC_TXT TRTY_GRP_TP_DESC_TXT_20
                  , SP_20.PSN_NUM              PSN_NUM_20
                  , SP_20.PSN_NM               PSN_NM_20
                  , SP_20.PSN_CD               PSN_CD_20
             </isNotNull>

                FROM
              <!-- 2018/08/07 QC#27464 Del
              <isEqual property="dsAcctTp" compareValue="10">
                    ACCT_TRTY_RESRC_ASG   RESRC
                  , SELL_TO_CUST          CUST
                  , PTY_LOC_WRK           PTY
              </isEqual>
              <isNotEqual property="dsAcctTp" compareValue="10">
                    PROS_TRTY_RESRC_ASG   RESRC
                  , DS_ACCT_PROS          CUST
                  , PROS_PTY_LOC_WRK      PTY
              </isNotEqual>
                  , DS_ACCT_TP            TP
                  , DS_ACCT_CLS           CLS
                  , ST                    ST
              -->
              <!-- 2018/08/07 QC#27464 Add Start -->
                    (
                      SELECT RESRC.LOC_NUM
                           , RESRC.DS_ACCT_NUM
                           , RESRC.DS_ACCT_TP_CD
                           , TP.DS_ACCT_TP_DESC_TXT
                           , RESRC.DS_ACCT_NM
                           , PTY.FIRST_LINE_ADDR
                           , PTY.SCD_LINE_ADDR
                           , PTY.THIRD_LINE_ADDR
                           , PTY.FRTH_LINE_ADDR
                           , PTY.CTY_ADDR
                           , ST.ST_NM
                           , ST.ST_CD
                           , PTY.POST_CD
                           , PTY.EZINTIME
                           , PTY.DS_CUST_SIC_CD
                           , CLS.DS_ACCT_CLS_DESC_TXT
                           , RESRC.MAN_ENTRY_FLG
                           , RESRC.ACCT_TRTY_ORG_CD_01
                           , RESRC.ACCT_TRTY_ORG_CD_02
                           , RESRC.ACCT_TRTY_ORG_CD_03
                           , RESRC.ACCT_TRTY_ORG_CD_04
                           , RESRC.ACCT_TRTY_ORG_CD_05
                           , RESRC.ACCT_TRTY_ORG_CD_06
                           , RESRC.ACCT_TRTY_ORG_CD_07
                           , RESRC.ACCT_TRTY_ORG_CD_08
                           , RESRC.ACCT_TRTY_ORG_CD_09
                           , RESRC.ACCT_TRTY_ORG_CD_10
                           , RESRC.ACCT_TRTY_ORG_CD_11
                           , RESRC.ACCT_TRTY_ORG_CD_12
                           , RESRC.ACCT_TRTY_ORG_CD_13
                           , RESRC.ACCT_TRTY_ORG_CD_14
                           , RESRC.ACCT_TRTY_ORG_CD_15
                           , RESRC.ACCT_TRTY_ORG_CD_16
                           , RESRC.ACCT_TRTY_ORG_CD_17
                           , RESRC.ACCT_TRTY_ORG_CD_18
                           , RESRC.ACCT_TRTY_ORG_CD_19
                           , RESRC.ACCT_TRTY_ORG_CD_20
                  <isNull property="lineBizRoleTp_01">
                           , RESRC.ACCT_TRTY_PSN_CD_01
                           , RESRC.ACCT_TRTY_TOC_CD_01
                  </isNull>
                  <isNull property="lineBizRoleTp_02">
                           , RESRC.ACCT_TRTY_PSN_CD_02
                           , RESRC.ACCT_TRTY_TOC_CD_02
                  </isNull>
                  <isNull property="lineBizRoleTp_03">
                           , RESRC.ACCT_TRTY_PSN_CD_03
                           , RESRC.ACCT_TRTY_TOC_CD_03
                  </isNull>
                  <isNull property="lineBizRoleTp_04">
                           , RESRC.ACCT_TRTY_PSN_CD_04
                           , RESRC.ACCT_TRTY_TOC_CD_04
                  </isNull>
                  <isNull property="lineBizRoleTp_05">
                           , RESRC.ACCT_TRTY_PSN_CD_05
                           , RESRC.ACCT_TRTY_TOC_CD_05
                  </isNull>
                  <isNull property="lineBizRoleTp_06">
                           , RESRC.ACCT_TRTY_PSN_CD_06
                           , RESRC.ACCT_TRTY_TOC_CD_06
                  </isNull>
                  <isNull property="lineBizRoleTp_07">
                           , RESRC.ACCT_TRTY_PSN_CD_07
                           , RESRC.ACCT_TRTY_TOC_CD_07
                  </isNull>
                  <isNull property="lineBizRoleTp_08">
                           , RESRC.ACCT_TRTY_PSN_CD_08
                           , RESRC.ACCT_TRTY_TOC_CD_08
                  </isNull>
                  <isNull property="lineBizRoleTp_09">
                           , RESRC.ACCT_TRTY_PSN_CD_09
                           , RESRC.ACCT_TRTY_TOC_CD_09
                  </isNull>
                  <isNull property="lineBizRoleTp_10">
                           , RESRC.ACCT_TRTY_PSN_CD_10
                           , RESRC.ACCT_TRTY_TOC_CD_10
                  </isNull>
                  <isNull property="lineBizRoleTp_11">
                           , RESRC.ACCT_TRTY_PSN_CD_11
                           , RESRC.ACCT_TRTY_TOC_CD_11
                  </isNull>
                  <isNull property="lineBizRoleTp_12">
                           , RESRC.ACCT_TRTY_PSN_CD_12
                           , RESRC.ACCT_TRTY_TOC_CD_12
                  </isNull>
                  <isNull property="lineBizRoleTp_13">
                           , RESRC.ACCT_TRTY_PSN_CD_13
                           , RESRC.ACCT_TRTY_TOC_CD_13
                  </isNull>
                  <isNull property="lineBizRoleTp_14">
                           , RESRC.ACCT_TRTY_PSN_CD_14
                           , RESRC.ACCT_TRTY_TOC_CD_14
                  </isNull>
                  <isNull property="lineBizRoleTp_15">
                           , RESRC.ACCT_TRTY_PSN_CD_15
                           , RESRC.ACCT_TRTY_TOC_CD_15
                  </isNull>
                  <isNull property="lineBizRoleTp_16">
                           , RESRC.ACCT_TRTY_PSN_CD_16
                           , RESRC.ACCT_TRTY_TOC_CD_16
                  </isNull>
                  <isNull property="lineBizRoleTp_17">
                           , RESRC.ACCT_TRTY_PSN_CD_17
                           , RESRC.ACCT_TRTY_TOC_CD_17
                  </isNull>
                  <isNull property="lineBizRoleTp_18">
                           , RESRC.ACCT_TRTY_PSN_CD_18
                           , RESRC.ACCT_TRTY_TOC_CD_18
                  </isNull>
                  <isNull property="lineBizRoleTp_19">
                           , RESRC.ACCT_TRTY_PSN_CD_19
                           , RESRC.ACCT_TRTY_TOC_CD_19
                  </isNull>
                  <isNull property="lineBizRoleTp_20">
                           , RESRC.ACCT_TRTY_PSN_CD_20
                           , RESRC.ACCT_TRTY_TOC_CD_20
                  </isNull>
                        FROM
                  <isEqual property="dsAcctTp" compareValue="10">
                             ACCT_TRTY_RESRC_ASG   RESRC
                           , SELL_TO_CUST          CUST
                           , PTY_LOC_WRK           PTY
                  </isEqual>
                  <isNotEqual property="dsAcctTp" compareValue="10">
                             PROS_TRTY_RESRC_ASG   RESRC
                           , DS_ACCT_PROS          CUST
                           , PROS_PTY_LOC_WRK      PTY
                  </isNotEqual>
                           , DS_ACCT_TP            TP
                           , DS_ACCT_CLS           CLS
                           , ST                    ST
                       WHERE RESRC.GLBL_CMPY_CD           =  #glblCmpyCd#
                  <isNotNull property="cMsg.dsAcctNum_H">
                         AND RESRC.DS_ACCT_NUM         LIKE  #cMsg.dsAcctNum_H#
                  </isNotNull>
                  <isNotNull property="cMsg.dsAcctNm_H">
                         AND RESRC.DS_ACCT_NM          LIKE  #cMsg.dsAcctNm_H#
                  </isNotNull>
                         AND RESRC.GLBL_CMPY_CD           =  CUST.GLBL_CMPY_CD
                  <isEqual property="dsAcctTp" compareValue="10">
                         AND RESRC.DS_ACCT_NUM            =  CUST.SELL_TO_CUST_CD
                  </isEqual>
                  <isNotEqual property="dsAcctTp" compareValue="10">
                         AND RESRC.DS_ACCT_NUM            =  CUST.DS_ACCT_NUM
                  </isNotEqual>
                         AND CUST.DS_ACCT_ACTV_CUST_FLG   =  #flgOnY#

                         AND CUST.GLBL_CMPY_CD            =  TP.GLBL_CMPY_CD
                         AND CUST.DS_ACCT_TP_CD           =  TP.DS_ACCT_TP_CD
                         AND CUST.DS_ACCT_TP_CD           =  #dsAcctTp#

                         AND RESRC.GLBL_CMPY_CD           =  PTY.GLBL_CMPY_CD
                         AND RESRC.LOC_NUM                =  PTY.LOC_NUM
                         AND PTY.RGTN_STS_CD              =  #rgtnSts_Ready4Order#

                  <isNotNull property="cMsg.xxCratDt_HF">
                         AND SUBSTR(PTY.EZINTIME,1,8) &gt;=  #cMsg.xxCratDt_HF#
                  </isNotNull>
                  <isNotNull property="cMsg.xxCratDt_HT">
                         AND SUBSTR(PTY.EZINTIME,1,8) &lt;=  #cMsg.xxCratDt_HT#
                  </isNotNull>
                  <isNotNull property="cMsg.xxLineCatgSrchTxt_H">
                         AND PTY.FIRST_LINE_ADDR ||' '||
                             PTY.SCD_LINE_ADDR   ||' '||
                             PTY.THIRD_LINE_ADDR ||' '||
                             PTY.FRTH_LINE_ADDR        LIKE  #cMsg.xxLineCatgSrchTxt_H#
                  </isNotNull>
                  <isNotNull property="cMsg.ctyAddr_H">
                         AND PTY.CTY_ADDR              LIKE  #cMsg.ctyAddr_H#
                  </isNotNull>
                  <isNotNull property="cMsg.stCd_H">
                         AND PTY.ST_CD                 LIKE  #cMsg.stCd_H#
                  </isNotNull>

                  <isNotNull property="cMsg.postCd_HF">
                  <!-- 2018/08/07 QC#27464 Mod Start -->
                        AND PTY.POST_CD &gt;= (CASE WHEN SUBSTR(#postCdFromVal#,#postCd_FiveDigit# + 1,#postCd_NineDigit#)=RPAD('0',#postCd_NineDigit# - #postCd_FiveDigit#,#zero#)
                                             THEN SUBSTR(#postCdFromVal#,1,#postCd_FiveDigit#)
                                             ELSE SUBSTR(#postCdFromVal#,1,#postCd_FiveDigit#)||#hyphen#||SUBSTR(#postCdFromVal#,#postCd_FiveDigit# + 1)
                                             END)
                  <!-- 2018/08/07 QC#27464 Mod End -->
                  </isNotNull>
                  <isNotNull property="cMsg.postCd_HT">
                  <!-- 2018/08/07 QC#27464 Mod Start -->
                        AND PTY.POST_CD &lt;= SUBSTR(#postCdThruVal#,1,#postCd_FiveDigit#)||#hyphen#||SUBSTR(#postCdThruVal#,#postCd_FiveDigit# + 1)
                  <!-- 2018/08/07 QC#27464 Mod End -->
                  </isNotNull>

                  <isNotNull property="cMsg.locNum_H">
                         AND PTY.LOC_NUM               LIKE  #cMsg.locNum_H#
                  </isNotNull>
                  <isNotNull property="cMsg.lineBizTpCd_H">
                         AND PTY.LINE_BIZ_TP_CD           =  #cMsg.lineBizTpCd_H#
                  </isNotNull>

                         AND CUST.GLBL_CMPY_CD            =  CLS.GLBL_CMPY_CD
                         AND CUST.DS_ACCT_CLS_CD          =  CLS.DS_ACCT_CLS_CD

                         AND PTY.GLBL_CMPY_CD             =  ST.GLBL_CMPY_CD
                         AND PTY.ST_CD                    =  ST.ST_CD

                         AND RESRC.EZCANCELFLAG           =  '0'
                         AND CUST.EZCANCELFLAG            =  '0'
                         AND TP.EZCANCELFLAG              =  '0'
                         AND PTY.EZCANCELFLAG             =  '0'
                         AND CLS.EZCANCELFLAG             =  '0'
                         AND ST.EZCANCELFLAG              =  '0'

                  <isNotNull property="orgSrchPrmExstFlg">
                         AND EXISTS (
                            SELECT 1 
                              FROM 
                      <isEqual property="dsAcctTp" compareValue="10">
                                 ACCT_TRTY_ROLE_ASG  ATRA
                      </isEqual>
                      <isNotEqual property="dsAcctTp" compareValue="10">
                                 PROS_TRTY_ROLE_ASG  ATRA
                      </isNotEqual>
                             WHERE 
                                   ATRA.EZCANCELFLAG = '0'
                               AND ATRA.GLBL_CMPY_CD = RESRC.GLBL_CMPY_CD
                               AND ATRA.LOC_NUM = RESRC.LOC_NUM
                      <isNotNull property="cMsg.bizAreaOrgCd_H">
                               AND EXISTS (
                                 SELECT 1
                                   FROM DS_ORG_UNIT UNIT2
                                  WHERE UNIT2.EZCANCELFLAG =  '0'
                                    AND ATRA.GLBL_CMPY_CD  =  UNIT2.GLBL_CMPY_CD
                                    AND ATRA.ORG_CD        =  UNIT2.ORG_CD
                                    AND UNIT2.FIRST_ORG_CD =  #cMsg.bizAreaOrgCd_H#
                               )
                      </isNotNull>
                      <isNotNull property="cMsg.orgNm_H1">
                               AND ATRA.ORG_NM LIKE #cMsg.orgNm_H1#
                      </isNotNull>
                      <isNotNull property="cMsg.trtyGrpTpCd_H">
                               AND ATRA.TRTY_GRP_TP_CD        LIKE  #cMsg.trtyGrpTpCd_H#
                      </isNotNull>
                      <isNotNull property="cMsg.fullPsnNm_H">
                               AND EXISTS (
                                 SELECT 1 
                                   FROM S21_PSN PSN 
                                  WHERE 
                                        PSN.EZCANCELFLAG = '0'
                                    AND PSN.GLBL_CMPY_CD = ATRA.GLBL_CMPY_CD
                                    AND PSN.PSN_CD = ATRA.PSN_CD
                                    AND PSN.PSN_FIRST_NM ||' '|| PSN.PSN_LAST_NM LIKE #cMsg.fullPsnNm_H#
                               )
                      </isNotNull>
                      <isNotNull property="cMsg.psnCd_H">
                               AND ATRA.PSN_CD LIKE #cMsg.psnCd_H#
                      </isNotNull>
                      <isNotNull property="orgNm">
                               AND EXISTS (
                                 SELECT 1
                                   FROM S21_ORG ORG
                                  WHERE 
                                        ORG.EZCANCELFLAG = '0'
                                    AND ATRA.GLBL_CMPY_CD         =  ORG.GLBL_CMPY_CD
                                    AND ATRA.TOC_CD               =  ORG.TOC_CD
                                    AND ORG.RGTN_STS_CD           =  #rgtnSts_Ready4Order#
                                    AND (ORG.FRTH_ORG_NM      LIKE  #orgNm#
                                         OR ORG.FIFTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.SIXTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.SVNTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.EIGHTH_ORG_NM LIKE  #orgNm#
                                         OR ORG.NINTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.TENTH_ORG_NM  LIKE  #orgNm#
                                         OR ORG.ELVTH_ORG_NM  LIKE  #orgNm#
                                        )
                               )
                      </isNotNull>
                         )
                  </isNotNull>
                  <isNotNull property="cMsg.lineBizTpCd_H">
                         AND PTY.LINE_BIZ_TP_CD           = #cMsg.lineBizTpCd_H#
                  </isNotNull>
                         AND ROWNUM &lt;= #rowNum_Max#
                     ) RESRC_WRK
              <!-- 2018/08/07 QC#27464 Add End -->

              <!-- 2018/08/07 QC#27464 Add Start -->
                  , ( SELECT
                            AG.DS_ACCT_NUM
                          , MAX(CASE WHEN AG.ROWNUMBER = 1 THEN DS_ACCT_GRP_NM ELSE NULL END) AS VAL1
                          , MAX(CASE WHEN AG.ROWNUMBER = 2 THEN DS_ACCT_GRP_NM ELSE NULL END) AS VAL2
                          , MAX(CASE WHEN AG.ROWNUMBER = 3 THEN DS_ACCT_GRP_NM ELSE NULL END) AS VAL3
                          , MAX(CASE WHEN AG.ROWNUMBER = 4 THEN DS_ACCT_GRP_NM ELSE NULL END) AS VAL4
                          , MAX(CASE WHEN AG.ROWNUMBER = 5 THEN DS_ACCT_GRP_NM ELSE NULL END) AS VAL5
                      FROM (
                           SELECT 
                                ASG.DS_ACCT_NUM
                             ,  ROW_NUMBER() OVER (PARTITION BY ASG.DS_ACCT_NUM ORDER BY ASG.DS_ACCT_GRP_ASG_PK) AS ROWNUMBER
                             ,  GRP.DS_ACCT_GRP_NM
                           FROM
                                DS_ACCT_GRP_ASG ASG
                             ,  DS_ACCT_GRP     GRP
                           WHERE
                                ASG.GLBL_CMPY_CD    =   #glblCmpyCd#
                           AND  ASG.EFF_FROM_DT &lt;=   #slsDt#
                           AND  NVL(ASG.EFF_THRU_DT, #maxDt# ) &gt;=   #slsDt#
                           AND  ASG.GLBL_CMPY_CD    =   GRP.GLBL_CMPY_CD
                           AND  ASG.DS_ACCT_GRP_CD  =   GRP.DS_ACCT_GRP_CD
                           AND  ASG.EZCANCELFLAG    =   '0'
                           AND  GRP.EZCANCELFLAG    =   '0'
                           ) AG
                      WHERE
                         AG.ROWNUMBER      &lt;=  5
                      GROUP BY 
                         AG.DS_ACCT_NUM
                    ) AG_WRK
              <!-- 2018/08/07 QC#27464 Add End -->

              <isNull property="lineBizRoleTp_01">
                  ,TRTY_WRK              TW_01
              </isNull>
              <isNotNull property="lineBizRoleTp_01">
                  ,SPECIALIST            SP_01
              </isNotNull>
              <isNull property="lineBizRoleTp_02">
                  ,TRTY_WRK              TW_02
              </isNull>
              <isNotNull property="lineBizRoleTp_02">
                  ,SPECIALIST            SP_02
              </isNotNull>
              <isNull property="lineBizRoleTp_03">
                  ,TRTY_WRK              TW_03
              </isNull>
              <isNotNull property="lineBizRoleTp_03">
                  ,SPECIALIST            SP_03
              </isNotNull>
              <isNull property="lineBizRoleTp_04">
                  ,TRTY_WRK              TW_04
              </isNull>
              <isNotNull property="lineBizRoleTp_04">
                  ,SPECIALIST            SP_04
              </isNotNull>
              <isNull property="lineBizRoleTp_05">
                  ,TRTY_WRK              TW_05
              </isNull>
              <isNotNull property="lineBizRoleTp_05">
                  ,SPECIALIST            SP_05
              </isNotNull>
              <isNull property="lineBizRoleTp_06">
                  ,TRTY_WRK              TW_06
              </isNull>
              <isNotNull property="lineBizRoleTp_06">
                  ,SPECIALIST            SP_06
              </isNotNull>
              <isNull property="lineBizRoleTp_07">
                  ,TRTY_WRK              TW_07
              </isNull>
              <isNotNull property="lineBizRoleTp_07">
                  ,SPECIALIST            SP_07
              </isNotNull>
              <isNull property="lineBizRoleTp_08">
                  ,TRTY_WRK              TW_08
              </isNull>
              <isNotNull property="lineBizRoleTp_08">
                  ,SPECIALIST            SP_08
              </isNotNull>
              <isNull property="lineBizRoleTp_09">
                  ,TRTY_WRK              TW_09
              </isNull>
              <isNotNull property="lineBizRoleTp_09">
                  ,SPECIALIST            SP_09
              </isNotNull>
              <isNull property="lineBizRoleTp_10">
                  ,TRTY_WRK              TW_10
              </isNull>
              <isNotNull property="lineBizRoleTp_10">
                  ,SPECIALIST            SP_10
              </isNotNull>
              <isNull property="lineBizRoleTp_11">
                  ,TRTY_WRK              TW_11
              </isNull>
              <isNotNull property="lineBizRoleTp_11">
                  ,SPECIALIST            SP_11
              </isNotNull>
              <isNull property="lineBizRoleTp_12">
                  ,TRTY_WRK              TW_12
              </isNull>
              <isNotNull property="lineBizRoleTp_12">
                  ,SPECIALIST            SP_12
              </isNotNull>
              <isNull property="lineBizRoleTp_13">
                  ,TRTY_WRK              TW_13
              </isNull>
              <isNotNull property="lineBizRoleTp_13">
                  ,SPECIALIST            SP_13
              </isNotNull>
              <isNull property="lineBizRoleTp_14">
                  ,TRTY_WRK              TW_14
              </isNull>
              <isNotNull property="lineBizRoleTp_14">
                  ,SPECIALIST            SP_14
              </isNotNull>
              <isNull property="lineBizRoleTp_15">
                  ,TRTY_WRK              TW_15
              </isNull>
              <isNotNull property="lineBizRoleTp_15">
                  ,SPECIALIST            SP_15
              </isNotNull>
              <isNull property="lineBizRoleTp_16">
                  ,TRTY_WRK              TW_16
              </isNull>
              <isNotNull property="lineBizRoleTp_16">
                  ,SPECIALIST            SP_16
              </isNotNull>
              <isNull property="lineBizRoleTp_17">
                  ,TRTY_WRK              TW_17
              </isNull>
              <isNotNull property="lineBizRoleTp_17">
                  ,SPECIALIST            SP_17
              </isNotNull>
              <isNull property="lineBizRoleTp_18">
                  ,TRTY_WRK              TW_18
              </isNull>
              <isNotNull property="lineBizRoleTp_18">
                  ,SPECIALIST            SP_18
              </isNotNull>
              <isNull property="lineBizRoleTp_19">
                  ,TRTY_WRK              TW_19
              </isNull>
              <isNotNull property="lineBizRoleTp_19">
                  ,SPECIALIST            SP_19
              </isNotNull>
              <isNull property="lineBizRoleTp_20">
                  ,TRTY_WRK              TW_20
              </isNull>
              <isNotNull property="lineBizRoleTp_20">
                  ,SPECIALIST            SP_20
              </isNotNull>

                WHERE
                <!-- 2018/08/07 QC#27464 Del
                    RESRC.GLBL_CMPY_CD               =  #glblCmpyCd#
                  <isNotNull property="cMsg.dsAcctNum_H">
                    AND RESRC.DS_ACCT_NUM         LIKE  #cMsg.dsAcctNum_H#
                  </isNotNull>
                  <isNotNull property="cMsg.dsAcctNm_H">
                    AND RESRC.DS_ACCT_NM          LIKE  #cMsg.dsAcctNm_H#
                  </isNotNull>
                    AND RESRC.GLBL_CMPY_CD           =  CUST.GLBL_CMPY_CD
                  <isEqual property="dsAcctTp" compareValue="10">
                    AND RESRC.DS_ACCT_NUM            =  CUST.SELL_TO_CUST_CD
                  </isEqual>
                  <isNotEqual property="dsAcctTp" compareValue="10">
                    AND RESRC.DS_ACCT_NUM            =  CUST.DS_ACCT_NUM
                  </isNotEqual>
                    AND CUST.DS_ACCT_ACTV_CUST_FLG   =  #flgOnY#

                    AND CUST.GLBL_CMPY_CD            =  TP.GLBL_CMPY_CD
                    AND CUST.DS_ACCT_TP_CD           =  TP.DS_ACCT_TP_CD
                    AND CUST.DS_ACCT_TP_CD           =  #dsAcctTp#

                    AND RESRC.GLBL_CMPY_CD           =  PTY.GLBL_CMPY_CD
                    AND RESRC.LOC_NUM                =  PTY.LOC_NUM
                    AND PTY.RGTN_STS_CD              =  #rgtnSts_Ready4Order#

                  <isNotNull property="cMsg.xxCratDt_HF">
                    AND SUBSTR(PTY.EZINTIME,1,8) &gt;=  #cMsg.xxCratDt_HF#
                  </isNotNull>
                 <isNotNull property="cMsg.xxCratDt_HT">
                    AND SUBSTR(PTY.EZINTIME,1,8) &lt;=  #cMsg.xxCratDt_HT#
                  </isNotNull>
                  <isNotNull property="cMsg.xxLineCatgSrchTxt_H">
                    AND PTY.FIRST_LINE_ADDR ||' '||
                        PTY.SCD_LINE_ADDR   ||' '||
                        PTY.THIRD_LINE_ADDR ||' '||
                        PTY.FRTH_LINE_ADDR        LIKE  #cMsg.xxLineCatgSrchTxt_H#
                  </isNotNull>
                  <isNotNull property="cMsg.ctyAddr_H">
                    AND PTY.CTY_ADDR              LIKE  #cMsg.ctyAddr_H#
                  </isNotNull>
                  <isNotNull property="cMsg.stCd_H">
                    AND PTY.ST_CD                 LIKE  #cMsg.stCd_H#
                  </isNotNull>

                  <isNotNull property="cMsg.postCd_HF">
                    AND ( 
                          (CASE WHEN LENGTH(PTY.POST_CD) &lt;= #postCd_FiveDigit# THEN RPAD(PTY.POST_CD,#postCd_NineDigit#, #zero#)
                                WHEN LENGTH(PTY.POST_CD) &lt;= #postCd_FullDigit# THEN REPLACE(PTY.POST_CD, #hyphen#, '')
                                ELSE ''
                           END ) &gt;= #postCdFromVal#
                        )
                  </isNotNull>
                  <isNotNull property="cMsg.postCd_HT">
                    AND RPAD(REPLACE(PTY.POST_CD, #hyphen#, ''), #postCd_NineDigit#, #zero#) &lt;= #postCdThruVal#
                  </isNotNull>

                  <isNotNull property="cMsg.locNum_H">
                    AND PTY.LOC_NUM               LIKE  #cMsg.locNum_H#
                  </isNotNull>
                  <isNotNull property="cMsg.lineBizTpCd_H">
                    AND PTY.LINE_BIZ_TP_CD           =  #cMsg.lineBizTpCd_H#
                  </isNotNull>

                    AND CUST.GLBL_CMPY_CD            =  CLS.GLBL_CMPY_CD
                    AND CUST.DS_ACCT_CLS_CD          =  CLS.DS_ACCT_CLS_CD

                    AND PTY.GLBL_CMPY_CD             =  ST.GLBL_CMPY_CD
                    AND PTY.ST_CD                    =  ST.ST_CD

                    AND RESRC.EZCANCELFLAG           =  '0'
                    AND CUST.EZCANCELFLAG            =  '0'
                    AND TP.EZCANCELFLAG              =  '0'
                    AND PTY.EZCANCELFLAG             =  '0'
                    AND CLS.EZCANCELFLAG             =  '0'
                    AND ST.EZCANCELFLAG              =  '0'

                  <isNotNull property="orgSrchPrmExstFlg">
                    AND EXISTS (
                       SELECT 1 
                         FROM 
                      <isEqual property="dsAcctTp" compareValue="10">
                            ACCT_TRTY_ROLE_ASG  ATRA
                      </isEqual>
                      <isNotEqual property="dsAcctTp" compareValue="10">
                            PROS_TRTY_ROLE_ASG  ATRA
                      </isNotEqual>
                        WHERE 
                              ATRA.EZCANCELFLAG = '0'
                          AND ATRA.GLBL_CMPY_CD = RESRC.GLBL_CMPY_CD
                          AND ATRA.LOC_NUM = RESRC.LOC_NUM
                        <isNotNull property="cMsg.bizAreaOrgCd_H">
                          AND EXISTS (
                            SELECT 1
                              FROM DS_ORG_UNIT UNIT2
                             WHERE UNIT2.EZCANCELFLAG =  '0'
                               AND ATRA.GLBL_CMPY_CD  =  UNIT2.GLBL_CMPY_CD
                               AND ATRA.ORG_CD        =  UNIT2.ORG_CD
                               AND UNIT2.FIRST_ORG_CD =  #cMsg.bizAreaOrgCd_H#
                          )
                        </isNotNull>
                        <isNotNull property="cMsg.orgNm_H1">
                          AND ATRA.ORG_NM LIKE #cMsg.orgNm_H1#
                        </isNotNull>
                        <isNotNull property="cMsg.trtyGrpTpCd_H">
                          AND ATRA.TRTY_GRP_TP_CD        LIKE  #cMsg.trtyGrpTpCd_H#
                        </isNotNull>
                        <isNotNull property="cMsg.fullPsnNm_H">
                          AND EXISTS (
                            SELECT 1 
                              FROM S21_PSN PSN 
                             WHERE 
                                   PSN.EZCANCELFLAG = '0'
                               AND PSN.GLBL_CMPY_CD = ATRA.GLBL_CMPY_CD
                               AND PSN.PSN_CD = ATRA.PSN_CD
                               AND PSN.PSN_FIRST_NM ||' '|| PSN.PSN_LAST_NM LIKE #cMsg.fullPsnNm_H#
                          )
                        </isNotNull>
                        <isNotNull property="cMsg.psnCd_H">
                          AND ATRA.PSN_CD LIKE #cMsg.psnCd_H#
                        </isNotNull>
                        <isNotNull property="orgNm">
                          AND EXISTS (
                            SELECT 1
                              FROM S21_ORG ORG
                             WHERE 
                                   ORG.EZCANCELFLAG = '0'
                               AND ATRA.GLBL_CMPY_CD         =  ORG.GLBL_CMPY_CD
                               AND ATRA.TOC_CD               =  ORG.TOC_CD
                               AND ORG.RGTN_STS_CD           =  #rgtnSts_Ready4Order#
                               AND (ORG.FRTH_ORG_NM      LIKE  #orgNm#
                                    OR ORG.FIFTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG.SIXTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG.SVNTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG.EIGHTH_ORG_NM LIKE  #orgNm#
                                    OR ORG.NINTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG.TENTH_ORG_NM  LIKE  #orgNm#
                                    OR ORG.ELVTH_ORG_NM  LIKE  #orgNm#
                                   )
                          )
                        </isNotNull>
                    )
                  </isNotNull>
                  <isNotNull property="cMsg.lineBizTpCd_H">
                    AND PTY.LINE_BIZ_TP_CD           = #cMsg.lineBizTpCd_H#
                  </isNotNull>

                  <isNull property="lineBizRoleTp_01">
                    AND TW_01.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_01
                    AND TW_01.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_01
                    AND TW_01.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_01
                  </isNull>
                  <isNotNull property="lineBizRoleTp_01">
                    AND SP_01.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_01.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_01.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_01
                    AND SP_01.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_01#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_02">
                    AND TW_02.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_02
                    AND TW_02.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_02
                    AND TW_02.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_02
                  </isNull>
                  <isNotNull property="lineBizRoleTp_02">
                    AND SP_02.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_02.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_02.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_02
                    AND SP_02.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_02#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_03">
                    AND TW_03.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_03
                    AND TW_03.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_03
                    AND TW_03.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_03
                  </isNull>
                  <isNotNull property="lineBizRoleTp_03">
                    AND SP_03.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_03.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_03.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_03
                    AND SP_03.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_03#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_04">
                    AND TW_04.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_04
                    AND TW_04.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_04
                    AND TW_04.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_04
                  </isNull>
                  <isNotNull property="lineBizRoleTp_04">
                    AND SP_04.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_04.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_04.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_04
                    AND SP_04.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_04#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_05">
                    AND TW_05.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_05
                    AND TW_05.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_05
                    AND TW_05.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_05
                  </isNull>
                  <isNotNull property="lineBizRoleTp_05">
                    AND SP_05.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_05.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_05.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_05
                    AND SP_05.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_05#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_06">
                    AND TW_06.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_06
                    AND TW_06.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_06
                    AND TW_06.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_06
                  </isNull>
                  <isNotNull property="lineBizRoleTp_06">
                    AND SP_06.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_06.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_06.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_06
                    AND SP_06.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_06#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_07">
                    AND TW_07.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_07
                    AND TW_07.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_07
                    AND TW_07.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_07
                  </isNull>
                  <isNotNull property="lineBizRoleTp_07">
                    AND SP_07.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_07.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_07.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_07
                    AND SP_07.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_07#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_08">
                    AND TW_08.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_08
                    AND TW_08.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_08
                    AND TW_08.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_08
                  </isNull>
                  <isNotNull property="lineBizRoleTp_08">
                    AND SP_08.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_08.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_08.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_08
                    AND SP_08.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_08#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_09">
                    AND TW_09.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_09
                    AND TW_09.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_09
                    AND TW_09.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_09
                  </isNull>
                  <isNotNull property="lineBizRoleTp_09">
                    AND SP_09.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_09.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_09.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_09
                    AND SP_09.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_09#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_10">
                    AND TW_10.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_10
                    AND TW_10.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_10
                    AND TW_10.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_10
                  </isNull>
                  <isNotNull property="lineBizRoleTp_10">
                    AND SP_10.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_10.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_10.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_10
                    AND SP_10.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_10#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_11">
                    AND TW_11.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_11
                    AND TW_11.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_11
                    AND TW_11.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_11
                  </isNull>
                  <isNotNull property="lineBizRoleTp_11">
                    AND SP_11.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_11.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_11.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_11
                    AND SP_11.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_11#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_12">
                    AND TW_12.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_12
                    AND TW_12.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_12
                    AND TW_12.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_12
                  </isNull>
                  <isNotNull property="lineBizRoleTp_12">
                    AND SP_12.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_12.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_12.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_12
                    AND SP_12.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_12#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_13">
                    AND TW_13.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_13
                    AND TW_13.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_13
                    AND TW_13.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_13
                  </isNull>
                  <isNotNull property="lineBizRoleTp_13">
                    AND SP_13.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_13.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_13.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_13
                    AND SP_13.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_13#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_14">
                    AND TW_14.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_14
                    AND TW_14.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_14
                    AND TW_14.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_14
                  </isNull>
                  <isNotNull property="lineBizRoleTp_14">
                    AND SP_14.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_14.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_14.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_14
                    AND SP_14.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_14#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_15">
                    AND TW_15.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_15
                    AND TW_15.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_15
                    AND TW_15.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_15
                  </isNull>
                  <isNotNull property="lineBizRoleTp_15">
                    AND SP_15.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_15.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_15.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_15
                    AND SP_15.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_15#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_16">
                    AND TW_16.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_16
                    AND TW_16.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_16
                    AND TW_16.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_16
                  </isNull>
                  <isNotNull property="lineBizRoleTp_16">
                    AND SP_16.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_16.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_16.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_16
                    AND SP_16.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_16#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_17">
                    AND TW_17.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_17
                    AND TW_17.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_17
                    AND TW_17.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_17
                  </isNull>
                  <isNotNull property="lineBizRoleTp_17">
                    AND SP_17.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_17.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_17.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_17
                    AND SP_17.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_17#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_18">
                    AND TW_18.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_18
                    AND TW_18.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_18
                    AND TW_18.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_18
                  </isNull>
                  <isNotNull property="lineBizRoleTp_18">
                    AND SP_18.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_18.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_18.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_18
                    AND SP_18.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_18#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_19">
                    AND TW_19.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_19
                    AND TW_19.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_19
                    AND TW_19.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_19
                  </isNull>
                  <isNotNull property="lineBizRoleTp_19">
                    AND SP_19.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_19.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_19.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_19
                    AND SP_19.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_19#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_20">
                    AND TW_20.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_20
                    AND TW_20.PSN_CD(+)              = RESRC.ACCT_TRTY_PSN_CD_20
                    AND TW_20.TOC_CD(+)              = RESRC.ACCT_TRTY_TOC_CD_20
                  </isNull>
                  <isNotNull property="lineBizRoleTp_20">
                    AND SP_20.DS_ACCT_NUM(+)         = RESRC.DS_ACCT_NUM
                    AND SP_20.LOC_NUM(+)             = RESRC.LOC_NUM
                    AND SP_20.ORG_CD(+)              = RESRC.ACCT_TRTY_ORG_CD_20
                    AND SP_20.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_20#
                  </isNotNull>
                -->
                <!-- 2018/08/07 QC#27464 Add Start -->
                  <isNull property="lineBizRoleTp_01">
                        TW_01.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_01
                    AND TW_01.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_01
                    AND TW_01.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_01
                  </isNull>
                  <isNotNull property="lineBizRoleTp_01">
                        SP_01.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_01.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_01.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_01
                    AND SP_01.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_01#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_02">
                    AND TW_02.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_02
                    AND TW_02.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_02
                    AND TW_02.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_02
                  </isNull>
                  <isNotNull property="lineBizRoleTp_02">
                    AND SP_02.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_02.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_02.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_02
                    AND SP_02.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_02#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_03">
                    AND TW_03.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_03
                    AND TW_03.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_03
                    AND TW_03.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_03
                  </isNull>
                  <isNotNull property="lineBizRoleTp_03">
                    AND SP_03.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_03.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_03.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_03
                    AND SP_03.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_03#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_04">
                    AND TW_04.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_04
                    AND TW_04.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_04
                    AND TW_04.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_04
                  </isNull>
                  <isNotNull property="lineBizRoleTp_04">
                    AND SP_04.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_04.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_04.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_04
                    AND SP_04.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_04#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_05">
                    AND TW_05.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_05
                    AND TW_05.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_05
                    AND TW_05.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_05
                  </isNull>
                  <isNotNull property="lineBizRoleTp_05">
                    AND SP_05.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_05.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_05.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_05
                    AND SP_05.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_05#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_06">
                    AND TW_06.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_06
                    AND TW_06.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_06
                    AND TW_06.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_06
                  </isNull>
                  <isNotNull property="lineBizRoleTp_06">
                    AND SP_06.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_06.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_06.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_06
                    AND SP_06.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_06#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_07">
                    AND TW_07.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_07
                    AND TW_07.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_07
                    AND TW_07.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_07
                  </isNull>
                  <isNotNull property="lineBizRoleTp_07">
                    AND SP_07.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_07.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_07.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_07
                    AND SP_07.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_07#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_08">
                    AND TW_08.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_08
                    AND TW_08.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_08
                    AND TW_08.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_08
                  </isNull>
                  <isNotNull property="lineBizRoleTp_08">
                    AND SP_08.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_08.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_08.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_08
                    AND SP_08.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_08#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_09">
                    AND TW_09.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_09
                    AND TW_09.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_09
                    AND TW_09.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_09
                  </isNull>
                  <isNotNull property="lineBizRoleTp_09">
                    AND SP_09.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_09.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_09.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_09
                    AND SP_09.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_09#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_10">
                    AND TW_10.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_10
                    AND TW_10.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_10
                    AND TW_10.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_10
                  </isNull>
                  <isNotNull property="lineBizRoleTp_10">
                    AND SP_10.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_10.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_10.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_10
                    AND SP_10.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_10#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_11">
                    AND TW_11.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_11
                    AND TW_11.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_11
                    AND TW_11.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_11
                  </isNull>
                  <isNotNull property="lineBizRoleTp_11">
                    AND SP_11.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_11.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_11.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_11
                    AND SP_11.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_11#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_12">
                    AND TW_12.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_12
                    AND TW_12.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_12
                    AND TW_12.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_12
                  </isNull>
                  <isNotNull property="lineBizRoleTp_12">
                    AND SP_12.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_12.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_12.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_12
                    AND SP_12.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_12#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_13">
                    AND TW_13.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_13
                    AND TW_13.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_13
                    AND TW_13.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_13
                  </isNull>
                  <isNotNull property="lineBizRoleTp_13">
                    AND SP_13.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_13.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_13.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_13
                    AND SP_13.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_13#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_14">
                    AND TW_14.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_14
                    AND TW_14.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_14
                    AND TW_14.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_14
                  </isNull>
                  <isNotNull property="lineBizRoleTp_14">
                    AND SP_14.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_14.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_14.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_14
                    AND SP_14.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_14#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_15">
                    AND TW_15.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_15
                    AND TW_15.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_15
                    AND TW_15.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_15
                  </isNull>
                  <isNotNull property="lineBizRoleTp_15">
                    AND SP_15.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_15.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_15.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_15
                    AND SP_15.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_15#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_16">
                    AND TW_16.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_16
                    AND TW_16.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_16
                    AND TW_16.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_16
                  </isNull>
                  <isNotNull property="lineBizRoleTp_16">
                    AND SP_16.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_16.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_16.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_16
                    AND SP_16.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_16#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_17">
                    AND TW_17.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_17
                    AND TW_17.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_17
                    AND TW_17.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_17
                  </isNull>
                  <isNotNull property="lineBizRoleTp_17">
                    AND SP_17.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_17.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_17.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_17
                    AND SP_17.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_17#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_18">
                    AND TW_18.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_18
                    AND TW_18.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_18
                    AND TW_18.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_18
                  </isNull>
                  <isNotNull property="lineBizRoleTp_18">
                    AND SP_18.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_18.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_18.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_18
                    AND SP_18.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_18#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_19">
                    AND TW_19.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_19
                    AND TW_19.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_19
                    AND TW_19.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_19
                  </isNull>
                  <isNotNull property="lineBizRoleTp_19">
                    AND SP_19.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_19.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_19.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_19
                    AND SP_19.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_19#
                  </isNotNull>
                  <isNull property="lineBizRoleTp_20">
                    AND TW_20.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_20
                    AND TW_20.PSN_CD(+)              = RESRC_WRK.ACCT_TRTY_PSN_CD_20
                    AND TW_20.TOC_CD(+)              = RESRC_WRK.ACCT_TRTY_TOC_CD_20
                  </isNull>
                  <isNotNull property="lineBizRoleTp_20">
                    AND SP_20.DS_ACCT_NUM(+)         = RESRC_WRK.DS_ACCT_NUM
                    AND SP_20.LOC_NUM(+)             = RESRC_WRK.LOC_NUM
                    AND SP_20.ORG_CD(+)              = RESRC_WRK.ACCT_TRTY_ORG_CD_20
                    AND SP_20.LINE_BIZ_ROLE_TP_CD(+) = #lineBizRoleTp_20#
                  </isNotNull>
                    AND AG_WRK.DS_ACCT_NUM(+)        = RESRC_WRK.DS_ACCT_NUM
                <!-- 2018/08/07 QC#27464 Add End -->
                    AND ROWNUM &lt;= #rowNum_Max#
    </statement>

    <statement id="getLineBizRoleTp" parameterClass="Map" resultClass="Map">
       SELECT 
           DISTINCT DECN.ASG_TRTY_ATTRB_CD
         , TP.LINE_BIZ_ROLE_TP_CD
       FROM 
           LINE_BIZ_ROLE_RANK_DECN DECN
        ,  LINE_BIZ_ROLE_TP        TP
       WHERE
           DECN.GLBL_CMPY_CD            =  #glblCmpyCd# 
       AND DECN.LINE_BIZ_RANK_NUM      IS  NULL
       AND DECN.GLBL_CMPY_CD            =  TP.GLBL_CMPY_CD
       AND DECN.LINE_BIZ_ROLE_TP_CD     =  TP.LINE_BIZ_ROLE_TP_CD
       AND DECN.EZCANCELFLAG            =  '0'
       AND TP.EZCANCELFLAG              =  '0'
    </statement>

    <statement id="getOrgCd" parameterClass="Map" resultClass="String">
       SELECT
            UNIT.ORG_CD
        FROM
          DS_ORG_UNIT UNIT
        WHERE
            UNIT.GLBL_CMPY_CD           = #glblCmpyCd# 
        AND UNIT.ORG_NM                 = #trtyName#
        AND UNIT.EFF_FROM_DT        &lt;= #slsDt#
        AND NVL(UNIT.EFF_THRU_DT, #maxDt#)    &gt;= #slsDt#
        AND UNIT.EZCANCELFLAG           = '0'
    </statement>

    <statement id="getTerritoryDetail" parameterClass="Map" resultClass="Map">
       SELECT
            UNIT.ORG_CD
          , UNIT.ORG_NM
          , UNIT.FIRST_ORG_CD
          , UNIT.TRTY_TP_CD
          , UNIT.ORG_TIER_CD
          , UNIT.EFF_FROM_DT
          , UNIT.EFF_THRU_DT
          , GRP.TRTY_GRP_TP_DESC_TXT
          , GRP.TRTY_GRP_TP_CD
          , SUBSTR(RTRIM(LISTAGG(PSN.PSN_CD || ',') WITHIN GROUP (ORDER BY RESRC.ORG_CD), ','), 0, 70) PSN_CD
          , SUBSTR(RTRIM(LISTAGG(PSN.PSN_FIRST_NM||' '||PSN.PSN_LAST_NM || ',') WITHIN GROUP (ORDER BY RESRC.ORG_CD), ','), 0, 400) PSN_NAME
          , SUBSTR(RTRIM(LISTAGG(PSN.PSN_NUM || ',') WITHIN GROUP (ORDER BY RESRC.ORG_CD), ','), 0, 70) PSN_NUM
        FROM
          DS_ORG_UNIT UNIT
        , ORG_STRU_TP STRU
        , TRTY_GRP_TP GRP
        , DS_ORG_RESRC_RELN RESRC
        , S21_PSN PSN
        WHERE
            UNIT.GLBL_CMPY_CD           = #glblCmpyCd# 
        AND UNIT.ORG_NM                 = #trtyName#
        AND UNIT.EFF_FROM_DT        &lt;= #slsDt#
        AND NVL(UNIT.EFF_THRU_DT, #maxDt#)      &gt;= #slsDt#

        AND UNIT.GLBL_CMPY_CD           = GRP.GLBL_CMPY_CD
        AND UNIT.TRTY_GRP_TP_CD         = GRP.TRTY_GRP_TP_CD

        AND UNIT.GLBL_CMPY_CD           = STRU.GLBL_CMPY_CD
        AND UNIT.ORG_STRU_TP_CD         = STRU.ORG_STRU_TP_CD
        AND STRU.TRTY_STRU_FLG          = #flgOnY#

        AND UNIT.GLBL_CMPY_CD           = RESRC.GLBL_CMPY_CD
        AND UNIT.ORG_CD                 = RESRC.ORG_CD
        AND RESRC.GNRN_TP_CD           IN (#gnrnTp_Current#, #gnrnTp_Future#)
        AND RESRC.EFF_FROM_DT       &lt;= #slsDt#
        AND NVL(RESRC.EFF_THRU_DT, #maxDt#)     &gt;= #slsDt#
      <!-- START 2017/11/28 Hd.Sugawara [QC#21044,ADD] -->
      <isNotNull property="nonSlsRepFlg">
        AND RESRC.NON_SLS_REP_FLG       =  #nonSlsRepFlg#
      </isNotNull>
      <!-- END 2017/11/28 Hd.Sugawara [QC#21044,ADD] -->

        AND RESRC.GLBL_CMPY_CD          =  PSN.GLBL_CMPY_CD
        AND RESRC.PSN_CD                =  PSN.PSN_CD
        AND PSN.EFF_FROM_DT       &lt;= #slsDt#
        AND NVL(PSN.EFF_THRU_DT, #maxDt#)       &gt;= #slsDt#

        AND UNIT.EZCANCELFLAG           =  '0'
        AND STRU.EZCANCELFLAG           =  '0'
        AND GRP.EZCANCELFLAG            =  '0'
        AND RESRC.EZCANCELFLAG          =  '0'
        AND PSN.EZCANCELFLAG            =  '0'

        GROUP BY
            UNIT.ORG_CD
          , UNIT.ORG_NM
          , UNIT.FIRST_ORG_CD
          , UNIT.TRTY_TP_CD
          , UNIT.ORG_TIER_CD
          , UNIT.EFF_FROM_DT
          , UNIT.EFF_THRU_DT
          , GRP.TRTY_GRP_TP_DESC_TXT
          , GRP.TRTY_GRP_TP_CD
    </statement>

    <statement id="checkActiveTerritory" parameterClass="Map" resultClass="Integer">
        SELECT
           COUNT(1)
        FROM
            DS_ORG_UNIT UNIT
          , ORG_STRU_TP STRU
        WHERE 
            UNIT.GLBL_CMPY_CD                   =  #glblCmpyCd#
        AND UNIT.ORG_NM                         =  #trtyNm#
        AND UNIT.EFF_FROM_DT                &lt;=  #slsDt#
        AND NVL(UNIT.EFF_THRU_DT, #maxDt#)  &gt;=  #slsDt#
        AND UNIT.GNRN_TP_CD                     =  #gnrnTp_Current#

        AND UNIT.GLBL_CMPY_CD                   =  STRU.GLBL_CMPY_CD
        AND UNIT.ORG_STRU_TP_CD                 =  STRU.ORG_STRU_TP_CD
        AND STRU.TRTY_STRU_FLG                  =  #flgOnY#

        AND UNIT.EZCANCELFLAG                   =  '0'
        AND STRU.EZCANCELFLAG                   =  '0'
    </statement>

    <statement id="getTitleLabel" parameterClass="Map" resultClass="Map">
        SELECT
            DECN.ASG_TRTY_ATTRB_CD
         ,  TP.LINE_BIZ_ROLE_TP_NM
        <!-- START 2017/11/28 Hd.Sugawara [QC#21044,ADD] -->
         ,  TP.SLS_CR_QUOT_FLG
        <!-- END 2017/11/28 Hd.Sugawara [QC#21044,ADD] -->
        FROM
            LINE_BIZ_ROLE_RANK_DECN DECN
         ,  LINE_BIZ_ROLE_TP        TP
        WHERE
            DECN.GLBL_CMPY_CD        = #glblCmpyCd#
        AND DECN.DS_ACCT_TP_CD       = #dsAcctTp#
        AND DECN.GLBL_CMPY_CD        = TP.GLBL_CMPY_CD
        AND DECN.LINE_BIZ_ROLE_TP_CD = TP.LINE_BIZ_ROLE_TP_CD
        AND DECN.EZCANCELFLAG        = '0'
        AND TP.EZCANCELFLAG          = '0'
    </statement>

    <statement id="getLineBizRankNum" parameterClass="Map" resultClass="String">
        SELECT 
            DECN.LINE_BIZ_RANK_NUM
        FROM
            LINE_BIZ_ROLE_RANK_DECN DECN
        WHERE
            DECN.ASG_TRTY_ATTRB_CD  = #asgTrtyAttrb#
        AND DECN.TRTY_GRP_TP_CD     = #trtyGrpTp#
        AND DECN.DS_ACCT_TP_CD      = #dsAcctTp#
        AND DECN.GLBL_CMPY_CD       = #glblCmpyCd#
        AND DECN.EZCANCELFLAG       = '0'
    </statement>

    <statement id="checkActiveResorce" parameterClass="Map" resultClass="Integer">
        SELECT 
            COUNT(1)
        FROM
            DS_ORG_UNIT        UNIT
          , ORG_STRU_TP        STRU
          , BIZ_AREA_ORG       BAO
          , DS_ORG_RESRC_RELN  RELN
          , S21_PSN            PSN
        WHERE 
            UNIT.GLBL_CMPY_CD          =  #glblCmpyCd#
        AND UNIT.ORG_NM                =  #trtyNm#

        AND UNIT.GLBL_CMPY_CD          =  STRU.GLBL_CMPY_CD
        AND UNIT.ORG_STRU_TP_CD        =  STRU.ORG_STRU_TP_CD
        AND STRU.TRTY_STRU_FLG         =  #flgOnY#

        AND UNIT.GLBL_CMPY_CD          =  BAO.GLBL_CMPY_CD
        AND UNIT.FIRST_ORG_CD          =  BAO.BIZ_AREA_ORG_CD

        AND UNIT.GLBL_CMPY_CD          =  RELN.GLBL_CMPY_CD
        AND UNIT.ORG_CD                =  RELN.ORG_CD
      <isEqual property="salesRepRoleFlg" compareValue="Y">
        AND RELN.ACCT_TEAM_ROLE_TP_CD IS NULL
      </isEqual>
        AND RELN.EFF_FROM_DT       &lt;=  #slsDt#
        AND NVL(RELN.EFF_THRU_DT, #maxDt#) &gt;=  #slsDt#
        AND RELN.GNRN_TP_CD            =  #gnrnTp_Current#

        AND RELN.GLBL_CMPY_CD          =  PSN.GLBL_CMPY_CD
        AND RELN.PSN_CD                =  PSN.PSN_CD
        AND PSN.EFF_FROM_DT        &lt;=  #slsDt#
        AND NVL(PSN.EFF_THRU_DT, #maxDt#) &gt;=  #slsDt#

        AND UNIT.EZCANCELFLAG          =  '0'
        AND STRU.EZCANCELFLAG          =  '0'
        AND BAO.EZCANCELFLAG           =  '0'
        AND RELN.EZCANCELFLAG          =  '0'
        AND PSN.EZCANCELFLAG           =  '0'
    </statement>

    <statement id="getOrgTier" parameterClass="Map" resultClass="String">
        SELECT 
            DOU.ORG_TIER_CD
        FROM
            DS_ORG_UNIT DOU
           ,ORG_STRU_TP STRU
        WHERE
            DOU.ORG_NM          LIKE #dsOrgNm#
        AND DOU.GLBL_CMPY_CD       = #glblCmpyCd#
        AND DOU.EZCANCELFLAG       = '0'
        AND STRU.ORG_STRU_TP_CD    = DOU.ORG_STRU_TP_CD
        AND STRU.GLBL_CMPY_CD      = DOU.GLBL_CMPY_CD
        AND STRU.TRTY_STRU_FLG     = 'N'
        AND STRU.EZCANCELFLAG      = '0'
    </statement>

    <statement id="getTrtyRule" parameterClass="Map" resultClass="BigDecimal">
        SELECT
            TR.TRTY_RULE_PK
        FROM
            DS_ORG_UNIT DOU
            ,ORG_STRU_TP OST
            ,TRTY_RULE TR
        WHERE
                DOU.GLBL_CMPY_CD = #glblCmpyCd#
            AND DOU.EZCANCELFLAG = '0'
            AND DOU.ORG_CD       = #orgCd#
            AND DOU.GNRN_TP_CD   = #gnrnTpCd#
        
            AND DOU.GLBL_CMPY_CD = OST.GLBL_CMPY_CD
            AND DOU.EZCANCELFLAG = OST.EZCANCELFLAG
            AND DOU.ORG_STRU_TP_CD = OST.ORG_STRU_TP_CD
            AND OST.TRTY_STRU_FLG = 'Y'
        
            AND DOU.GLBL_CMPY_CD = TR.GLBL_CMPY_CD
            AND DOU.EZCANCELFLAG = TR.EZCANCELFLAG
            AND DOU.ORG_CD       = TR.ORG_CD
            AND TR.TRTY_RULE_TP_CD = #ruleTpCd#
            AND TR.TRTY_RULE_FROM_VAL_TXT = #fromValTxt#
            AND TR.TRTY_RULE_OPRD_TP_CD = #oprdTpCd#
            AND TR.TRTY_RULE_LOGIC_TP_CD = #logicTpCd#
            AND TR.EFF_FROM_DT &lt;= #slsDt#
            AND NVL(TR.EFF_THRU_DT, #maxDt#) &gt;= #slsDt#
    </statement>

    <statement id="getCountTerritoryRule" parameterClass="Map" resultClass="Integer">
        SELECT
                  COUNT(TR.GLBL_CMPY_CD)    CNT
            FROM
                TRTY_RULE TR
            WHERE
                TR.GLBL_CMPY_CD             = #glblCmpyCd#
                AND TR.TRTY_RULE_TP_CD      = #trtyRuleTpCd#
                AND TR.ORG_STRU_TP_CD       = #orgStruTpCd#
                AND TR.EFF_FROM_DT         &lt;= #slsDt#
                AND (
                    TR.EFF_THRU_DT         &gt;= #slsDt#
                    OR TR.EFF_THRU_DT      IS NULL
                )
                AND TR.TRTY_RULE_FROM_VAL_TXT = #trtyRuleFromValTxt#    -- locNum
                AND TR.ORG_CD                 = #orgCd#
                AND TR.EZCANCELFLAG           = '0'
    </statement>

    <statement id="getCountTerritoryRuleLogicNotOR" parameterClass="Map" resultClass="Integer">
        SELECT
                  COUNT(TR.GLBL_CMPY_CD)    CNT
            FROM
                TRTY_RULE TR 
            WHERE
                TR.GLBL_CMPY_CD                 = #glblCmpyCd#
                AND TR.ORG_CD                   = #orgCd#
                AND TR.ORG_STRU_TP_CD           = #orgStruTpCd#
                AND TR.EFF_FROM_DT             &lt;= #slsDt#
                AND ( 
                    TR.EFF_THRU_DT             &gt;= #slsDt#
                    OR TR.EFF_THRU_DT          IS NULL
                ) 
                AND (
                    TR.TRTY_RULE_TP_CD          != #trtyRuleTpCd#
                    OR TR.TRTY_RULE_LOGIC_TP_CD != #trtyRuleLogicTpCd#
                )
                AND TR.EZCANCELFLAG             = '0'
    </statement>

</sqlMap>
