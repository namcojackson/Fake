<?xml version="1.0" encoding="UTF-8"?>

<sqlMap namespace="NLGL0010Query">

    <typeAlias alias="NLGL0010SMsg"         type="business.blap.NLGL0010.NLGL0010SMsg"/>
    <typeAlias alias="NLGL0010_ASMsg"       type="business.blap.NLGL0010.NLGL0010_ASMsg"/>
    <typeAlias alias="NLGL0010_BSMsg"       type="business.blap.NLGL0010.NLGL0010_BSMsg"/>
    <typeAlias alias="NLGL0010_CSMsg"       type="business.blap.NLGL0010.NLGL0010_CSMsg"/>
    <typeAlias alias="NLGL0010_DSMsg"       type="business.blap.NLGL0010.NLGL0010_DSMsg"/>
    <typeAlias alias="NLGL0010_ESMsg"       type="business.blap.NLGL0010.NLGL0010_ESMsg"/>
    <typeAlias alias="NLGL0010_FSMsg"       type="business.blap.NLGL0010.NLGL0010_FSMsg"/>
    <typeAlias alias="NLGL0010_GSMsg"       type="business.blap.NLGL0010.NLGL0010_GSMsg"/>
    <typeAlias alias="NLGL0010_HSMsg"       type="business.blap.NLGL0010.NLGL0010_HSMsg"/>
    <typeAlias alias="NLGL0010_OSMsg"       type="business.blap.NLGL0010.NLGL0010_OSMsg"/>
    <typeAlias alias="NLGL0010_ZSMsg"       type="business.blap.NLGL0010.NLGL0010_ZSMsg"/>
    <typeAlias alias="WMS_INBD_SO_HDRTMsg"  type="business.db.WMS_INBD_SO_HDRTMsg"/>
    <typeAlias alias="WMS_INBD_SO_DTLTMsg"  type="business.db.WMS_INBD_SO_DTLTMsg"/>
    <typeAlias alias="WMS_INBD_SO_TEXTTMsg" type="business.db.WMS_INBD_SO_TEXTTMsg"/>

    <statement id="getWHPullDownList" parameterClass="Map" resultClass="Map">
    SELECT
        DECODE(WH.WH_CD, #whAllVal#, #whAllSelval#, WH.WH_CD) WH_CD
       ,WH.WMS_DESC_NM                                        WMS_DESC_NM
    FROM
        WMS_WH WH
    WHERE
        WH.GLBL_CMPY_CD         = #glblCmpyCd#
    AND WH.WH_CD        &lt; &gt; #whAllVal#
    AND WH.MW_REPL_TRGT_GRP_CD   IS NOT NULL
    AND WH.EZCANCELFLAG         = '0'
    UNION
    SELECT DISTINCT
        LOC.WH_OWNR_CD          AS WH_CD
       ,OWN.WH_OWNR_DESC_TXT    AS WMS_DESC_NM
    FROM
        TPL_LOC    LOC
       ,WH_OWNR    OWN
    WHERE
        LOC.GLBL_CMPY_CD  = #glblCmpyCd#
    AND LOC.EZCANCELFLAG  = '0'
    AND LOC.GLBL_CMPY_CD  = OWN.GLBL_CMPY_CD
    AND LOC.WH_OWNR_CD    = OWN.WH_OWNR_CD
    AND OWN.EZCANCELFLAG  = '0'
    AND NOT EXISTS(
                SELECT
                    1
                FROM
                    RTL_WH RTL
                   ,WMS_WH WMS
                WHERE
                    RTL.GLBL_CMPY_CD = LOC.GLBL_CMPY_CD
                AND RTL.RTL_WH_CD    = LOC.TPL_LOC_CD
                AND RTL.EZCANCELFLAG = '0'
                AND RTL.GLBL_CMPY_CD = WMS.GLBL_CMPY_CD
                AND RTL.WMS_WH_CD    = WMS.WH_CD
                AND WMS.EZCANCELFLAG = '0'
                )
    ORDER BY
        WH_CD
    </statement>

    <statement id="getRetailWhNm" parameterClass="Map" resultClass="String">
    SELECT
        RWH.RTL_WH_DESC_TXT
    FROM
        RTL_WH RWH
    WHERE
        RWH.GLBL_CMPY_CD  = #glblCmpyCd#
    AND RWH.RTL_WH_CD     = #rtlWhCd#
    AND RWH.EZCANCELFLAG  = '0'
    AND EXISTS (
        SELECT
            1
        FROM
            WMS_WH  WW
           ,RTL_WH  RW
           ,WH_OWNR WO
        WHERE
            WW.GLBL_CMPY_CD = #glblCmpyCd#
        AND WW.EZCANCELFLAG = '0'
        AND WW.GLBL_CMPY_CD = RW.GLBL_CMPY_CD
        AND WW.WH_CD        = RW.WMS_WH_CD
        AND RW.EZCANCELFLAG = '0'
        AND RW.GLBL_CMPY_CD = WO.GLBL_CMPY_CD
        AND RW.WH_OWNR_CD   = WO.WH_OWNR_CD
        AND WO.EZCANCELFLAG = '0'
        UNION
        SELECT DISTINCT
            1
        FROM
            TPL_LOC TL
           ,WH_OWNR WO
           ,RTL_WH  RW
        WHERE
            TL.GLBL_CMPY_CD = #glblCmpyCd#
        AND TL.EZCANCELFLAG = '0'
        AND TL.GLBL_CMPY_CD = WO.GLBL_CMPY_CD
        AND TL.WH_OWNR_CD   = WO.WH_OWNR_CD
        AND WO.EZCANCELFLAG = '0'
        AND TL.GLBL_CMPY_CD = RW.GLBL_CMPY_CD
        AND TL.TPL_LOC_CD   = RW.RTL_WH_CD
        AND RW.EZCANCELFLAG = '0'
        AND NOT EXISTS (
            SELECT
                1
            FROM
                RTL_WH RL
               ,WMS_WH WW
            WHERE
                RL.GLBL_CMPY_CD = TL.GLBL_CMPY_CD
            AND RL.RTL_WH_CD    = TL.TPL_LOC_CD
            AND RL.EZCANCELFLAG = '0'
            AND RL.GLBL_CMPY_CD = WW.GLBL_CMPY_CD
            AND RL.WMS_WH_CD    = WW.WH_CD
            AND WW.EZCANCELFLAG = '0'))
    </statement>

    <statement id="getWmsOrdTpPullDownList" parameterClass="Map" resultClass="Map">
    SELECT
           SCE_ORD_TP_CD AS WMS_ORD_TP_CD
          ,SCE_ORD_TP_NM AS WMS_ORD_TP_NM
      FROM
           SCE_ORD_TP
     WHERE
           GLBL_CMPY_CD = #glblCmpyCd#
       AND INBD_OTBD_CD = #inbdOtbdCd#
       AND EZCANCELFLAG = '0'
     ORDER BY
           SCE_ORD_TP_SORT_NUM
    </statement>

    <statement id="getPackCdPullDownList" parameterClass="Map" resultClass="Map">
    SELECT DISTINCT
           <isNotEqual property="wmsPackCdSetOwnerCdFlg" compareValue="Y">
               RSW.RTL_WH_CD || RSW.RTL_SWH_CD    PACK_CD_TXT
           </isNotEqual>
           <isEqual property="wmsPackCdSetOwnerCdFlg" compareValue="Y">
               RTW.INVTY_OWNR_CD || RSW.RTL_SWH_CD PACK_CD_TXT
           </isEqual>
      FROM
           RTL_WH       RTW
          ,RTL_SWH      RSW
          ,WMS_WH       WH
     WHERE
           RTW.GLBL_CMPY_CD         =  #glblCmpyCd#
       <isNotNull property="rtlWhCd">
       AND RTW.RTL_WH_CD            = #rtlWhCd#
       </isNotNull>
       AND RTW.WMS_WH_CD IS NOT NULL
       AND RTW.EZCANCELFLAG         =  '0'
       AND WH.GLBL_CMPY_CD          =  RTW.GLBL_CMPY_CD
       AND WH.WH_CD                 =  RTW.WMS_WH_CD
       AND WH.MW_REPL_TRGT_GRP_CD   IS NOT NULL
       AND WH.EZCANCELFLAG          =  '0'
       AND RSW.GLBL_CMPY_CD         =  RTW.GLBL_CMPY_CD
       AND RSW.RTL_WH_CD            =  RTW.RTL_WH_CD
       AND RSW.EZCANCELFLAG         =  '0'
     ORDER BY
           PACK_CD_TXT
    </statement>

    <statement id="getSOList" parameterClass="Map" resultMap="result.NLGL0010_ASMsg">
    SELECT
           SOL.WMS_SQ_NUM
          ,SOL.WMS_PRINT_DT_TM_TS
          ,SOL.WMS_SO_ID
          ,SOL.CONSL_SO_ID
          ,SOL.WMS_CONSL_FLG
          ,SOL.WMS_ORD_NUM
          ,SOL.ALT_DOC_NUM
          ,SOL.SCE_ORD_TP_CD
          ,SOL.WMS_TRX_CD
          ,SOL.IND_ASN_FLG
          ,SOL.SO_SHIP_VIA_CD
          ,SOL.FRT_OUT_CD
          ,SOL.WH_CD
          ,SOL.EST_SHIP_DT_TM_TS
          ,SOL.WMS_RQST_DT_TM_TS
          ,SOL.CUST_ORD_NUM
          ,SOL.CHRG_TO_CUST_CD
          ,SOL.SHIP_TO_CUST_CD
          ,SOL.WMS_RESRC_TXT
          ,SOL.TOT_SHIP_PRC_AMT_NUM
          ,SOL.WMS_SHIP_TO_NM_01
          ,SOL.FIRST_LINE_ADDR
          ,SOL.CTY_ADDR
          ,SOL.ST_CD
          ,SOL.POST_CD
          ,SOL.STATUS
          ,SOL.TOT_WT_AMT_NUM
          ,SOL.SHIP_DT_TM_TS
          ,SOL.WMS_CANC_DT_TM_TS
          ,SOL.COMMENT_TXT
          ,(
            SELECT
                   #procStsCdError#
              FROM
                   WMS_INBD_TRX WIT
             WHERE
                   WIT.GLBL_CMPY_CD       = #glblCmpyCd#
               <isNotNull property="whCd">
               AND WIT.WH_CD              = #whCd#
               </isNotNull>
               AND (SOL.WMS_SO_ID         = WIT.OTBD_ORD_NUM
                OR SOL.WMS_SO_ID          = WIT.INBD_ORD_NUM)
               AND (WIT.INTFC_PROC_STS_CD = #procStsCdError#
                OR WIT.PROC_STS_CD        = #procStsCdError#)
               AND WIT.EZCANCELFLAG       = '0'
               AND ROWNUM = 1
           ) PROC_STS_CD
           ,SOL.RTL_WH_CD
           ,SOL.INVTY_OWNR_CD
           ,SOL.SCHD_DELY_DT
           ,SOL.CARR_CD
           ,SOL.SHPG_SVC_LVL_CD
           ,SOL.RTRN_ITEM_INCL_FLG
           ,SOL.SVC_CONFIG_MSTR_PK
           ,SOL.ASM_REQ_FLG
      FROM (
            SELECT
                   WISH.WMS_SQ_NUM
                  ,WISH.WMS_PRINT_DT_TM_TS
                  ,WISH.WMS_SO_ID
                  ,WISH.CONSL_SO_ID
                  ,WISH.WMS_CONSL_FLG
                  ,WISH.WMS_ORD_NUM
                  ,WISH.ALT_DOC_NUM
                  ,SO.SCE_ORD_TP_CD
                  ,WISH.WMS_TRX_CD
                  ,WISH.IND_ASN_FLG
                  ,WISH.SO_SHIP_VIA_CD
                  ,WISH.FRT_OUT_CD
                  ,WISH.WH_CD
                  ,WISH.EST_SHIP_DT_TM_TS
                  ,WISH.WMS_RQST_DT_TM_TS
                  ,WISH.CUST_ORD_NUM
                  ,WISH.CHRG_TO_CUST_CD
                  ,WISH.SHIP_TO_CUST_CD
                  ,WISH.WMS_RESRC_TXT
                  ,WISH.TOT_SHIP_PRC_AMT_NUM
                  ,WISST.WMS_SHIP_TO_NM_01
                  ,WISST.FIRST_LINE_ADDR
                  ,WISST.CTY_ADDR
                  ,WISST.ST_CD
                  ,WISST.POST_CD
                  ,CASE
                        WHEN WISH.SHIP_DT_TM_TS IS NULL THEN (
                            SELECT
                                   WMS_ORD_STS_CD
                              FROM
                                   WMS_INBD_TRX WIT
                             WHERE
                                   WIT.GLBL_CMPY_CD    = WISH.GLBL_CMPY_CD
                               AND WIT.WH_CD           = WISH.WH_CD
                               AND WIT.OTBD_ORD_NUM    = WISH.WMS_SO_ID
                               AND WIT.WMS_TASK_CD     = #wmsTaskCdOsc#
                               AND WIT.EZCANCELFLAG    = '0'
                               AND WIT.WMS_INBD_TRX_PK = (
                                       SELECT
                                              MAX(WIT2.WMS_INBD_TRX_PK)
                                         FROM
                                              WMS_INBD_TRX WIT2
                                        WHERE
                                              WIT2.GLBL_CMPY_CD = WIT.GLBL_CMPY_CD
                                          AND WIT2.WMS_TASK_CD  = WIT.WMS_TASK_CD
                                          AND WIT2.WH_CD        = WIT.WH_CD
                                          AND WIT2.OTBD_ORD_NUM = WIT.OTBD_ORD_NUM
                                          AND WIT2.EZCANCELFLAG = '0'
                                   )
                        )
                        ELSE #wmsOrdSts#
                   END STATUS
                  ,(
                    SELECT
                           SUM(WISD2.TOT_WT_AMT_NUM)
                      FROM
                           WMS_INBD_SO_DTL WISD2
                     WHERE
                           WISD2.GLBL_CMPY_CD = WISH.GLBL_CMPY_CD
                       AND WISD2.WH_CD        = WISH.WH_CD
                       AND WISD2.WMS_SO_ID    = WISH.WMS_SO_ID
                       AND WISD2.WMS_SQ_NUM   = WISH.WMS_SQ_NUM
                       AND WISD2.EZCANCELFLAG = '0'
                   ) TOT_WT_AMT_NUM
                  ,WISH.SHIP_DT_TM_TS
                  ,WISH.WMS_CANC_DT_TM_TS
                  ,RTRIM(DECODE(WIST.INBD_SO_MSG_TXT_01, NULL, '', WIST.INBD_SO_MSG_TXT_01 || ',')
                      || DECODE(WIST.INBD_SO_MSG_TXT_02, NULL, '', WIST.INBD_SO_MSG_TXT_02 || ',')
                      || DECODE(WIST.INBD_SO_MSG_TXT_03, NULL, '', WIST.INBD_SO_MSG_TXT_03 || ',')
                      || WIST.INBD_SO_MSG_TXT_04, ',') COMMENT_TXT
                  ,WISH.RTL_WH_CD
                  ,RWH.INVTY_OWNR_CD
                  ,WISH.SCHD_DELY_DT
                  ,WISH.CARR_CD
                  ,WISH.SHPG_SVC_LVL_CD
                  ,WISH.RTRN_ITEM_INCL_FLG
                  ,WISH.SVC_CONFIG_MSTR_PK
                  ,WISH.ASM_REQ_FLG
              FROM
                   WMS_INBD_SO_HDR     WISH
                  ,WMS_INBD_SO_SHIP_TO WISST
                  ,WMS_INBD_SO_TEXT    WIST
                  ,WMS_TRX             WT
                  ,RTL_WH              RWH
                  ,SHPG_ORD            SO
             WHERE
                   WISH.GLBL_CMPY_CD      = WISST.GLBL_CMPY_CD
               AND WISH.WMS_SO_ID         = WISST.WMS_SO_ID
               AND WISH.WMS_SQ_NUM        = WISST.WMS_SQ_NUM
               AND WISH.WH_CD             = WISST.WH_CD
               AND WISH.GLBL_CMPY_CD      = WIST.GLBL_CMPY_CD(+)
               AND WISH.WH_CD             = WIST.WH_CD(+)
               AND WISH.WMS_SO_ID         = WIST.WMS_SO_ID(+)
               AND WISH.WMS_SQ_NUM        = WIST.WMS_SQ_NUM(+)
               AND WIST.WMS_TXT_CD(+)     = #wmsTxtCd#
               AND WISH.GLBL_CMPY_CD      = WT.GLBL_CMPY_CD(+)
               AND WISH.WMS_TRX_CD        = WT.WMS_TRX_CD(+)
               AND WISH.GLBL_CMPY_CD      = SO.GLBL_CMPY_CD
               AND WISH.WMS_SO_ID         = SO.SO_NUM
               <isNotNull property="wmsMdseCd">
               AND EXISTS (
                    SELECT
                           *
                      FROM
                           WMS_INBD_SO_DTL WISD
                     WHERE
                           WISD.GLBL_CMPY_CD = WISH.GLBL_CMPY_CD
                       AND WISD.WMS_SO_ID    = WISH.WMS_SO_ID
                       AND WISD.WMS_MDSE_CD  = #wmsMdseCd#
                       AND WISD.EZCANCELFLAG = '0'
                   )
               </isNotNull>
               <isEqual property="condWmsInbdTrx" compareValue="Y">
               AND EXISTS (
                    SELECT
                           *
                      FROM
                           WMS_INBD_TRX WIT
                     WHERE
                           WIT.GLBL_CMPY_CD = WISH.GLBL_CMPY_CD
                       <isNotNull property="wmsShipId">
                       AND WIT.WMS_SHIP_ID  = #wmsShipId#
                       </isNotNull>
                       <isNotNull property="bolNum">
                       AND WIT.BOL_NUM      = #bolNum#
                       </isNotNull>
                       <isNotNull property="wmsWaveId">
                       AND WIT.WMS_WAVE_ID  = #wmsWaveId#
                       </isNotNull>
                       AND WISH.WMS_SO_ID = NVL(WIT.OTBD_ORD_NUM,WIT.INBD_ORD_NUM)
                       AND WIT.EZCANCELFLAG = '0'
                   )
               </isEqual>
               AND WISH.EZCANCELFLAG      = '0'
               AND WISST.EZCANCELFLAG     = '0'
               AND WIST.EZCANCELFLAG(+)   = '0'
               AND WT.EZCANCELFLAG(+)     = '0'
               AND SO.EZCANCELFLAG        = '0'
               AND WISH.GLBL_CMPY_CD      = #glblCmpyCd#
               <isNotNull property="whCd">
               AND (WISH.WH_CD            = #whCd#
                    OR WISH.WH_CD         IN (
                        SELECT
                            TL.TPL_LOC_CD
                        FROM
                            TPL_LOC TL
                        WHERE
                            TL.GLBL_CMPY_CD = #glblCmpyCd#
                        AND TL.WH_OWNR_CD   = #whCd#
                        AND TL.EZCANCELFLAG = '0'
                        )
                    )
               </isNotNull>
               <isNotNull property="wmsSoId">
               AND WISH.WMS_SO_ID         = #wmsSoId#
               </isNotNull>
               <isNotNull property="custOrdNm">
               AND WISH.CUST_ORD_NUM      = #custOrdNm#
               </isNotNull>
               <isEqual property="dateEntryL14If" compareValue="1">
               AND ( SUBSTR(WISH.EST_SHIP_DT_TM_TS,1,8)  BETWEEN #xxSoSrchFromDt# AND #xxSoSrchThruDt# )
               </isEqual>
               <isEqual property="dateEntryL14If" compareValue="2">
               AND ( SUBSTR(WISH.WMS_RQST_DT_TM_TS,1,8)  BETWEEN #xxSoSrchFromDt# AND #xxSoSrchThruDt# )
               </isEqual>
               <isEqual property="dateEntryL14If" compareValue="4">
               AND ( SUBSTR(WISH.WMS_PRINT_DT_TM_TS,1,8) BETWEEN #xxSoSrchFromDt# AND #xxSoSrchThruDt# )
               </isEqual>
               <isEqual property="dateEntryL14If" compareValue="3">
               AND ( SUBSTR(WISH.CRAT_DT_TM_TS,1,8)      BETWEEN #xxSoSrchFromDt# AND #xxSoSrchThruDt# )
               </isEqual>
               <isNotNull property="sceOrdTpCd">
               AND SO.SCE_ORD_TP_CD     = #sceOrdTpCd#
               </isNotNull>
               <isNotNull property="wmsFrtOutCd">
               AND WISH.FRT_OUT_CD        = #wmsFrtOutCd#
               </isNotNull>
               <isNotNull property="shipToCustCd">
               AND WISH.SHIP_TO_CUST_CD   = #shipToCustCd#
               </isNotNull>
               <isNotNull property="billToCustCd">
               AND WISH.BILL_TO_CUST_CD   = #billToCustCd#
               </isNotNull>
               <isNotNull property="wmsTrxCd">
               AND WISH.WMS_TRX_CD        = #wmsTrxCd#
               </isNotNull>
               <isNotNull property="wmsShipViaTpCd">
               AND WISH.SO_SHIP_VIA_CD    = #wmsShipViaTpCd#
               </isNotNull>
               <isEqual property="xxChkBox" compareValue="Y">
               AND (WISH.SHIP_DT_TM_TS    IS NOT NULL
                        OR  WISH.WMS_CANC_DT_TM_TS IS NOT NULL)
               </isEqual>
               <isNotEqual property="xxChkBox" compareValue="Y">
               AND (WISH.SHIP_DT_TM_TS    IS NULL
                        AND WISH.WMS_CANC_DT_TM_TS IS NULL)
               </isNotEqual>
               AND RWH.GLBL_CMPY_CD       = WISH.GLBL_CMPY_CD
               AND RWH.RTL_WH_CD          = WISH.RTL_WH_CD
               AND RWH.EZCANCELFLAG       = '0'
               <isNotNull property="rtlWhCd">
               AND WISH.RTL_WH_CD         = #rtlWhCd#
               </isNotNull>
               <isNotNull property="invtyOwnrCd">
               AND RWH.INVTY_OWNR_CD      = #invtyOwnrCd#
               </isNotNull>
             ORDER BY
                   WISH.WMS_PRINT_DT_TM_TS
                  ,WISH.SHIP_TO_CUST_CD
                  ,WISST.POST_CD
                  ,WISH.CUST_ORD_NUM
                  ,WISH.WMS_ORD_NUM
                  ,WISH.ALT_DOC_NUM
                  ,WISH.WMS_SO_ID
         ) SOL
     WHERE
           ROWNUM &lt;= #rownum#
    </statement>

    <resultMap id="result.NLGL0010_ASMsg" class="NLGL0010_ASMsg">
        <result property="wmsSqNum_A1"         column="WMS_SQ_NUM"            javaType="EZDSStringItem"/>
        <result property="whCd_A1"             column="WH_CD"                 javaType="EZDSStringItem"/>
        <result property="wmsPrintDtTmTs_A1"   column="WMS_PRINT_DT_TM_TS"    javaType="EZDSStringItem"/>
        <result property="wmsSoId_A1"          column="WMS_SO_ID"             javaType="EZDSStringItem"/>
        <result property="conslSoId_A1"        column="CONSL_SO_ID"           javaType="EZDSStringItem"/>
        <result property="wmsConslFlg_A1"      column="WMS_CONSL_FLG"         javaType="EZDSStringItem"/>
        <result property="wmsOrdNum_A1"        column="WMS_ORD_NUM"           javaType="EZDSStringItem"/>
        <result property="altDocNum_A1"        column="ALT_DOC_NUM"           javaType="EZDSStringItem"/>
        <result property="sceOrdTpCd_A1"       column="SCE_ORD_TP_CD"         javaType="EZDSStringItem"/>
        <result property="wmsTrxCd_A1"         column="WMS_TRX_CD"            javaType="EZDSStringItem"/>
        <result property="indAsnFlg_A1"        column="IND_ASN_FLG"           javaType="EZDSStringItem"/>
        <result property="soShipViaCd_A1"      column="SO_SHIP_VIA_CD"        javaType="EZDSStringItem"/>
        <result property="frtOutCd_A1"         column="FRT_OUT_CD"            javaType="EZDSStringItem"/>
        <result property="estShipDtTmTs_A1"    column="EST_SHIP_DT_TM_TS"     javaType="EZDSStringItem"/>
        <result property="wmsRqstDtTmTs_A1"    column="WMS_RQST_DT_TM_TS"     javaType="EZDSStringItem"/>
        <result property="custOrdNum_A1"       column="CUST_ORD_NUM"          javaType="EZDSStringItem"/>
        <result property="chrgToCustCd_A1"     column="CHRG_TO_CUST_CD"       javaType="EZDSStringItem"/>
        <result property="shipToCustCd_A1"     column="SHIP_TO_CUST_CD"       javaType="EZDSStringItem"/>
        <result property="wmsResrcTxt_A1"      column="WMS_RESRC_TXT"         javaType="EZDSStringItem"/>
        <result property="totShipPrcAmtNum_A1" column="TOT_SHIP_PRC_AMT_NUM"  javaType="EZDSStringItem"/>
        <result property="wmsShipToNm_A1"      column="WMS_SHIP_TO_NM_01"     javaType="EZDSStringItem"/>
        <result property="firstLineAddr_A1"    column="FIRST_LINE_ADDR"       javaType="EZDSStringItem"/>
        <result property="ctyAddr_A1"          column="CTY_ADDR"              javaType="EZDSStringItem"/>
        <result property="stCd_A1"             column="ST_CD"                 javaType="EZDSStringItem"/>
        <result property="postCd_A1"           column="POST_CD"               javaType="EZDSStringItem"/>
        <result property="wmsStsCd_A1"         column="STATUS"                javaType="EZDSStringItem"/>
        <result property="totWtAmtNum_A1"      column="TOT_WT_AMT_NUM"        javaType="EZDSStringItem"/>
        <result property="shipDtTmTs_A1"       column="SHIP_DT_TM_TS"         javaType="EZDSStringItem"/>
        <result property="wmsCancDtTmTs_A1"    column="WMS_CANC_DT_TM_TS"     javaType="EZDSStringItem"/>
        <result property="xxMsgTxt_A1"         column="COMMENT_TXT"           javaType="EZDSStringItem"/>
        <result property="procStsCd_A1"        column="PROC_STS_CD"           javaType="EZDSStringItem"/>
        <result property="intfcProcStsCd_A1"   column="INTFC_PROC_STS_CD"     javaType="EZDSStringItem"/>
        <result property="rtlWhCd_A1"          column="RTL_WH_CD"             javaType="EZDSStringItem"/>
        <result property="invtyOwnrCd_A1"      column="INVTY_OWNR_CD"         javaType="EZDSStringItem"/>
        <result property="schdDelyDt_A1"       column="SCHD_DELY_DT"          javaType="EZDSStringItem"/>
        <result property="carrCd_A1"           column="CARR_CD"               javaType="EZDSStringItem"/>
        <result property="shpgSvcLvlCd_A1"     column="SHPG_SVC_LVL_CD"       javaType="EZDSStringItem"/>
        <result property="rtrnItemInclFlg_A1"  column="RTRN_ITEM_INCL_FLG"    javaType="EZDSStringItem"/>
        <result property="svcConfigMstrPk_A1"  column="SVC_CONFIG_MSTR_PK"    javaType="EZDSBigDecimalItem"/>
        <result property="asmReqFlg_A1"        column="ASM_REQ_FLG"           javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSOHdr" parameterClass="Map" resultMap="result.NLGL0010_BSMsg">
    SELECT
           WISH.WMS_SO_ID
          ,SHO.SCE_ORD_TP_CD
          ,WISH.WMS_ORD_NUM
          ,WISH.ALT_DOC_NUM
          ,WISH.WMS_PRINT_DT_TM_TS
          ,WISH.WMS_RQST_DT_TM_TS
          ,WISH.EST_SHIP_DT_TM_TS
          ,WISH.SHIP_TO_CUST_CD
          ,WISH.CHRG_TO_CUST_CD
          ,WISH.CUST_ORD_NUM
          ,WISH.FRT_OUT_CD
          ,WISH.SO_SHIP_VIA_CD
          ,WISH.WMS_TRX_CD
          ,WISH.WMS_DEPT_CD
          ,WISH.IND_ASN_FLG
          ,WISH.IND_SCC14_FLG
          ,WISH.IND_UCC_FLG
          ,WISH.WMS_CONSL_FLG
          ,WISH.CONSL_SO_ID
          ,WISH.TOT_SHIP_PRC_AMT_NUM
          ,WISH.WMS_ORD_SRC_CD
          ,WISH.SHIP_DT_TM_TS
          ,WISH.WMS_CANC_DT_TM_TS
          ,WISH.ASG_SHIP_VIA_CD
          ,WISH.ASG_PRTY_CD
          ,WISH.IND_SGN_REQ_FLG
          ,WISH.RTRN_LB_CD
          ,WISH.RTL_WH_CD
          ,RWH.INVTY_OWNR_CD
          ,WISH.SCHD_DELY_DT
          ,WISH.CARR_CD
          ,WISH.SHPG_SVC_LVL_CD
          ,WISH.RTRN_ITEM_INCL_FLG
          ,WISH.SVC_CONFIG_MSTR_PK
          ,WISH.ASM_REQ_FLG
      FROM
           WMS_INBD_SO_HDR     WISH
          ,WMS_INBD_SO_SHIP_TO WISST
          ,RTL_WH              RWH
          ,SHPG_ORD            SHO
     WHERE
           WISH.GLBL_CMPY_CD  = WISST.GLBL_CMPY_CD
       AND WISH.WMS_SO_ID     = WISST.WMS_SO_ID
       AND WISH.WMS_SQ_NUM    = WISST.WMS_SQ_NUM
       AND WISH.WH_CD         = WISST.WH_CD
       AND WISH.GLBL_CMPY_CD  = #glblCmpyCd#
       <isNotNull property="whCd">
       AND WISH.WH_CD         = #whCd#
       </isNotNull>
       <isNotNull property="wmsSoId">
       AND WISH.WMS_SO_ID     = #wmsSoId#
       </isNotNull>
       <isNotNull property="wmsSqNum">
       AND WISH.WMS_SQ_NUM    = #wmsSqNum#
       </isNotNull>
       <isNotNull property="wmsOrdTpCd">
       AND SHO.SCE_ORD_TP_CD = #wmsOrdTpCd#
       </isNotNull>
       AND WISH.EZCANCELFLAG  = '0'
       AND RWH.GLBL_CMPY_CD   = WISH.GLBL_CMPY_CD
       AND RWH.RTL_WH_CD      = WISH.RTL_WH_CD
       AND WISH.GLBL_CMPY_CD  = SHO.GLBL_CMPY_CD
       AND WISH.WMS_SO_ID     = SHO.SO_NUM
       AND RWH.EZCANCELFLAG   = '0'
    </statement>

    <resultMap id="result.NLGL0010_BSMsg" class="NLGL0010_BSMsg">
        <result property="wmsSoId_B1"          column="WMS_SO_ID"            javaType="EZDSStringItem"/>
        <result property="fill40Txt_B1"        column="SCE_ORD_TP_CD"        javaType="EZDSStringItem"/>
        <result property="wmsOrdNum_B1"        column="WMS_ORD_NUM"          javaType="EZDSStringItem"/>
        <result property="altDocNum_B1"        column="ALT_DOC_NUM"          javaType="EZDSStringItem"/>
        <result property="wmsPrintDtTmTs_B1"   column="WMS_PRINT_DT_TM_TS"   javaType="EZDSStringItem"/>
        <result property="estShipDtTmTs_B1"    column="EST_SHIP_DT_TM_TS"    javaType="EZDSStringItem"/>
        <result property="wmsRqstDtTmTs_B1"    column="WMS_RQST_DT_TM_TS"    javaType="EZDSStringItem"/>
        <result property="shipToCustCd_B1"     column="SHIP_TO_CUST_CD"      javaType="EZDSStringItem"/>
        <result property="chrgToCustCd_B1"     column="CHRG_TO_CUST_CD"      javaType="EZDSStringItem"/>
        <result property="custOrdNum_B1"       column="CUST_ORD_NUM"         javaType="EZDSStringItem"/>
        <result property="frtOutCd_B1"         column="FRT_OUT_CD"           javaType="EZDSStringItem"/>
        <result property="soShipViaCd_B1"      column="SO_SHIP_VIA_CD"       javaType="EZDSStringItem"/>
        <result property="ediTrnspTpCd_B1"     column="WMS_TRX_CD"           javaType="EZDSStringItem"/>
        <result property="wmsDeptCd_B1"        column="WMS_DEPT_CD"          javaType="EZDSStringItem"/>
        <result property="indAsnFlg_B1"        column="IND_ASN_FLG"          javaType="EZDSStringItem"/>
        <result property="indScc14Flg_B1"      column="IND_SCC14_FLG"        javaType="EZDSStringItem"/>
        <result property="indUccFlg_B1"        column="IND_UCC_FLG"          javaType="EZDSStringItem"/>
        <result property="wmsConslFlg_B1"      column="WMS_CONSL_FLG"        javaType="EZDSStringItem"/>
        <result property="conslSoId_B1"        column="CONSL_SO_ID"          javaType="EZDSStringItem"/>
        <result property="totShipPrcAmtNum_B1" column="TOT_SHIP_PRC_AMT_NUM" javaType="EZDSStringItem"/>
        <result property="wmsResrcTxt_B1"      column="WMS_ORD_SRC_CD"       javaType="EZDSStringItem"/>
        <result property="shipDtTmTs_B1"       column="SHIP_DT_TM_TS"        javaType="EZDSStringItem"/>
        <result property="wmsCancDtTmTs_B1"    column="WMS_CANC_DT_TM_TS"    javaType="EZDSStringItem"/>
        <result property="asgShipViaCd_B1"     column="ASG_SHIP_VIA_CD"      javaType="EZDSStringItem"/>
        <result property="asgPrtyCd_B1"        column="ASG_PRTY_CD"          javaType="EZDSStringItem"/>
        <result property="indSgnReqFlg_B1"     column="IND_SGN_REQ_FLG"      javaType="EZDSStringItem"/>
        <result property="rtrnLbCd_B1"         column="RTRN_LB_CD"           javaType="EZDSStringItem"/>
        <result property="rtlWhCd_B1"          column="RTL_WH_CD"            javaType="EZDSStringItem"/>
        <result property="invtyOwnrCd_B1"      column="INVTY_OWNR_CD"        javaType="EZDSStringItem"/>
        <result property="schdDelyDt_B1"       column="SCHD_DELY_DT"         javaType="EZDSStringItem"/>
        <result property="carrCd_B1"           column="CARR_CD"              javaType="EZDSStringItem"/>
        <result property="shpgSvcLvlCd_B1"     column="SHPG_SVC_LVL_CD"      javaType="EZDSStringItem"/>
        <result property="rtrnItemInclFlg_B1"  column="RTRN_ITEM_INCL_FLG"   javaType="EZDSStringItem"/>
        <result property="svcConfigMstrPk_B1"  column="SVC_CONFIG_MSTR_PK"   javaType="EZDSBigDecimalItem"/>
        <result property="asmReqFlg_B1"        column="ASM_REQ_FLG"          javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSODtlAddr" parameterClass="Map" resultMap="result.NLGL0010_CSMsg">
    SELECT
           WISSP.WMS_SHIP_TO_NM_01   WMS_SHIP_TO_NM_01
          ,WISSP.WMS_SHIP_TO_NM_02   WMS_SHIP_TO_NM_02
          ,WISSP.WMS_SHIP_TO_CTAC_NM WMS_SHIP_TO_CTAC_NM
          ,WISSP.FIRST_LINE_ADDR || ',' || WISSP.SCD_LINE_ADDR || ',' || WISSP.THIRD_LINE_ADDR || ',' || WISSP.FRTH_LINE_ADDR FILLER_L250_IF
          ,WISSP.FIRST_LINE_ADDR
          ,WISSP.SCD_LINE_ADDR
          ,WISSP.THIRD_LINE_ADDR
          ,WISSP.FRTH_LINE_ADDR
          ,WISSP.CTY_ADDR
          ,WISSP.ST_CD
          ,WISSP.POST_CD
          ,WISSP.SHIP_TO_CTAC_NUM
      FROM
           WMS_INBD_SO_HDR     WISH
          ,WMS_INBD_SO_SHIP_TO WISSP
     WHERE
           WISH.GLBL_CMPY_CD  = WISSP.GLBL_CMPY_CD
       AND WISH.WMS_SO_ID     = WISSP.WMS_SO_ID
       AND WISH.WMS_SQ_NUM    = WISSP.WMS_SQ_NUM
       AND WISH.EZCANCELFLAG  = '0'
       AND WISSP.EZCANCELFLAG = '0'
       AND WISH.GLBL_CMPY_CD  = #glblCmpyCd#
       AND WISH.WH_CD         = #whCd#
       AND WISH.WMS_SO_ID     = #wmsSoId#
       AND WISH.WMS_SQ_NUM    = #wmsSqNum#
    </statement>

    <resultMap id="result.NLGL0010_CSMsg" class="NLGL0010_CSMsg">
        <result property="wmsShipToNm_C1"     column="WMS_SHIP_TO_NM_01"   javaType="EZDSStringItem"/>
        <result property="wmsShipToNm_C2"     column="WMS_SHIP_TO_NM_02"   javaType="EZDSStringItem"/>
        <result property="wmsShipToCtacNm_C1" column="WMS_SHIP_TO_CTAC_NM" javaType="EZDSStringItem"/>
        <result property="fill256Txt_C1"      column="FILLER_L250_IF"      javaType="EZDSStringItem"/>
        <result property="firstLineAddr_C1"   column="FIRST_LINE_ADDR"     javaType="EZDSStringItem"/>
        <result property="scdLineAddr_C1"     column="SCD_LINE_ADDR"       javaType="EZDSStringItem"/>
        <result property="thirdLineAddr_C1"   column="THIRD_LINE_ADDR"     javaType="EZDSStringItem"/>
        <result property="frthLineAddr_C1"    column="FRTH_LINE_ADDR"      javaType="EZDSStringItem"/>
        <result property="ctyAddr_C1"         column="CTY_ADDR"            javaType="EZDSStringItem"/>
        <result property="stCd_C1"            column="ST_CD"               javaType="EZDSStringItem"/>
        <result property="postCd_C1"          column="POST_CD"             javaType="EZDSStringItem"/>
        <result property="shipToCtacNum_C1"   column="SHIP_TO_CTAC_NUM"    javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSODtlInstn" parameterClass="Map" resultMap="result.NLGL0010_DSMsg">
    SELECT
           WIST.INBD_SO_MSG_TXT_01 || ',' || WIST.INBD_SO_MSG_TXT_02 || ',' || WIST.INBD_SO_MSG_TXT_03 || ',' || WIST.INBD_SO_MSG_TXT_04 SHIP_INSTN
          ,WIST.INBD_SO_MSG_TXT_01
          ,WIST.INBD_SO_MSG_TXT_02
          ,WIST.INBD_SO_MSG_TXT_03
          ,WIST.INBD_SO_MSG_TXT_04
      FROM
           WMS_INBD_SO_HDR  WISH
          ,WMS_INBD_SO_TEXT WIST
     WHERE
           WISH.GLBL_CMPY_CD = WIST.GLBL_CMPY_CD
       AND WISH.WMS_SO_ID    = WIST.WMS_SO_ID
       AND WISH.WMS_SQ_NUM   = WIST.WMS_SQ_NUM
       AND WISH.GLBL_CMPY_CD = #glblCmpyCd#
       AND WISH.WH_CD        = #whCd#
       AND WISH.WMS_SO_ID    = #wmsSoId#
       AND WISH.WMS_SQ_NUM   = #wmsSqNum#
    </statement>

    <resultMap id="result.NLGL0010_DSMsg" class="NLGL0010_DSMsg">
        <result property="xxMsgTxt_D1"     column="SHIP_INSTN"         javaType="EZDSStringItem"/>
        <result property="inbdSoMsgTxt_D1" column="INBD_SO_MSG_TXT_01" javaType="EZDSStringItem"/>
        <result property="inbdSoMsgTxt_D2" column="INBD_SO_MSG_TXT_02" javaType="EZDSStringItem"/>
        <result property="inbdSoMsgTxt_D3" column="INBD_SO_MSG_TXT_03" javaType="EZDSStringItem"/>
        <result property="inbdSoMsgTxt_D4" column="INBD_SO_MSG_TXT_04" javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSODtlDtl" parameterClass="Map" resultMap="result.NLGL0010_ESMsg">
    SELECT
           DTL.WMS_LINE_NUM                      WMS_LINE_NUM
          ,DTL.WMS_MDSE_CD                       WMS_MDSE_CD
          ,DTL.S80_STK_STS_CD                    S80_STK_STS_CD
          ,DTL.S80_STK_STS_CD_TO_CD              S80_STK_STS_CD_TO_CD
          ,WIM.WMS_MDSE_DESC_TXT_01              MDSE_DESC_TXT_01
          ,DTL.WMS_SHIP_QTY                      WMS_SHIP_QTY
          ,DTL.IND_SER_ID                        IND_SER_ID
          ,DTL.MDSE_CD_SET_CD                    MDSE_CD_SET_CD
          ,DTL.SHIP_SET_QTY                      SHIP_SET_QTY
          ,DTL.CUST_MDSE_CD                      CUST_MDSE_CD
          ,DTL.ORIG_SO_ID                        ORIG_SO_ID
          ,DTL.ORIG_LINE_NUM                     ORIG_LINE_NUM
          ,DTL.TOT_WT_AMT_NUM                    TOT_WT_AMT_NUM
          ,DTL.TOT_VOL_AMT_NUM                   TOT_VOL_AMT_NUM
          ,WIM.UNIT_CRTN_QTY                      UNIT_CRTN_QTY
          ,WIM.UNIT_PLT_QTY                       UNIT_PLT_QTY
          ,NVL(DTL.EST_CSE_AMT_NUM, DECODE(WIM.UNIT_CRTN_QTY, 0, 0, ROUND(DTL.WMS_SHIP_QTY/UNIT_CRTN_QTY, 2))) EST_CASE
          ,NVL(DTL.EST_PLT_AMT_NUM, DECODE(WIM.UNIT_PLT_QTY,  0, 0, ROUND(DTL.WMS_SHIP_QTY/UNIT_PLT_QTY,  2))) EST_PLT
          ,WIMU.WMS_UPC_CD                        WMS_UPC_CD
          ,WIM.MNF_MDSE_NUM_01 || WIM.MNF_MDSE_NUM_02 NMFC
          ,WIM.WMS_MNF_CLS_NUM                    WMS_MNF_CLS_NUM
          ,SUM(NVL(DTL.EST_CSE_AMT_NUM, DECODE(WIM.UNIT_CRTN_QTY, 0, 0, ROUND(DTL.WMS_SHIP_QTY/UNIT_CRTN_QTY, 2)))) over() EST_TOT_CASE
          ,SUM(NVL(DTL.EST_PLT_AMT_NUM, DECODE(WIM.UNIT_PLT_QTY,  0, 0, ROUND(DTL.WMS_SHIP_QTY/UNIT_PLT_QTY,  2)))) over() EST_TOT_PLT
          ,DTL.PACK_CD_TXT
          ,DTL.SVC_CONFIG_MSTR_PK
          ,DTL.BACK_ORD_FLG
          ,DTL.BACK_ORD_IMPCT_TP_CD	
          ,DTL.RMV_CONFIG_FLG
          ,DTL.IND_CONFIG_FLG
          ,(SELECT MIN(S.SER_NUM)
            FROM   SO_SER     S
            WHERE  S.GLBL_CMPY_CD = DTL.GLBL_CMPY_CD
            AND    S.SO_NUM       = DTL.WMS_SO_ID
            AND    S.SO_SLP_NUM   = LPAD(TO_CHAR(DTL.WMS_LINE_NUM), 3, '0')
            AND    S.EZCANCELFLAG = '0'
           ) SER_NUM
           ,MDSE.MDSE_DESC_SHORT_TXT
           ,MDSE.UPC_CD
      FROM
           WMS_INBD_MDSE     WIM
          ,WMS_INBD_MDSE_UPC WIMU
          ,(
            SELECT
                   WISD.GLBL_CMPY_CD
                  ,WISD.WH_CD
                  ,WISD.WMS_LINE_NUM
                  ,WISD.WMS_SO_ID
                  ,WISD.WMS_SQ_NUM
                  ,WISD.WMS_MDSE_CD
                  ,WISD.S80_STK_STS_CD
                  ,WISD.S80_STK_STS_CD_TO_CD
                  ,WISD.WMS_SHIP_QTY
                  ,WISD.IND_SER_ID
                  ,WISD.MDSE_CD_SET_CD
                  ,WISD.SHIP_SET_QTY
                  ,WISD.CUST_MDSE_CD
                  ,WISD.ORIG_SO_ID
                  ,WISD.ORIG_LINE_NUM
                  ,WISD.TOT_WT_AMT_NUM
                  ,WISD.TOT_VOL_AMT_NUM
                  ,WISD.EST_CSE_AMT_NUM
                  ,WISD.EST_PLT_AMT_NUM
                  ,(
                    SELECT
                           MAX(WMS_SQ_NUM)
                      FROM
                           WMS_INBD_MDSE WIM2
                     WHERE
                           WIM2.GLBL_CMPY_CD = WISD.GLBL_CMPY_CD
                       AND WIM2.WH_CD        = WISD.WH_CD
                       AND WIM2.WMS_MDSE_CD  = WISD.WMS_MDSE_CD
                       AND WIM2.EZCANCELFLAG = '0'
                   ) MDSE_SQ
                  <isNotEqual property="wmsPackCdSetOwnerCdFlg" compareValue="Y">
                  ,WISD.RTL_WH_CD || WISD.RTL_SWH_CD PACK_CD_TXT
                  </isNotEqual>
                  <isEqual property="wmsPackCdSetOwnerCdFlg" compareValue="Y">
                  ,RWH.INVTY_OWNR_CD || WISD.RTL_SWH_CD PACK_CD_TXT
                  </isEqual>
                  ,WISD.SVC_CONFIG_MSTR_PK
                  ,WISD.BACK_ORD_FLG
                  ,WISD.BACK_ORD_IMPCT_TP_CD
                  ,WISD.RMV_CONFIG_FLG
                  ,WISD.IND_CONFIG_FLG
              FROM
                   WMS_INBD_SO_HDR WISH
                  ,WMS_INBD_SO_DTL WISD
                  ,RTL_WH          RWH
             WHERE
                   WISH.GLBL_CMPY_CD = #glblCmpyCd#
               AND WISH.WMS_SO_ID    = #wmsSoId#
               AND WISH.WH_CD        = #whCd#
               AND WISH.EZCANCELFLAG = '0'
               AND WISH.GLBL_CMPY_CD = WISD.GLBL_CMPY_CD
               AND WISH.WMS_SO_ID    = WISD.WMS_SO_ID
               AND WISH.WMS_SQ_NUM   = WISD.WMS_SQ_NUM
               AND WISD.EZCANCELFLAG = '0'
               AND RWH.GLBL_CMPY_CD  = WISH.GLBL_CMPY_CD
               AND RWH.RTL_WH_CD     = WISH.RTL_WH_CD
               AND RWH.EZCANCELFLAG  = '0'
             ORDER BY
                   WISD.WMS_LINE_NUM
           ) DTL
           ,MDSE
     WHERE
           DTL.GLBL_CMPY_CD     = WIM.GLBL_CMPY_CD(+)
       AND DTL.WMS_MDSE_CD      = WIM.WMS_MDSE_CD(+)
       AND DTL.MDSE_SQ          = WIM.WMS_SQ_NUM(+)
       AND WIM.EZCANCELFLAG(+)  = '0'
       AND WIM.GLBL_CMPY_CD     = WIMU.GLBL_CMPY_CD(+)
       AND WIM.WH_CD            = WIMU.WH_CD(+)
       AND WIM.WMS_MDSE_CD      = WIMU.WMS_MDSE_CD(+)
       AND WIM.WMS_SQ_NUM       = WIMU.WMS_SQ_NUM(+)
       AND WIMU.WMS_UOM_CD(+)   = #wmsUomCdEa#
       AND WIMU.EZCANCELFLAG(+) = '0'
       AND DTL.GLBL_CMPY_CD     = #glblCmpyCd#
       AND DTL.WH_CD            = #whCd#
       AND DTL.WMS_SO_ID        = #wmsSoId#
       AND DTL.WMS_SQ_NUM       = #wmsSqNum#
       AND MDSE.GLBL_CMPY_CD(+) = DTL.GLBL_CMPY_CD
       AND MDSE.MDSE_CD(+)      = DTL.WMS_MDSE_CD
     ORDER BY
           DTL.WMS_LINE_NUM
          ,DTL.WMS_MDSE_CD
    </statement>

    <resultMap id="result.NLGL0010_ESMsg"      class="NLGL0010_ESMsg">
        <result property="wmsLineNum_E1"       column="WMS_LINE_NUM"         javaType="EZDSStringItem"/>
        <result property="wmsMdseCd_E1"        column="WMS_MDSE_CD"          javaType="EZDSStringItem"/>
        <result property="s80StkStsCd_E1"      column="S80_STK_STS_CD"       javaType="EZDSStringItem"/>
        <result property="s80StkStsCdToCd_E1"  column="S80_STK_STS_CD_TO_CD" javaType="EZDSStringItem"/>
        <result property="mdseDescShortTxt_E2" column="MDSE_DESC_TXT_01"     javaType="EZDSStringItem"/>
        <result property="wmsShipQty_E1"       column="WMS_SHIP_QTY"         javaType="EZDSStringItem"/>
        <result property="indSerId_E1"         column="IND_SER_ID"           javaType="EZDSStringItem"/>
        <result property="mdseCdSetCd_E1"      column="MDSE_CD_SET_CD"       javaType="EZDSStringItem"/>
        <result property="shipSetQty_E1"       column="SHIP_SET_QTY"         javaType="EZDSStringItem"/>
        <result property="custMdseCd_E1"       column="CUST_MDSE_CD"         javaType="EZDSStringItem"/>
        <result property="origSoId_E1"         column="ORIG_SO_ID"           javaType="EZDSStringItem"/>
        <result property="origLineNum_E1"      column="ORIG_LINE_NUM"        javaType="EZDSStringItem"/>
        <result property="totWtAmtNum_E1"      column="TOT_WT_AMT_NUM"       javaType="EZDSStringItem"/>
        <result property="totVolAmtNum_E1"     column="TOT_VOL_AMT_NUM"      javaType="EZDSStringItem"/>
        <result property="unitCrtnQty_E1"      column="UNIT_CRTN_QTY"        javaType="EZDSStringItem"/>
        <result property="unitPltQty_E1"       column="UNIT_PLT_QTY"         javaType="EZDSStringItem"/>
        <result property="estCseAmtNum_E1"     column="EST_CASE"             javaType="EZDSStringItem"/>
        <result property="estPltAmtNum_E1"     column="EST_PLT"              javaType="EZDSStringItem"/>
        <result property="wmsUpcCd_E1"         column="WMS_UPC_CD"           javaType="EZDSStringItem"/>
        <result property="fill20Txt_E1"        column="NMFC"                 javaType="EZDSStringItem"/>
        <result property="estCseAmtNum_E2"     column="EST_TOT_CASE"         javaType="EZDSStringItem"/>
        <result property="estPltAmtNum_E2"     column="EST_TOT_PLT"          javaType="EZDSStringItem"/>
        <result property="fill40Txt_E1"        column="PACK_CD_TXT"          javaType="EZDSStringItem"/>
        <result property="svcConfigMstrPk_E1"  column="SVC_CONFIG_MSTR_PK"   javaType="EZDSStringItem"/>
        <result property="backOrdFlg_E1"       column="BACK_ORD_FLG"         javaType="EZDSStringItem"/>
        <result property="backOrdImpctTpCd_E1" column="BACK_ORD_IMPCT_TP_CD" javaType="EZDSStringItem"/>
        <result property="rmvConfigFlg_E1"     column="RMV_CONFIG_FLG"       javaType="EZDSStringItem"/>
        <result property="indConfigFlg_E1"     column="IND_CONFIG_FLG"       javaType="EZDSStringItem"/>
        <result property="serNum_E1"           column="SER_NUM"              javaType="EZDSStringItem"/>
        <result property="mdseDescShortTxt_E1" column="MDSE_DESC_SHORT_TXT"  javaType="EZDSStringItem"/>
        <result property="upcCd_E1"            column="UPC_CD"               javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSODtlUpldTrn" parameterClass="Map" resultMap="result.NLGL0010_FSMsg">
    SELECT
           WMS_REC_ID
          ,WH_CD
          ,OTBD_ORD_LINE_NUM
          ,INBD_ORD_LINE_NUM
          ,WMS_TASK_CD
          ,WMS_ORD_STS_CD
          ,WMS_MDSE_CD
          ,WMS_STK_STS_CD
          ,WMS_ORD_QTY
          ,WMS_OP_ID
          ,USR_ID_01
          ,OTBD_ORD_TP_CD
          ,OTBD_ORD_NUM
          ,INBD_ORD_TP_CD
          ,INBD_ORD_NUM
          ,WMS_TRX_DT_TM_TS
          ,WMS_WAVE_ID
          ,WMS_TOT_WT
          ,WMS_CARR_CD
          ,WMS_TRAIL_ID
          ,PRO_NUM
          ,BOL_NUM
          ,WMS_GRP_ID_01
          ,WMS_GRP_ID_03
          ,WMS_SHIP_ID
          ,WMS_FRT_TERM_CD
          ,WMS_LOT_NUM
          ,WMS_TAG_ID
          ,MOD_BY_TXT
          ,WMS_CNTNR_ID
          ,WMS_OUT_CNTNR_NUM
          ,WMS_FRT_CHRG_AMT
          ,SER_NUM
          ,SHIP_UNIT_WT
          ,TMS_FRT_CHRG_AMT
          ,TMS_FRT_CHRG_COST_AMT
          ,EST_DOCK_DT_TM_TS
          ,EZINTIME
      FROM
           WMS_INBD_TRX
     WHERE
           GLBL_CMPY_CD = #glblCmpyCd#
       AND WH_CD        = #whCd#
       AND (
               OTBD_ORD_NUM = #wmsSoId#
            OR INBD_ORD_NUM = #wmsSoId#
       )
       AND EZCANCELFLAG = '0'
     ORDER BY
           WMS_REC_ID
          ,OTBD_ORD_LINE_NUM
    </statement>

    <resultMap id="result.NLGL0010_FSMsg" class="NLGL0010_FSMsg">
        <result property="wmsRecId_F1"          column="WMS_REC_ID"            javaType="EZDSStringItem"/>
        <result property="whCd_F1"              column="WH_CD"                 javaType="EZDSStringItem"/>
        <result property="otbdOrdLineNum_F1"    column="OTBD_ORD_LINE_NUM"     javaType="EZDSStringItem"/>
        <result property="inbdOrdLineNum_F1"    column="INBD_ORD_LINE_NUM"     javaType="EZDSStringItem"/>
        <result property="wmsTaskCd_F1"         column="WMS_TASK_CD"           javaType="EZDSStringItem"/>
        <result property="wmsOrdStsCd_F1"       column="WMS_ORD_STS_CD"        javaType="EZDSStringItem"/>
        <result property="wmsMdseCd_F1"         column="WMS_MDSE_CD"           javaType="EZDSStringItem"/>
        <result property="wmsStkStsCd_F1"       column="WMS_STK_STS_CD"        javaType="EZDSStringItem"/>
        <result property="wmsOrdQty_F1"         column="WMS_ORD_QTY"           javaType="EZDSStringItem"/>
        <result property="wmsOpId_F1"           column="WMS_OP_ID"             javaType="EZDSStringItem"/>
        <result property="usrId_F1"             column="USR_ID_01"             javaType="EZDSStringItem"/>
        <result property="otbdOrdTpCd_F1"       column="OTBD_ORD_TP_CD"        javaType="EZDSStringItem"/>
        <result property="otbdOrdNum_F1"        column="OTBD_ORD_NUM"          javaType="EZDSStringItem"/>
        <result property="inbdOrdTpCd_F1"       column="INBD_ORD_TP_CD"        javaType="EZDSStringItem"/>
        <result property="inbdOrdNum_F1"        column="INBD_ORD_NUM"          javaType="EZDSStringItem"/>
        <result property="wmsTrxDtTmTs_F1"      column="WMS_TRX_DT_TM_TS"      javaType="EZDSStringItem"/>
        <result property="wmsWaveId_F1"         column="WMS_WAVE_ID"           javaType="EZDSStringItem"/>
        <result property="wmsTotWt_F1"          column="WMS_TOT_WT"            javaType="EZDSStringItem"/>
        <result property="wmsCarrCd_F1"         column="WMS_CARR_CD"           javaType="EZDSStringItem"/>
        <result property="wmsTrailId_F1"        column="WMS_TRAIL_ID"          javaType="EZDSStringItem"/>
        <result property="proNum_F1"            column="PRO_NUM"               javaType="EZDSStringItem"/>
        <result property="bolNum_F1"            column="BOL_NUM"               javaType="EZDSStringItem"/>
        <result property="wmsGrpId_F1"          column="WMS_GRP_ID_01"         javaType="EZDSStringItem"/>
        <result property="wmsGrpId_F2"          column="WMS_GRP_ID_03"         javaType="EZDSStringItem"/>
        <result property="wmsShipId_F1"         column="WMS_SHIP_ID"           javaType="EZDSStringItem"/>
        <result property="wmsFrtTermCd_F1"      column="WMS_FRT_TERM_CD"       javaType="EZDSStringItem"/>
        <result property="wmsLotNum_F1"         column="WMS_LOT_NUM"           javaType="EZDSStringItem"/>
        <result property="wmsTagId_F1"          column="WMS_TAG_ID"            javaType="EZDSStringItem"/>
        <result property="modByTxt_F1"          column="MOD_BY_TXT"            javaType="EZDSStringItem"/>
        <result property="wmsCntnrId_F1"        column="WMS_CNTNR_ID"          javaType="EZDSStringItem"/>
        <result property="wmsOutCntnrNum_F1"    column="WMS_OUT_CNTNR_NUM"     javaType="EZDSStringItem"/>
        <result property="wmsFrtChrgAmt_F1"     column="WMS_FRT_CHRG_AMT"      javaType="EZDSStringItem"/>
        <result property="serNum_F1"            column="SER_NUM"               javaType="EZDSStringItem"/>
        <result property="shipUnitWt_F1"        column="SHIP_UNIT_WT"          javaType="EZDSStringItem"/>
        <result property="tmsFrtChrgAmt_F1"     column="TMS_FRT_CHRG_AMT"      javaType="EZDSStringItem"/>
        <result property="tmsFrtChrgCostAmt_F1" column="TMS_FRT_CHRG_COST_AMT" javaType="EZDSStringItem"/>
        <result property="ezInTime_F1"          column="EZINTIME"              javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSODtlAsn" parameterClass="Map" resultMap="result.NLGL0010_GSMsg">
    SELECT
           WSAD.WMS_BOL_NUM       WMS_BOL_NUM
          ,WSAD.WMS_SO_ASN_HDR_ID WMS_SO_ASN_HDR_ID
          ,WSAD.MSTR_BOL_NUM      MSTR_BOL_NUM
          ,WSAD.WH_CD             WH_CD
          ,WSAD.WMS_SO_ID         WMS_SO_ID
          ,WSAD.WMS_LOAD_ID       LOAD_ID
          ,WSAD.WMS_SO_SHIP_ID    WMS_SO_SHIP_ID
          ,WSAD.WMS_SHIP_DT_TM_TS WMS_SHIP_DT_TM_TS
          ,WSAD.WMS_TOT_WT        WMS_TOT_WT
          ,WSAD.FRT_CHRG_COST_AMT FRT_CHRG_COST_AMT
          ,WSAD.CARR_SCAC_CD      CARR_SCAC_CD
          ,WSAD.CARR_SVC_CD       CARR_SVC_CD
          ,WSAD.CARR_PRO_ID       CARR_PRO_ID
          ,WSAD.ALT_DOC_NUM       ALT_DOC_NUM
          ,WSAD.WMS_PKG_NUM       WMS_PKG_NUM
          ,WSAD.WMS_TRK_NUM       WMS_TRK_NUM
          ,WSAD.WMS_UCC128_CD     WMS_UCC128_CD
          ,WSAD.PRNT_UCC128_CD    PRNT_UCC128_CD
          ,WSAD.WMS_UPC_CD        WMS_UPC_CD
          ,WSAD.WMS_SCC14_CD      WMS_SCC14_CD
          ,WSAD.WMS_MDSE_CD       WMS_MDSE_CD
          ,WSAD.WMS_STK_STS_CD    WMS_STK_STS_CD
          ,WSAD.WMS_UOM_CD        WMS_UOM_CD
          ,WSAD.WMS_UOM_QTY       WMS_UOM_QTY
          ,WSAD.WMS_ORD_QTY       WMS_ORD_QTY
          ,WSAD.WMS_LINE_NUM      WMS_LINE_NUM
          ,WSAD.CUST_ACCT_NUM     CUST_ACCT_NUM
          ,WSAD.ASN_CUST_FLG      ASN_CUST_FLG
          ,WSAD.EZUPTIME          EZUPTIME
          ,WSAD.WMS_PROC_FLG      WMS_PROC_FLG
          ,WSAD.WMS_PROC_DT_TM_TS WMS_PROC_DT_TM_TS
      FROM
           WMS_SO_ASN_DTL WSAD
     WHERE
           WSAD.GLBL_CMPY_CD = #glblCmpyCd#
       AND WSAD.WH_CD        = #whCd#
       <isNotEqual property="wmsConslFlg" compareValue="C">
       AND WSAD.WMS_SO_ID    = #wmsSoId#
       </isNotEqual>
       <isEqual property="wmsConslFlg" compareValue="C">
       AND WSAD.CONSL_SO_ID  = #wmsSoId#
       </isEqual>
       AND WSAD.EZCANCELFLAG = '0'
    </statement>

    <resultMap id="result.NLGL0010_GSMsg" class="NLGL0010_GSMsg">
        <result property="wmsSoAsnHdrId_G1"  column="WMS_SO_ASN_HDR_ID"  javaType="EZDSStringItem"/>
        <result property="wmsBolNum_G1"      column="WMS_BOL_NUM"        javaType="EZDSStringItem"/>
        <result property="mstrBolNum_G1"     column="MSTR_BOL_NUM"       javaType="EZDSStringItem"/>
        <result property="whCd_G1"           column="WH_CD"              javaType="EZDSStringItem"/>
        <result property="wmsSoId_G1"        column="WMS_SO_ID"          javaType="EZDSStringItem"/>
        <result property="wmsLoadId_G1"      column="LOAD_ID"            javaType="EZDSStringItem"/>
        <result property="wmsSoShipId_G1"    column="WMS_SO_SHIP_ID"     javaType="EZDSStringItem"/>
        <result property="wmsShipDtTmTs_G1"  column="WMS_SHIP_DT_TM_TS"  javaType="EZDSStringItem"/>
        <result property="wmsTotWt_G1"       column="WMS_TOT_WT"         javaType="EZDSStringItem"/>
        <result property="frtChrgCostAmt_G1" column="FRT_CHRG_COST_AMT"  javaType="EZDSStringItem"/>
        <result property="carrScacCd_G1"     column="CARR_SCAC_CD"       javaType="EZDSStringItem"/>
        <result property="carrSvcCd_G1"      column="CARR_SVC_CD"        javaType="EZDSStringItem"/>
        <result property="carrProId_G1"      column="CARR_PRO_ID"        javaType="EZDSStringItem"/>
        <result property="altDocNum_G1"      column="ALT_DOC_NUM"        javaType="EZDSStringItem"/>
        <result property="wmsPkgNum_G1"      column="WMS_PKG_NUM"        javaType="EZDSStringItem"/>
        <result property="wmsTrkNum_G1"      column="WMS_TRK_NUM"        javaType="EZDSStringItem"/>
        <result property="wmsUcc128Cd_G1"    column="WMS_UCC128_CD"      javaType="EZDSStringItem"/>
        <result property="prntUcc128Cd_G1"   column="PRNT_UCC128_CD"     javaType="EZDSStringItem"/>
        <result property="wmsUpcCd_G1"       column="WMS_UPC_CD"         javaType="EZDSStringItem"/>
        <result property="wmsScc14Cd_G1"     column="WMS_SCC14_CD"       javaType="EZDSStringItem"/>
        <result property="wmsMdseCd_G1"      column="WMS_MDSE_CD"        javaType="EZDSStringItem"/>
        <result property="wmsStkStsCd_G1"    column="WMS_STK_STS_CD"     javaType="EZDSStringItem"/>
        <result property="wmsUomCd_G1"       column="WMS_UOM_CD"         javaType="EZDSStringItem"/>
        <result property="wmsUomQty_G1"      column="WMS_UOM_QTY"        javaType="EZDSStringItem"/>
        <result property="wmsOrdQty_G1"      column="WMS_ORD_QTY"        javaType="EZDSStringItem"/>
        <result property="wmsLineNum_G1"     column="WMS_LINE_NUM"       javaType="EZDSStringItem"/>
        <result property="custAcctNum_G1"    column="CUST_ACCT_NUM"      javaType="EZDSStringItem"/>
        <result property="asnCustFlg_G1"     column="ASN_CUST_FLG"       javaType="EZDSStringItem"/>
        <result property="ezInTime_G1"       column="EZUPTIME"           javaType="EZDSStringItem"/>
        <result property="wmsProcFlg_G1"     column="WMS_PROC_FLG"       javaType="EZDSStringItem"/>
        <result property="wmsProcDtTmTs_G1"  column="WMS_PROC_DT_TM_TS"  javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSODtlAsnErr" parameterClass="Map" resultMap="result.NLGL0010_HSMsg">
    SELECT
           DISTINCT
           WIT_ASN.WMS_REC_ID  WMS_REC_ID
          ,WIT_ASN.WMS_SHIP_ID WMS_SHIP_ID
          ,WIT_ASN.BOL_NUM     BOL_NUM
          ,WIT_ASN.ERR_MSG_CD  ERR_MSG_CD
          ,WIT_ASN.EZINTIME    EZINTIME
          ,WIT_ASN.EZUPTIME    EZUPTIME
     FROM
           WMS_INBD_TRX WIT_SHIP
          ,WMS_INBD_TRX WIT_ASN
     WHERE
           WIT_SHIP.GLBL_CMPY_CD = #glblCmpyCd#
       AND WIT_SHIP.GLBL_CMPY_CD = WIT_ASN.GLBL_CMPY_CD
       AND WIT_SHIP.WH_CD        = #whCd#
       AND WIT_SHIP.WH_CD        = WIT_ASN.WH_CD
       AND WIT_SHIP.OTBD_ORD_NUM = #wmsSoId#
       AND WIT_SHIP.WMS_TASK_CD  = #wmsTaskCdShip#
       AND WIT_ASN.WMS_TASK_CD   = #wmsTaskCdAsn#
       AND WIT_ASN.PROC_STS_CD   = #procStsCdError#
       AND WIT_SHIP.BOL_NUM      = WIT_ASN.BOL_NUM
       AND WIT_SHIP.WMS_SHIP_ID  = WIT_ASN.WMS_SHIP_ID
       AND WIT_SHIP.EZCANCELFLAG = '0'
       AND WIT_ASN.EZCANCELFLAG  = '0'
     ORDER BY
           WIT_ASN.WMS_REC_ID
          ,WIT_ASN.WMS_SHIP_ID
          ,WIT_ASN.BOL_NUM
    </statement>

    <resultMap id="result.NLGL0010_HSMsg"  class="NLGL0010_HSMsg">
        <result property="wmsRecId_H1"     column="WMS_REC_ID"        javaType="EZDSStringItem"/>
        <result property="wmsShipId_H1"    column="WMS_SHIP_ID"       javaType="EZDSStringItem"/>
        <result property="bolNum_H1"       column="BOL_NUM"           javaType="EZDSStringItem"/>
        <result property="errMsgCd_H1"     column="ERR_MSG_CD"        javaType="EZDSStringItem"/>
        <result property="ezInTime_H1"     column="EZINTIME"          javaType="EZDSStringItem"/>
        <result property="ezUpTime_H1"     column="EZUPTIME"          javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getUpdateEdit" parameterClass="Map" resultMap="result.NLGL0010_OSMsg">
    <isNotEqual property="wmsTaskCd" compareValue="ASN">
        SELECT
           DECODE(WIT.PROC_STS_CD, #procStsCdInCompleated#, #unProcessed#, #procStsCdCompleated#, #processed#, #procStsCdError#, #error#) PROC_STS
          ,WIT.WMS_REC_ID
          ,WIT.WMS_INBD_TRX_PK
          ,WIT.OTBD_ORD_LINE_NUM
          ,WIT.INBD_ORD_LINE_NUM
          ,WIT.WMS_TASK_CD
          ,WIT.WMS_ORD_STS_CD
          ,WIT.WMS_MDSE_CD
          ,WIT.WMS_STK_STS_CD
          ,WIT.WMS_ORD_QTY
          ,SHO_OT.SCE_ORD_TP_CD SCE_ORD_TP_CD_OT
          ,WIT.OTBD_ORD_NUM
          ,SHO_IN.SCE_ORD_TP_CD SCE_ORD_TP_CD_IN
          ,WIT.INBD_ORD_NUM
          ,WIT.WMS_TRX_DT_TM_TS
          ,WIT.WMS_TRAIL_ID
          ,WIT.WMS_TOT_WT
          ,WIT.WMS_CARR_CD
          ,WIT.PRO_NUM
          ,WIT.BOL_NUM
          ,WIT.WMS_SHIP_ID
          ,WIT.WMS_CNTNR_ID
          ,WIT.WMS_OUT_CNTNR_NUM
          ,WIT.WMS_FRT_CHRG_AMT
          ,WIT.TMS_FRT_CHRG_AMT
          ,WIT.WMS_ORG_HOST_ID
          ,WIT.SER_NUM
          ,WIT.EST_DOCK_DT_TM_TS
          ,WIT.EZINTIME
          ,WIT.EZCANCELFLAG
          ,WIT.WMS_UPD_HIST_NUM
          ,WIT.WMS_PKG_CD
      FROM
           WMS_INBD_TRX WIT
          ,SHPG_ORD     SHO_OT
          ,SHPG_ORD     SHO_IN
     WHERE
           WIT.GLBL_CMPY_CD       = #glblCmpyCd#
       AND WIT.WH_CD              = #whCd#
       AND (
               WIT.OTBD_ORD_NUM   = #wmsSoId#
            OR WIT.INBD_ORD_NUM   = #wmsSoId#
       )
       <isEqual property="isSpecificTaskCond" compareValue="Y">
       AND WIT.WMS_TASK_CD        = #wmsTaskCd#
       </isEqual>
       AND WIT.WMS_TASK_CD &lt;&gt; #wmsTaskCdAsn#
       <isNotEqual property="wmsEzCancelFlag" compareValue="">
       AND WIT.EZCANCELFLAG       = #wmsEzCancelFlag#
       </isNotEqual>
       AND WIT.GLBL_CMPY_CD       = SHO_OT.GLBL_CMPY_CD(+)
       AND WIT.OTBD_ORD_NUM       = SHO_OT.SO_NUM(+)
       AND SHO_OT.EZCANCELFLAG(+) = '0'
       AND WIT.GLBL_CMPY_CD       = SHO_IN.GLBL_CMPY_CD(+)
       AND WIT.OTBD_ORD_NUM       = SHO_IN.SO_NUM(+)
       AND SHO_IN.EZCANCELFLAG(+) = '0'
    </isNotEqual>
    <isEqual property="wmsTaskCd" compareValue="-">
     UNION ALL
    </isEqual>
    <isEqual property="isSearchTaskAsn" compareValue="Y">
    SELECT
           DECODE(WIT_ASN.PROC_STS_CD, #procStsCdInCompleated#, #unProcessed#, #procStsCdCompleated#, #processed#, #procStsCdError#, #error#) PROC_STS
          ,WIT_ASN.WMS_REC_ID
          ,WIT_ASN.WMS_INBD_TRX_PK          
          ,WIT_ASN.OTBD_ORD_LINE_NUM
          ,WIT_ASN.INBD_ORD_LINE_NUM
          ,WIT_ASN.WMS_TASK_CD
          ,WIT_ASN.WMS_ORD_STS_CD
          ,WIT_ASN.WMS_MDSE_CD
          ,WIT_ASN.WMS_STK_STS_CD
          ,WIT_ASN.WMS_ORD_QTY
          ,SHO_OT.SCE_ORD_TP_CD SCE_ORD_TP_CD_OT
          ,WIT_ASN.OTBD_ORD_NUM
          ,SHO_IN.SCE_ORD_TP_CD SCE_ORD_TP_CD_IN
          ,WIT_ASN.INBD_ORD_NUM
          ,WIT_ASN.WMS_TRX_DT_TM_TS
          ,WIT_ASN.WMS_TRAIL_ID
          ,WIT_ASN.WMS_TOT_WT
          ,WIT_ASN.WMS_CARR_CD
          ,WIT_ASN.PRO_NUM
          ,WIT_ASN.BOL_NUM
          ,WIT_ASN.WMS_SHIP_ID
          ,WIT_ASN.WMS_CNTNR_ID
          ,WIT_ASN.WMS_OUT_CNTNR_NUM
          ,WIT_ASN.WMS_FRT_CHRG_AMT
          ,WIT_ASN.TMS_FRT_CHRG_AMT
          ,WIT_ASN.WMS_ORG_HOST_ID
          ,WIT_ASN.SER_NUM
          ,WIT_ASN.EST_DOCK_DT_TM_TS
          ,WIT_ASN.EZINTIME
          ,WIT_ASN.EZCANCELFLAG
          ,WIT_ASN.WMS_UPD_HIST_NUM
          ,WIT_ASN.WMS_PKG_CD
      FROM
           WMS_INBD_TRX WIT_ASN
          ,SHPG_ORD     SHO_OT
          ,SHPG_ORD     SHO_IN
     WHERE
           WIT_ASN.GLBL_CMPY_CD   = #glblCmpyCd#
       AND WIT_ASN.WH_CD          = #whCd#
       AND WIT_ASN.WMS_TASK_CD    = #wmsTaskCdAsn#
       AND WIT_ASN.EZCANCELFLAG   = #wmsEzCancelFlag#
       AND WIT_ASN.GLBL_CMPY_CD   = SHO_OT.GLBL_CMPY_CD(+)
       AND WIT_ASN.OTBD_ORD_NUM   = SHO_OT.SO_NUM(+)
       AND SHO_OT.EZCANCELFLAG(+) = '0'
       AND WIT_ASN.GLBL_CMPY_CD   = SHO_IN.GLBL_CMPY_CD(+)
       AND WIT_ASN.OTBD_ORD_NUM   = SHO_IN.SO_NUM(+)
       AND SHO_IN.EZCANCELFLAG(+) = '0'
       AND EXISTS (
               SELECT
                      *
                 FROM
                      WMS_INBD_TRX WIT_SHIP
                WHERE
                      WIT_SHIP.GLBL_CMPY_CD = WIT_ASN.GLBL_CMPY_CD
                  AND WIT_SHIP.WH_CD        = WIT_ASN.WH_CD
                  <isNotEqual property="wmsEzCancelFlag" compareValue="">
                  AND WIT_SHIP.EZCANCELFLAG = #wmsEzCancelFlag#
                  </isNotEqual>
                  AND WIT_SHIP.OTBD_ORD_NUM = #wmsSoId#
                  AND WIT_SHIP.WMS_TASK_CD  = #wmsTaskCdShip#
                  AND WIT_SHIP.BOL_NUM      = WIT_ASN.BOL_NUM
                  AND WIT_SHIP.WMS_SHIP_ID  = WIT_ASN.WMS_SHIP_ID
           )
     ORDER BY
           EZCANCELFLAG ASC
          ,WMS_TASK_CD ASC
    </isEqual>
    </statement>

    <resultMap id="result.NLGL0010_OSMsg"    class="NLGL0010_OSMsg">
        <result property="fill30Txt_O1"      column="PROC_STS"          javaType="EZDSStringItem"/>
        <result property="wmsRecId_O1"       column="WMS_REC_ID"        javaType="EZDSStringItem"/>
        <result property="wmsInbdTrxPk_O1"   column="WMS_INBD_TRX_PK"   javaType="EZDTBigDecimalItem"/>
        <result property="otbdOrdLineNum_O1" column="OTBD_ORD_LINE_NUM" javaType="EZDSStringItem"/>
        <result property="inbdOrdLineNum_O1" column="INBD_ORD_LINE_NUM" javaType="EZDSStringItem"/>
        <result property="wmsTaskCd_O2"      column="WMS_TASK_CD"       javaType="EZDSStringItem"/>
        <result property="wmsOrdStsCd_O2"    column="WMS_ORD_STS_CD"    javaType="EZDSStringItem"/>
        <result property="wmsMdseCd_O1"      column="WMS_MDSE_CD"       javaType="EZDSStringItem"/>
        <result property="wmsStkStsCd_O2"    column="WMS_STK_STS_CD"    javaType="EZDSStringItem"/>
        <result property="wmsOrdQty_O1"      column="WMS_ORD_QTY"       javaType="EZDSStringItem"/>
        <result property="otbdOrdTpCd_O2"    column="SCE_ORD_TP_CD_OT"  javaType="EZDSStringItem"/>
        <result property="otbdOrdNum_O1"     column="OTBD_ORD_NUM"      javaType="EZDSStringItem"/>
        <result property="inbdOrdTpCd_O2"    column="SCE_ORD_TP_CD_IN"  javaType="EZDSStringItem"/>
        <result property="inbdOrdNum_O1"     column="INBD_ORD_NUM"      javaType="EZDSStringItem"/>
        <result property="wmsTrxDtTmTs_O1"   column="WMS_TRX_DT_TM_TS"  javaType="EZDSStringItem"/>
        <result property="wmsTotWt_O1"       column="WMS_TOT_WT"        javaType="EZDSStringItem"/>
        <result property="wmsTrailId_O1"     column="WMS_TRAIL_ID"      javaType="EZDSStringItem"/>
        <result property="wmsCarrCd_O1"      column="WMS_CARR_CD"       javaType="EZDSStringItem"/>
        <result property="proNum_O1"         column="PRO_NUM"           javaType="EZDSStringItem"/>
        <result property="bolNum_O1"         column="BOL_NUM"           javaType="EZDSStringItem"/>
        <result property="wmsShipId_O1"      column="WMS_SHIP_ID"       javaType="EZDSStringItem"/>
        <result property="wmsCntnrId_O1"     column="WMS_CNTNR_ID"      javaType="EZDSStringItem"/>
        <result property="wmsOutCntnrNum_O1" column="WMS_OUT_CNTNR_NUM" javaType="EZDSStringItem"/>
        <result property="wmsFrtChrgAmt_O1"  column="WMS_FRT_CHRG_AMT"  javaType="EZDSStringItem"/>
        <result property="tmsFrtChrgAmt_O1"  column="TMS_FRT_CHRG_AMT"  javaType="EZDSStringItem"/>
        <result property="wmsOrgHostId_O1"   column="WMS_ORG_HOST_ID"   javaType="EZDSStringItem"/>
        <result property="serNum_O1"         column="SER_NUM"           javaType="EZDSStringItem"/>
        <result property="estDockDtTmTs_O1"  column="EST_DOCK_DT_TM_TS" javaType="EZDSStringItem"/>
        <result property="ezCancelFlag_O1"   column="EZCANCELFLAG"      javaType="EZDSStringItem"/>
        <result property="ezInTime_O1"       column="EZINTIME"          javaType="EZDSStringItem"/>
        <result property="wmsUpdHistNum_O1"  column="WMS_UPD_HIST_NUM"  javaType="EZDTBigDecimalItem"/>
        <result property="packCdTxt_O1"      column="WMS_PKG_CD"        javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getMaxSqNumFromMdse" parameterClass="Map" resultClass="BigDecimal">
    SELECT
           MAX(WMS_SQ_NUM) WMS_SQ_NUM
      FROM
           WMS_INBD_MDSE
     WHERE
           GLBL_CMPY_CD = #glblCmpyCd#
       AND WH_CD        = #whCd#
       AND WMS_MDSE_CD  = #wmsMdseCd#
       AND EZCANCELFLAG = '0'
    </statement>

    <statement id="getItemBaseInfo" parameterClass="Map" resultClass="Map">
    SELECT
           WMS_BASE_UOM_QTY
          ,WMS_MDSE_WT
          ,WMS_MDSE_LG_NUM * WMS_MDSE_WDT_NUM * WMS_MDSE_HGT_NUM / 1728 WMS_MDSE_VOL
      FROM
           WMS_INBD_MDSE_UPC
     WHERE
           GLBL_CMPY_CD = #glblCmpyCd#
       AND WH_CD        = #whCd#
       AND WMS_MDSE_CD  = #wmsMdseCd#
       AND WMS_UOM_CD   = #wmsUomCd#
       AND EZCANCELFLAG = '0'
       AND WMS_SQ_NUM   = (
               SELECT
                      MAX(WMS_SQ_NUM)
                 FROM
                      WMS_INBD_MDSE
                WHERE
                      GLBL_CMPY_CD = #glblCmpyCd#
                  AND WH_CD        = #whCd#
                  AND WMS_MDSE_CD  = #wmsMdseCd#
                  AND EZCANCELFLAG = '0'
           )
    </statement>

    <statement id="getSerFromMdse" parameterClass="Map" resultClass="String">
    SELECT
           NVL(SER_NUM_FLG, 'N') SER_NUM_FLG
      FROM
           WMS_INBD_MDSE
     WHERE
           GLBL_CMPY_CD = #glblCmpyCd#
       AND WH_CD        = #whCd#
       AND WMS_MDSE_CD  = #wmsMdseCd#
       AND EZCANCELFLAG = '0'
       AND WMS_SQ_NUM   = (
               SELECT
                      MAX(WMS_SQ_NUM)
                 FROM
                      WMS_INBD_MDSE
                WHERE
                      GLBL_CMPY_CD = #glblCmpyCd#
                  AND WH_CD        = #whCd#
                  AND WMS_MDSE_CD  = #wmsMdseCd#
                  AND EZCANCELFLAG = '0'
           )
    </statement>

    <statement id="getMixPack" parameterClass="Map" resultMap="result.NLGL0010_ZSMsg">
    SELECT
           WISD.WMS_MDSE_CD                    WMS_MDSE_CD
          ,NVL(WIMU.WMS_MDSE_LG_NUM, 0)        WMS_MDSE_LG_NUM
          ,NVL(WIMU.WMS_MDSE_WDT_NUM, 0)       WMS_MDSE_WDT_NUM
          ,NVL(WIMU.WMS_MDSE_HGT_NUM, 0)       WMS_MDSE_HGT_NUM
          ,NVL(DECODE(WIM.UNIT_CRTN_QTY, 0, DECODE(NVL(WIM.UNIT_PLT_QTY, 0), 0, SUM(WISD.WMS_SHIP_QTY), MOD(SUM(WISD.WMS_SHIP_QTY), WIM.UNIT_PLT_QTY)), MOD(SUM(WISD.WMS_SHIP_QTY), WIM.UNIT_CRTN_QTY)) * WIMU.WMS_MDSE_VOL_NUM, 0) TOTAL_WMS_MDSE_VOL_NUM
      FROM
           WMS_INBD_MDSE_UPC WIMU
          ,WMS_INBD_MDSE     WIM
          ,WMS_INBD_SO_DTL   WISD
     WHERE
           WISD.GLBL_CMPY_CD    = #glblCmpyCd#
       AND WISD.WMS_SO_ID       = #wmsSoId#
       AND WISD.WMS_SQ_NUM      = #wmsSqNum#
       AND WISD.WH_CD           = #whCd#
       AND WISD.EZCANCELFLAG    = '0'
       AND WISD.GLBL_CMPY_CD    = WIM.GLBL_CMPY_CD(+)
       AND WISD.WMS_MDSE_CD     = WIM.WMS_MDSE_CD(+)
       AND WISD.WH_CD           = WIM.WH_CD(+)
       AND WIM.EZCANCELFLAG(+)  = '0'
       AND WIM.GLBL_CMPY_CD     = WIMU.GLBL_CMPY_CD(+)
       AND WIM.WMS_MDSE_CD      = WIMU.WMS_MDSE_CD(+)
       AND WIM.WH_CD            = WIMU.WH_CD(+)
       AND WIM.WMS_SQ_NUM       = WIMU.WMS_SQ_NUM(+)
       AND WIMU.EZCANCELFLAG(+) = '0'
       AND WIMU.WMS_UOM_CD(+)   = #wmsUomCdEa#
     GROUP BY
           WISD.WMS_MDSE_CD
          ,WIM.UNIT_CRTN_QTY
          ,WIM.UNIT_PLT_QTY
          ,WIMU.WMS_MDSE_LG_NUM
          ,WIMU.WMS_MDSE_WDT_NUM
          ,WIMU.WMS_MDSE_HGT_NUM
          ,WIMU.WMS_MDSE_VOL_NUM
    HAVING
           DECODE(NVL(WIM.UNIT_CRTN_QTY, 0), 0, DECODE(NVL(WIM.UNIT_PLT_QTY, 0), 0, SUM(WISD.WMS_SHIP_QTY), MOD(SUM(WISD.WMS_SHIP_QTY), WIM.UNIT_PLT_QTY)), MOD(SUM(WISD.WMS_SHIP_QTY), WIM.UNIT_CRTN_QTY)) &lt;&gt; 0
     ORDER BY
           TOTAL_WMS_MDSE_VOL_NUM DESC
          ,WISD.WMS_MDSE_CD
    </statement>

    <resultMap id="result.NLGL0010_ZSMsg"   class="NLGL0010_ZSMsg">
        <result property="wmsMdseCd_Z1"     column="WMS_MDSE_CD"            javaType="EZDSStringItem"/>
        <result property="wmsMdseLgNum_Z1"  column="WMS_MDSE_LG_NUM"        javaType="EZDSStringItem"/>
        <result property="wmsMdseWdtNum_Z1" column="WMS_MDSE_WDT_NUM"       javaType="EZDSStringItem"/>
        <result property="wmsMdseHgtNum_Z1" column="WMS_MDSE_HGT_NUM"       javaType="EZDSStringItem"/>
        <result property="wmsMdseVolNum_Z1" column="TOTAL_WMS_MDSE_VOL_NUM" javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getWmsInbdSoDtlList" parameterClass="Map" resultMap="result.WMS_INBD_SO_DTLTMsg">
    SELECT
           GLBL_CMPY_CD
          ,WH_CD
          ,WMS_SQ_NUM
          ,WMS_LINE_NUM
          ,INTFC_TP_ID
          ,INTFC_REC_TP_ID
          ,INTFC_REC_ACT_CD
          ,WMS_CMPY_CD
          ,WMS_SO_ID
          ,WMS_MDSE_CD
          ,S80_STK_STS_CD
          ,S80_STK_STS_CD_TO_CD
          ,CUST_MDSE_CD
          ,WMS_ORD_QTY
          ,BACK_ORD_QTY_NUM
          ,WMS_SHIP_QTY
          ,UNIT_PRC_AMT_NUM
          ,UNIT_DISC_AMT_NUM
          ,UNIT_DISC_PRC_AMT_NUM
          ,WMS_TOT_AMT_NUM
          ,IND_SER_ID
          ,IND_VOID_ALLW_FLG
          ,S80_STK_STS_CD_TO_CD
          ,MDSE_CD_SET_CD
          ,MDSE_CD_SET_DESC_TXT
          ,SHIP_SET_QTY
          ,UNIT_INSD_QTY
          ,WMS_RESRC_TXT
          ,ESS_PO_SQ_NUM
          ,ESS_MDSE_LINE_NUM
          ,ESS_LINE_NUM
          ,ESS_MSG_LINE_NUM
          ,CONSL_SO_ID
          ,CONSL_LINE_NUM
          ,ORIG_SO_ID
          ,ORIG_LINE_NUM
          ,TOT_SHIP_QTY
          ,TOT_WT_AMT_NUM
          ,TOT_VOL_AMT_NUM
          ,PO_BIN_LOC_CD
          ,PO_BULK_LOC_CD
          ,EST_CSE_AMT_NUM
          ,EST_PLT_AMT_NUM
          ,SO_MDSE_TP_CD
          ,WMS_PACK_TP_CD
          ,BAT_CPTR_REQ_FLG
          ,IND_CONFIG_FLG
          ,WMS_NET_AMT_NUM
          ,WMS_DISC_AMT_NUM
          ,WMS_TAX_AMT_NUM
          ,RTL_WH_CD
          ,RTL_SWH_CD
          ,SVC_CONFIG_MSTR_PK
          ,BACK_ORD_IMPCT_TP_CD
          ,WMS_ORD_UOM_CD
          ,PO_LINE_TXT
          ,USR_CD_ISTL_REF_TXT
          ,RMV_CONFIG_FLG
          ,ORIG_ORD_QTY
      FROM
           WMS_INBD_SO_DTL
     WHERE
           GLBL_CMPY_CD = #glblCmpyCd#
       AND WH_CD        = #whCd#
       AND WMS_SQ_NUM   = #wmsSqNum#
       AND EZCANCELFLAG = '0'
    </statement>

    <resultMap id="result.WMS_INBD_SO_DTLTMsg"   class="WMS_INBD_SO_DTLTMsg">
        <result property="glblCmpyCd"        column="GLBL_CMPY_CD"          javaType="EZDTStringItem"/>
        <result property="whCd"              column="WH_CD"                 javaType="EZDTStringItem"/>
        <result property="wmsSqNum"          column="WMS_SQ_NUM"            javaType="EZDTBigDecimalItem"/>
        <result property="wmsLineNum"        column="WMS_LINE_NUM"          javaType="EZDTBigDecimalItem"/>
        <result property="intfcTpId"         column="INTFC_TP_ID"           javaType="EZDTStringItem"/>
        <result property="intfcRecTpId"      column="INTFC_REC_TP_ID"       javaType="EZDTStringItem"/>
        <result property="intfcRecActCd"     column="INTFC_REC_ACT_CD"      javaType="EZDTStringItem"/>
        <result property="wmsCmpyCd"         column="WMS_CMPY_CD"           javaType="EZDTStringItem"/>
        <result property="wmsSoId"           column="WMS_SO_ID"             javaType="EZDTStringItem"/>
        <result property="wmsMdseCd"         column="WMS_MDSE_CD"           javaType="EZDTStringItem"/>
        <result property="s80StkStsCd"       column="S80_STK_STS_CD"        javaType="EZDTStringItem"/>
        <result property="s80StkStsCdToCd"   column="S80_STK_STS_CD_TO_CD"  javaType="EZDTStringItem"/>
        <result property="custMdseCd"        column="CUST_MDSE_CD"          javaType="EZDTStringItem"/>
        <result property="wmsOrdQty"         column="WMS_ORD_QTY"           javaType="EZDTBigDecimalItem"/>
        <result property="backOrdQtyNum"     column="BACK_ORD_QTY_NUM"      javaType="EZDTBigDecimalItem"/>
        <result property="wmsShipQty"        column="WMS_SHIP_QTY"          javaType="EZDTBigDecimalItem"/>
        <result property="unitPrcAmtNum"     column="UNIT_PRC_AMT_NUM"      javaType="EZDTBigDecimalItem"/>
        <result property="unitDiscAmtNum"    column="UNIT_DISC_AMT_NUM"     javaType="EZDTBigDecimalItem"/>
        <result property="unitDiscPrcAmtNum" column="UNIT_DISC_PRC_AMT_NUM" javaType="EZDTBigDecimalItem"/>
        <result property="wmsTotAmtNum"      column="WMS_TOT_AMT_NUM"       javaType="EZDTBigDecimalItem"/>
        <result property="indSerId"          column="IND_SER_ID"            javaType="EZDTStringItem"/>
        <result property="indVoidAllwFlg"    column="IND_VOID_ALLW_FLG"     javaType="EZDTStringItem"/>
        <result property="s80StkStsCdToCd"   column="S80_STK_STS_CD_TO_CD"  javaType="EZDTStringItem"/>
        <result property="mdseCdSetCd"       column="MDSE_CD_SET_CD"        javaType="EZDTStringItem"/>
        <result property="mdseCdSetDescTxt"  column="MDSE_CD_SET_DESC_TXT"  javaType="EZDTStringItem"/>
        <result property="shipSetQty"        column="SHIP_SET_QTY"          javaType="EZDTBigDecimalItem"/>
        <result property="unitInsdQty"       column="UNIT_INSD_QTY"         javaType="EZDTBigDecimalItem"/>
        <result property="wmsResrcTxt"       column="WMS_RESRC_TXT"         javaType="EZDTStringItem"/>
        <result property="essPoSqNum"        column="ESS_PO_SQ_NUM"         javaType="EZDTBigDecimalItem"/>
        <result property="essMdseLineNum"    column="ESS_MDSE_LINE_NUM"     javaType="EZDTBigDecimalItem"/>
        <result property="essLineNum"        column="ESS_LINE_NUM"          javaType="EZDTBigDecimalItem"/>
        <result property="essMsgLineNum"     column="ESS_MSG_LINE_NUM"      javaType="EZDTBigDecimalItem"/>
        <result property="conslSoId"         column="CONSL_SO_ID"           javaType="EZDTStringItem"/>
        <result property="conslLineNum"      column="CONSL_LINE_NUM"        javaType="EZDTStringItem"/>
        <result property="origSoId"          column="ORIG_SO_ID"            javaType="EZDTStringItem"/>
        <result property="origLineNum"       column="ORIG_LINE_NUM"         javaType="EZDTBigDecimalItem"/>
        <result property="totShipQty"        column="TOT_SHIP_QTY"          javaType="EZDTBigDecimalItem"/>
        <result property="totWtAmtNum"       column="TOT_WT_AMT_NUM"        javaType="EZDTBigDecimalItem"/>
        <result property="totVolAmtNum"      column="TOT_VOL_AMT_NUM"       javaType="EZDTBigDecimalItem"/>
        <result property="poBinLocCd"        column="PO_BIN_LOC_CD"         javaType="EZDTStringItem"/>
        <result property="poBulkLocCd"       column="PO_BULK_LOC_CD"        javaType="EZDTStringItem"/>
        <result property="estCseAmtNum"      column="EST_CSE_AMT_NUM"       javaType="EZDTBigDecimalItem"/>
        <result property="estPltAmtNum"      column="EST_PLT_AMT_NUM"       javaType="EZDTBigDecimalItem"/>
        <result property="soMdseTpCd"        column="SO_MDSE_TP_CD"         javaType="EZDTStringItem"/>
        <result property="wmsPackTpCd"       column="WMS_PACK_TP_CD"        javaType="EZDTStringItem"/>
        <result property="batCptrReqFlg"     column="BAT_CPTR_REQ_FLG"      javaType="EZDTStringItem"/>
        <result property="indConfigFlg"      column="IND_CONFIG_FLG"        javaType="EZDTStringItem"/>
        <result property="wmsNetAmtNum"      column="WMS_NET_AMT_NUM"       javaType="EZDTBigDecimalItem"/>
        <result property="wmsDiscAmtNum"     column="WMS_DISC_AMT_NUM"      javaType="EZDTBigDecimalItem"/>
        <result property="wmsTaxAmtNum"      column="WMS_TAX_AMT_NUM"       javaType="EZDTBigDecimalItem"/>
        <result property="rtlWhCd"           column="RTL_WH_CD"             javaType="EZDTStringItem"/>
        <result property="rtlSwhCd"          column="RTL_SWH_CD"            javaType="EZDTStringItem"/>
        <result property="svcConfigMstrPk"   column="SVC_CONFIG_MSTR_PK"    javaType="EZDTBigDecimalItem"/>
        <result property="backOrdImpctTpCd"  column="BACK_ORD_IMPCT_TP_CD"  javaType="EZDTStringItem"/>
        <result property="wmsOrdUomCd"       column="WMS_ORD_UOM_CD"        javaType="EZDTStringItem"/>
        <result property="poLineTxt"         column="PO_LINE_TXT"           javaType="EZDTStringItem"/>
        <result property="usrCdIstlRefTxt"   column="USR_CD_ISTL_REF_TXT"   javaType="EZDTStringItem"/>
        <result property="rmvConfigFlg"      column="RMV_CONFIG_FLG"        javaType="EZDTStringItem"/>
        <result property="origOrdQty"        column="ORIG_ORD_QTY"          javaType="EZDTBigDecimalItem"/>
                
    </resultMap>

    <statement id="getWmsInbdSoTextList" parameterClass="Map" resultMap="result.WMS_INBD_SO_TEXTTMsg">
    SELECT
           GLBL_CMPY_CD
          ,WH_CD
          ,WMS_SQ_NUM
          ,WMS_TXT_CD
          ,INTFC_TP_ID
          ,INTFC_REC_TP_ID
          ,INTFC_REC_ACT_CD
          ,WMS_CMPY_CD
          ,WMS_SO_ID
          ,WMS_PRINT_TP_CD
          ,INBD_SO_MSG_TXT_01
          ,INBD_SO_MSG_TXT_02
          ,INBD_SO_MSG_TXT_03
          ,INBD_SO_MSG_TXT_04
          ,WMS_RESRC_TXT
      FROM
           WMS_INBD_SO_TEXT
     WHERE
           GLBL_CMPY_CD = #glblCmpyCd#
       AND WH_CD        = #whCd#
       AND WMS_SQ_NUM   = #wmsSqNum#
       AND EZCANCELFLAG = '0'
    </statement>

    <resultMap id="result.WMS_INBD_SO_TEXTTMsg"   class="WMS_INBD_SO_TEXTTMsg">
        <result property="glblCmpyCd"      column="GLBL_CMPY_CD"       javaType="EZDTStringItem"/>
        <result property="whCd"            column="WH_CD"              javaType="EZDTStringItem"/>
        <result property="wmsSqNum"        column="WMS_SQ_NUM"         javaType="EZDTBigDecimalItem"/>
        <result property="wmsTxtCd"        column="WMS_TXT_CD"         javaType="EZDTStringItem"/>
        <result property="intfcTpId"       column="INTFC_TP_ID"        javaType="EZDTStringItem"/>
        <result property="intfcRecTpId"    column="INTFC_REC_TP_ID"    javaType="EZDTStringItem"/>
        <result property="intfcRecActCd"   column="INTFC_REC_ACT_CD"   javaType="EZDTStringItem"/>
        <result property="wmsCmpyCd"       column="WMS_CMPY_CD"        javaType="EZDTStringItem"/>
        <result property="wmsSoId"         column="WMS_SO_ID"          javaType="EZDTStringItem"/>
        <result property="wmsPrintTpCd"    column="WMS_PRINT_TP_CD"    javaType="EZDTStringItem"/>
        <result property="inbdSoMsgTxt_01" column="INBD_SO_MSG_TXT_01" javaType="EZDTStringItem"/>
        <result property="inbdSoMsgTxt_02" column="INBD_SO_MSG_TXT_02" javaType="EZDTStringItem"/>
        <result property="inbdSoMsgTxt_03" column="INBD_SO_MSG_TXT_03" javaType="EZDTStringItem"/>
        <result property="inbdSoMsgTxt_04" column="INBD_SO_MSG_TXT_04" javaType="EZDTStringItem"/>
        <result property="wmsResrcTxt"     column="WMS_RESRC_TXT"      javaType="EZDTStringItem"/>
    </resultMap>

    <statement id="getWmsInbdSoHdr" parameterClass="Map" resultMap="result.getWmsInbdSoHdr">
    SELECT
           SOH.GLBL_CMPY_CD
          ,SOH.WH_CD
          ,SOH.WMS_SQ_NUM
          ,SOH.SHIP_DT_TM_TS
          ,SOH.WMS_CANC_DT_TM_TS
      FROM
           WMS_INBD_SO_HDR SOH
     WHERE
           SOH.GLBL_CMPY_CD = #glblCmpyCd#
       AND SOH.WH_CD        = #whCd#
       AND SOH.WMS_SO_ID    = #wmsSoId#
       AND SOH.EZCANCELFLAG = '0'
     ORDER BY SOH.WMS_SQ_NUM DESC
       FOR UPDATE
    </statement>
    <resultMap id="result.getWmsInbdSoHdr" class="WMS_INBD_SO_HDRTMsg">
        <result property="glblCmpyCd"      column="GLBL_CMPY_CD"       javaType="EZDTStringItem"/>
        <result property="whCd"            column="WH_CD"              javaType="EZDTStringItem"/>
        <result property="wmsSqNum"        column="WMS_SQ_NUM"         javaType="EZDTBigDecimalItem"/>
        <result property="shipDtTmTs"      column="SHIP_DT_TM_TS"      javaType="EZDTStringItem"/>
        <result property="wmsCancDtTmTs"   column="WMS_CANC_DT_TM_TS"  javaType="EZDTStringItem"/>
    </resultMap>
    <statement id="getWmsInbdSoHdrWmsOrdTp" parameterClass="Map" resultMap="result.getWmsInbdSoHdrWmsOrdTp">
    SELECT
           SOH.GLBL_CMPY_CD
          ,SOH.WH_CD
          ,SOH.WMS_SQ_NUM
          ,SOH.WMS_ORD_TP_CD
      FROM
           WMS_INBD_SO_HDR SOH
     WHERE
           SOH.GLBL_CMPY_CD = #glblCmpyCd#
       AND SOH.WH_CD        = #whCd#
       AND SOH.WMS_SO_ID    = #wmsSoId#
       AND SOH.EZCANCELFLAG = '0'
    </statement>
    <resultMap id="result.getWmsInbdSoHdrWmsOrdTp" class="WMS_INBD_SO_HDRTMsg">
        <result property="glblCmpyCd"      column="GLBL_CMPY_CD"       javaType="EZDTStringItem"/>
        <result property="whCd"            column="WH_CD"              javaType="EZDTStringItem"/>
        <result property="wmsSqNum"        column="WMS_SQ_NUM"         javaType="EZDTBigDecimalItem"/>
        <result property="wmsOrdTpCd"      column="WMS_ORD_TP_CD"      javaType="EZDTStringItem"/>
    </resultMap>


    <statement id="getRtlWhPullDownList" parameterClass="Map" resultClass="Map">
    SELECT
           RW.RTL_WH_CD                 RTL_WH_CD
          ,RW.RTL_WH_NM                 RTL_WH_NM
      FROM
           RTL_WH RW
          ,WMS_WH WH
     WHERE
           RW.GLBL_CMPY_CD          =  #glblCmpyCd#
       AND RW.WMS_WH_CD IS NOT NULL
       AND RW.EZCANCELFLAG          =  '0'
       AND WH.GLBL_CMPY_CD          =  RW.GLBL_CMPY_CD
       AND WH.WH_CD                 =  RW.WMS_WH_CD
       AND WH.MW_REPL_TRGT_GRP_CD   IS NOT NULL
       AND WH.EZCANCELFLAG          =  '0'
     ORDER BY
           RTL_WH_CD
    </statement>
    <statement id="get3PLWhCode" parameterClass="Map" resultClass="String">
    SELECT 
        LOC.WH_OWNR_CD
    FROM
        TPL_LOC    LOC
       ,WH_OWNR    OWN
    WHERE
        LOC.GLBL_CMPY_CD  = #glblCmpyCd#
    AND LOC.EZCANCELFLAG  = '0'
    AND LOC.GLBL_CMPY_CD  = OWN.GLBL_CMPY_CD
    AND LOC.WH_OWNR_CD    = OWN.WH_OWNR_CD
    AND OWN.EZCANCELFLAG  = '0'
    AND NOT EXISTS(
                SELECT
                    1
                FROM
                    RTL_WH RTL
                   ,WMS_WH WMS
                WHERE
                    RTL.GLBL_CMPY_CD = LOC.GLBL_CMPY_CD
                AND RTL.RTL_WH_CD    = LOC.TPL_LOC_CD
                AND RTL.EZCANCELFLAG = '0'
                AND RTL.GLBL_CMPY_CD = WMS.GLBL_CMPY_CD
                AND RTL.WMS_WH_CD    = WMS.WH_CD
                AND WMS.EZCANCELFLAG = '0'
                )
    AND LOC.WH_OWNR_CD    = #invtyOwnrCd#
    </statement>
    <statement id="get3PLShipVia" parameterClass="Map" resultClass="Map">
    SELECT
        DISTINCT
        TL.TPL_SVC_LVL_CD
       ,TL.TPL_SVC_LVL_NM
    FROM
        TPL_CARR_SVC_LVL TL
    WHERE
        TL.GLBL_CMPY_CD   = #glblCmpyCd#
    AND TL.WH_OWNR_CD     = #invtyOwnrCd#
    AND TL.TPL_SVC_LVL_CD IS NOT NULL
    AND TL.EZCANCELFLAG   = '0'
    </statement>
    <statement id="getRelatedSSL" parameterClass="Map" resultClass="String">
    SELECT
        SV.SHPG_SVC_LVL_CD
    FROM
        SHIP_VIA_CONV SV
    WHERE
        SV.GLBL_CMPY_CD    = #glblCmpyCd#
    AND SV.S80_SHIP_VIA_CD = #shipViaCd#
    AND SV.EZCANCELFLAG    = '0'
    </statement>
    <statement id="getValidSSL" parameterClass="Map" resultClass="String">
    SELECT
        SV.SHPG_SVC_LVL_CD
    FROM
        SHIP_VIA_CONV SV
    WHERE
        SV.GLBL_CMPY_CD    = #glblCmpyCd#
    AND SV.S80_SHIP_VIA_CD = #shipViaCd#
    AND SV.SHPG_SVC_LVL_CD = #shpgSvsLvlCd#
    AND SV.EZCANCELFLAG    = '0'
    </statement>
    <statement id="get3PLRelatedSSLCarrier" parameterClass="Map" resultClass="Map">
    SELECT
        TL.SHPG_SVC_LVL_CD
       ,TL.CARR_CD
    FROM
        TPL_CARR_SVC_LVL TL
    WHERE
        TL.GLBL_CMPY_CD   = #glblCmpyCd#
    AND TL.WH_OWNR_CD     = #invtyOwnrCd#
    AND TL.TPL_SVC_LVL_CD = #shipViaCd#
    AND TL.EZCANCELFLAG   = '0'
    </statement>
    <statement id="getValid3PLSSLCarrier" parameterClass="Map" resultClass="Map">
    SELECT
        TL.SHPG_SVC_LVL_CD
       ,TL.CARR_CD
    FROM
        TPL_CARR_SVC_LVL TL
    WHERE
        TL.GLBL_CMPY_CD    = #glblCmpyCd#
    AND TL.WH_OWNR_CD      = #invtyOwnrCd#
    AND TL.TPL_SVC_LVL_CD  = #shipViaCd#
    AND TL.SHPG_SVC_LVL_CD = #shpgSvsLvlCd#
    AND TL.CARR_CD         = #carrCd#
    AND TL.EZCANCELFLAG    = '0'
    </statement>
    <statement id="getValidSSLCarrier" parameterClass="Map" resultClass="Map">
    SELECT
        SR.SHPG_SVC_LVL_CD
       ,SR.CARR_CD
    FROM
        SHPG_SVC_LVL_CARR_RELN SR
    WHERE
        SR.GLBL_CMPY_CD    = #glblCmpyCd#
    AND SR.SHPG_SVC_LVL_CD = #shpgSvsLvlCd#
    AND SR.CARR_CD         = #carrCd#
    AND SR.EZCANCELFLAG    = '0'
    </statement>
    <statement id="getShpgOrdKey" parameterClass="Map" resultClass="Map">
    SELECT
        SO.SO_NUM
       ,SO.GLBL_CMPY_CD
    FROM
        WMS_INBD_SO_HDR WISH
       ,SHPG_ORD SO
    WHERE
        WISH.GLBL_CMPY_CD   = #glblCmpyCd#
    AND WISH.WH_CD          = #whCd#
    AND WISH.WMS_SO_ID      = #wmsSoId#
    AND WISH.WMS_SQ_NUM     = #wmsSqNum#
    AND WISH.EZCANCELFLAG   = '0'
    AND WISH.GLBL_CMPY_CD   = SO.GLBL_CMPY_CD
    AND WISH.WMS_SO_ID      = SO.SO_NUM
    AND SO.EZCANCELFLAG   = '0'
    </statement>
    <statement id="getMaxRowIdOfShpgDrd" parameterClass="Map" resultClass="String">
    SELECT
        MAX(ROWID)
    FROM
        WMS_INBD_SO_HDR WISH
    WHERE
        WISH.GLBL_CMPY_CD = #glblCmpyCd#
    AND WISH.WH_CD        = #whCd#
    AND WISH.WMS_SO_ID    = #wmsSoId#
    AND WISH.EZCANCELFLAG = '0'
    </statement>
    <statement id="getShpgOrdKeyFromRowId" parameterClass="Map" resultClass="Map">
    SELECT
        SO.SO_NUM
       ,SO.GLBL_CMPY_CD
    FROM
        WMS_INBD_SO_HDR WISH
       ,SHPG_ORD SO
    WHERE
        WISH.GLBL_CMPY_CD   = #glblCmpyCd#
    AND WISH.ROWID          = #rowId#
    AND WISH.GLBL_CMPY_CD   = SO.GLBL_CMPY_CD
    AND WISH.WMS_SO_ID      = SO.SO_NUM
    AND SO.EZCANCELFLAG     = '0'
    </statement>
    <statement id="getFlightTermsInfo" parameterClass="Map" resultClass="Map">
    SELECT
        STC.FRT_CHRG_TO_CD
       ,STC.FRT_CHRG_METH_CD
    FROM
        SHPG_TERM_CONV STC
    WHERE
        STC.GLBL_CMPY_CD     = #glblCmpyCd#
    AND STC.S80_SHPG_TERM_CD = #wmsFrtOutCd#
    AND STC.EZCANCELFLAG     = '0'
    </statement>
    <statement id="getShpgOrdCustDtlKey" parameterClass="Map" resultClass="Map">
    SELECT
        SOCD.SO_NUM
       ,SOCD.SO_CUST_DATA_TP_CD
       ,SOCD.GLBL_CMPY_CD
    FROM
        SHPG_ORD_CUST_DTL SOCD
    WHERE
        SOCD.GLBL_CMPY_CD     = #glblCmpyCd#
    AND SOCD.SO_NUM           = #soNum#
    AND SOCD.EZCANCELFLAG     = '0'
    </statement>
    <statement id="getSoSerPk" parameterClass="Map" resultClass="Map">
    SELECT
        SS.SO_SER_PK
       ,SS.GLBL_CMPY_CD
    FROM
        SO_SER SS
    WHERE
        SS.GLBL_CMPY_CD     = #glblCmpyCd#
    AND SS.SO_NUM           = #soNum#
    AND SS.EZCANCELFLAG     = '0'
    </statement>
    <statement id="getShpgOrdMsgPk" parameterClass="Map" resultClass="Map">
    SELECT
        MSG.SO_NUM
       ,MSG.SO_MSG_TP_CD
       ,MSG.TXT_SQ_NUM
       ,MSG.GLBL_CMPY_CD
    FROM
        SHPG_ORD_MSG MSG
    WHERE
        MSG.GLBL_CMPY_CD   = #glblCmpyCd#
    AND MSG.SO_NUM         = #soNum#
    AND MSG.EZCANCELFLAG   = '0'
    </statement>
    <statement id="getSceOrdTypeSerNumTakeFlg" parameterClass="Map" resultClass="String">
    SELECT
        SOT.SER_NUM_TAKE_FLG
    FROM
        SCE_ORD_TP SOT
    WHERE
        SOT.GLBL_CMPY_CD  = #glblCmpyCd#
    AND SOT.SCE_ORD_TP_CD = #sceOrdTpCd#
    AND SOT.EZCANCELFLAG  = '0'
    </statement>
    <statement id="getMdseSerNumTakeFlg" parameterClass="Map" resultClass="String">
    SELECT
        MDSE.SHPG_SER_TAKE_FLG
    FROM
       MDSE MDSE
    WHERE
        MDSE.GLBL_CMPY_CD = #glblCmpyCd#
    AND MDSE.MDSE_CD      = #mdseCd#
    AND MDSE.EZCANCELFLAG = '0'
    </statement>
    <statement id="getDsOrdTpProcDfnFlg" parameterClass="Map" resultClass="String">
    SELECT
       DFN.OUT_OF_WH_NODE_USG_FLG
    FROM
        SHPG_ORD_DTL       SOD
       ,CPO                CPO
       ,CPO_DTL            CPOD
       ,DS_ORD_TP_PROC_DFN DFN
    WHERE
        SOD.GLBL_CMPY_CD     = #glblCmpyCd#
    AND SOD.SO_NUM           = #soNum#
    AND SOD.SO_SLP_NUM       = #soSlpNum#
    AND SOD.GLBL_CMPY_CD     = CPOD.GLBL_CMPY_CD
    AND SOD.TRX_HDR_NUM      = CPOD.CPO_ORD_NUM
    AND SOD.TRX_LINE_NUM     = CPOD.CPO_DTL_LINE_NUM
    AND SOD.TRX_LINE_SUB_NUM = CPOD.CPO_DTL_LINE_SUB_NUM
    AND CPOD.CPO_ORD_NUM     = CPO.CPO_ORD_NUM
    AND CPOD.GLBL_CMPY_CD    = CPO.GLBL_CMPY_CD
    AND CPO.DS_ORD_TP_CD     = DFN.DS_ORD_TP_CD
    AND CPO.GLBL_CMPY_CD     = DFN.GLBL_CMPY_CD
    AND SOD.EZCANCELFLAG     = '0'
    AND CPO.EZCANCELFLAG     = '0'
    AND CPOD.EZCANCELFLAG    = '0'
    AND DFN.EZCANCELFLAG     = '0'
    </statement>
    <statement id="getOrdProcTpFlg" parameterClass="Map" resultClass="String">
    SELECT
       TP.OUT_OF_WH_INVTY_PROC_FLG
    FROM
        SHPG_ORD_DTL         SOD
       ,CPO                  CPO
       ,CPO_DTL              CPOD
       ,DS_ORD_LINE_PROC_DFN DFN
       ,ORD_PROC_TP          TP
    WHERE 
        SOD.GLBL_CMPY_CD         = #glblCmpyCd#
    AND SOD.SO_NUM               = #soNum#
    AND SOD.SO_SLP_NUM           = #soSlpNum#
    AND SOD.GLBL_CMPY_CD         = CPOD.GLBL_CMPY_CD
    AND SOD.TRX_HDR_NUM          = CPOD.CPO_ORD_NUM
    AND SOD.TRX_LINE_NUM         = CPOD.CPO_DTL_LINE_NUM
    AND SOD.TRX_LINE_SUB_NUM     = CPOD.CPO_DTL_LINE_SUB_NUM
    AND CPOD.CPO_ORD_NUM         = CPO.CPO_ORD_NUM
    AND CPOD.GLBL_CMPY_CD        = CPO.GLBL_CMPY_CD
    AND CPO.DS_ORD_TP_CD         = DFN.DS_ORD_TP_CD
    AND CPOD.DS_ORD_LINE_CATG_CD = DFN.DS_ORD_LINE_CATG_CD
    AND CPO.GLBL_CMPY_CD         = DFN.GLBL_CMPY_CD
    AND DFN.ORD_PROC_TP_CD       = TP.ORD_PROC_TP_CD
    AND DFN.GLBL_CMPY_CD         = TP.GLBL_CMPY_CD
    AND SOD.EZCANCELFLAG         = '0'
    AND CPO.EZCANCELFLAG         = '0'
    AND CPOD.EZCANCELFLAG        = '0'
    AND DFN.EZCANCELFLAG         = '0'
    AND TP.EZCANCELFLAG          = '0'
    </statement>
    <statement id="getMdseFlg" parameterClass="Map" resultClass="String">
    SELECT
       MDSE.INSTL_BASE_CTRL_FLG
    FROM
        SHPG_ORD_DTL         SOD
       ,MDSE                 MDSE
    WHERE 
        SOD.GLBL_CMPY_CD         = #glblCmpyCd#
    AND SOD.SO_NUM               = #soNum#
    AND SOD.SO_SLP_NUM           = #soSlpNum#
    AND SOD.GLBL_CMPY_CD         = MDSE.GLBL_CMPY_CD
    AND SOD.MDSE_CD              = MDSE.MDSE_CD
    AND SOD.EZCANCELFLAG         = '0'
    AND MDSE.EZCANCELFLAG        = '0'
    </statement>
	<statement id="getRelatedRtlWhPullDownList" parameterClass="Map" resultClass="Map">
     SELECT
         RW.RTL_WH_CD
        ,RW.RTL_WH_NM
     FROM
         WMS_WH  WW
        ,RTL_WH  RW
     WHERE
         WW.GLBL_CMPY_CD = #glblCmpyCd#
     AND WW.WH_CD        = #whCd#
     AND WW.EZCANCELFLAG = '0'
     AND WW.GLBL_CMPY_CD = RW.GLBL_CMPY_CD
     AND WW.WH_CD        = RW.WMS_WH_CD
     AND RW.EZCANCELFLAG = '0'
     UNION
     SELECT DISTINCT
         RW.RTL_WH_CD
        ,RW.RTL_WH_NM
     FROM
         TPL_LOC TL
        ,RTL_WH  RW
     WHERE
         TL.GLBL_CMPY_CD = #glblCmpyCd#
     AND TL.WH_OWNR_CD   = #whCd#
     AND TL.EZCANCELFLAG = '0'
     AND TL.GLBL_CMPY_CD = RW.GLBL_CMPY_CD
     AND TL.TPL_LOC_CD   = RW.RTL_WH_CD
     AND TL.WH_OWNR_CD   = RW.WH_OWNR_CD
     AND RW.EZCANCELFLAG = '0'
     AND NOT EXISTS (SELECT
                         1
                     FROM
                         WMS_WH WW
                     WHERE
                         WW.GLBL_CMPY_CD = RW.GLBL_CMPY_CD
                     AND WW.WH_CD        = RW.WMS_WH_CD
                     AND WW.EZCANCELFLAG = '0'
                    )
     
     </statement>

    <statement id="getS80OrdTpCd" parameterClass="Map" resultClass="String">
    SELECT
           SOT.S80_ORD_TP_CD
      FROM
           SCE_ORD_TP SOT
     WHERE
           SOT.GLBL_CMPY_CD  = #glblCmpyCd#
       AND SOT.SCE_ORD_TP_CD = #sceOrdTpCd#
       AND SOT.INBD_OTBD_CD  = #inbdOtbdCd#
       AND EZCANCELFLAG      = '0'
    </statement>
</sqlMap>
