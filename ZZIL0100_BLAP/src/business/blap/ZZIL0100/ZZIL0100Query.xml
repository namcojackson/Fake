<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZZIL0100Query">

	<typeAlias alias="ZZIL0100_ASMsg"	type="business.blap.ZZIL0100.ZZIL0100_ASMsg"/>
	<typeAlias alias="HashMap"			type="java.util.HashMap"/>
	
	<statement id="getConfigNames" parameterClass="Map" resultMap="configNames">
		SELECT
				C.ITRL_INTFC_TRX_CONFIG_ID
			,	C.ITRL_INTFC_TRX_TBL_ID
			,	C.ITRL_INTFC_TRX_CONFIG_NM
		FROM
				ITRL_INTFC_TRX_CONFIG C
		WHERE
				C.EZCANCELFLAG  = '0'
				AND C.ITRL_INTFC_TRX_CONFIG_ID != 'ITRL_ID_MYID'
	</statement>
	
	<statement id="getTransList" parameterClass="Map" resultMap="result.ZZIL0100_ASMsg">
		SELECT
				T.ITRL_INTFC_ID				AS  ITRL_INTFC_ID
			,	T.EZINTIME					AS	EZINTIME
			,	T.EZINTIMEZONE				AS	EZINTIMEZONE
			,	T.EZUPTIME					AS	EZUPTIME
			,	T.EZUPTIMEZONE				AS	EZUPTIMEZONE
			,	T.EZINAPLID					AS	EZINAPLID
			,	T.EZUPAPLID					AS	EZUPAPLID
			,	T.ITRL_TRX_SQ				AS	ITRL_TRX_SQ
			,	T.ITRL_PROC_FLG				AS	ITRL_PROC_FLG
			,	T.ITRL_INTFC_REC_CNT		AS	ITRL_INTFC_REC_CNT
		FROM
				$tableId$ T
		WHERE
			T.ITRL_INTFC_ID  = #cMsg.itrlIntfcId#
			AND T.ITRL_INTFC_TRX_CONFIG_ID = #configId#
			AND T.EZCANCELFLAG  = '0'
			AND ROWNUM &lt;= #maxSize#

		<!-- transactionId -->
		<isNotNull property="cMsg.transactionId">
			AND T.ITRL_TRX_SQ = #cMsg.transactionId#
		</isNotNull>
		
		<!-- processedFlag -->
		<isNotNull property="cMsg.processedFlag_PS">
			AND T.ITRL_PROC_FLG = #cMsg.processedFlag_PS#
		</isNotNull>
		
		<!-- registerDateFrom -->
		<isNotNull property="registerDateFrom">
			AND T.EZINTIME &gt;= #registerDateFrom#
		</isNotNull>
			
		<!-- registerDateTo -->
		<isNotNull property="registerDateTo">
			AND T.EZINTIME &lt;= #registerDateTo#
		</isNotNull>

		<!-- updatedDateFrom -->
		<isNotNull property="updatedDateFrom">
			AND T.EZUPTIME &gt;= #updatedDateFrom#
		</isNotNull>
			
		<!-- updatedDateTo -->
		<isNotNull property="updatedDateTo">
			AND T.EZUPTIME &lt;= #updatedDateTo#
		</isNotNull>
			
		ORDER BY
				T.ITRL_TRX_SQ DESC
	</statement>

	<resultMap id="result.ZZIL0100_ASMsg" 		class="ZZIL0100_ASMsg">
		<result property="itrlIntfcId_A"		column="ITRL_INTFC_ID"			javaType="EZDSStringItem"/>
		<result property="xxDtTm_AC"			column="EZINTIME"				javaType="EZDSStringItem"/>
		<result property="xxIntfcUpdTz_AC"		column="EZINTIMEZONE"			javaType="EZDSStringItem"/>
		<result property="xxDtTm_AU"			column="EZUPTIME"				javaType="EZDSStringItem"/>
		<result property="xxIntfcUpdTz_AU"		column="EZUPTIMEZONE"			javaType="EZDSStringItem"/>
		<result property="procPgmId_AC"		    column="EZINAPLID"				javaType="EZDSStringItem"/>
		<result property="procPgmId_AU"		    column="EZUPAPLID"				javaType="EZDSStringItem"/>
		<result property="transactionId_A"		column="ITRL_TRX_SQ"			javaType="EZDSBigDecimalItem"/>
		<result property="processedFlag_A"		column="ITRL_PROC_FLG"			javaType="EZDSStringItem"/>
		<result property="itrlIntfcRecCnt_A"	column="ITRL_INTFC_REC_CNT"		javaType="EZDSStringItem"/>
	</resultMap>

	<resultMap id="configNames" class="HashMap">
		<result property="trxTbl"				column="ITRL_INTFC_TRX_TBL_ID"		javaType="String" />
		<result property="configName"			column="ITRL_INTFC_TRX_CONFIG_NM"	javaType="String" />
		<result property="configId"				column="ITRL_INTFC_TRX_CONFIG_ID"	javaType="String" />
	</resultMap>


</sqlMap>