<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NPAL1340Query">
    <typeAlias alias="NPAL1340_ASMsg"    type="business.blap.NPAL1340.NPAL1340_ASMsg"/>

    <statement id="searchPoNumberList" parameterClass="Map" resultClass="Map">
        SELECT 
               PO.PO_ORD_NUM PO_ORD_NUM
        FROM   PO PO
        WHERE  PO.GLBL_CMPY_CD          =     #glblCmpyCd#
        <isNotNull property="cMsg.poOrdNum_H1">
        AND    PO.PO_ORD_NUM            =     #cMsg.poOrdNum_H1#
        </isNotNull>
        <isNotNull property="cMsg.vndNm_H1">
        AND    UPPER(PO.VND_NM)         LIKE  #cMsg.vndNm_H1#
        </isNotNull>
        AND    PO.EZCANCELFLAG          =     '0'
        <isNotNull property="cMsg.prntvndNm_H1">
        AND    UPPER(PO.PRNT_VND_NM)   LIKE  #cMsg.prntvndNm_H1#
        </isNotNull>
        <isEqual property="cMsg.xxChkBox_H1" compareValue="Y">
        AND    PO.PO_HDR_STS_CD        =     #poHdrStsCdOpen#
        </isEqual>
        AND    PO.PO_QLFY_CD           =     #custDropShipPoQlfy#
        AND    EXISTS
               (SELECT 1
                FROM   PO_DTL PD
                WHERE  PD.GLBL_CMPY_CD            = PO.GLBL_CMPY_CD
                AND    PD.PO_ORD_NUM              = PO.PO_ORD_NUM
                <isNotNull property="cMsg.cpoOrdNum_H1">
                AND    PD.CPO_ORD_NUM             = #cMsg.cpoOrdNum_H1#
                </isNotNull>
                AND    PD.EZCANCELFLAG            = '0'
                <isNotNull property="cMsg.shipToAcctNm_H1">
                AND    UPPER(PD.SHIP_TO_ACCT_NM) LIKE #cMsg.shipToAcctNm_H1#
                </isNotNull>
               )
        ORDER BY
           PO_ORD_NUM
    </statement>

    <statement id="searchPoNumber" parameterClass="Map" resultMap="result.NPAL1340_ASMsg">
        <!-- START 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
        <!-- SELECT -->
        SELECT DISTINCT
        <!-- END 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
             MAIN.PO_ORD_NUM_AH
            ,MAIN.CPO_ORD_NUM_AH
            ,MAIN.PRNT_VND_CD_AH
            ,MAIN.PRNT_VND_NM_AH
            ,MAIN.VND_CD_AH
            ,MAIN.VND_NM_AH
            ,MAIN.SELL_TO_CUST_CD_AH
            ,MAIN.BILL_TO_CUST_CD_AH
            ,MAIN.DS_ACCT_NM_AH
            ,MAIN.CUST_ISS_PO_NUM_AH
            ,MAIN.CUST_ISS_PO_DT_AH
            ,MAIN.XX_ALL_LINE_ADDR_AH
            ,MAIN.PO_STS_CD_AH
            ,MAIN.PO_HDR_STS_CD_AH
            ,MAIN.PO_HDR_STS_DESC_TXT_AH
            ,MAIN.VND_ISS_PO_ORD_NUM_AH
            ,MAIN.PO_QLFY_CD_AH
            ,MAIN.PO_ORD_SRC_DESC_TXT_AH
            ,MAIN.FRT_COND_DESC_TXT_AH
            ,MAIN.SP_TOT_FUNC_FRT_AMT_AH
            ,MAIN.ENT_PO_DTL_DEAL_NET_AMT_AH
            ,MAIN.CCY_CD_AH
            ,MAIN.PO_ORD_SRC_NM_AH
            ,MAIN.DISP_PO_DTL_LINE_NUM_A1
            ,MAIN.XX_SCR_ITEM_8_TXT_A1
            ,MAIN.MDSE_CD_A1
            ,MAIN.MDSE_DESC_SHORT_TXT_A1
            ,MAIN.XX_SCR_ITEM_8_TXT_A2
            ,MAIN.ENT_DEAL_NET_UNIT_PRC_AMT_A1
            ,MAIN.PO_DISP_QTY_A1
            ,MAIN.PO_QTY_A1
            ,MAIN.PO_BAL_QTY_A1
            ,MAIN.PO_RCV_QTY_A1
            ,MAIN.PRO_NUM_A1
            <!-- QC#56979 ADD START -->
            ,MAIN.CARR_TRK_URL_A1
            <!-- QC#56979 ADD END -->
            ,MAIN.VND_CD_A1
            ,MAIN.VND_NM_A1
            ,MAIN.PO_ORD_DTL_CMNT_TXT_A1
            ,MAIN.VND_ISS_PO_ORD_NUM_A1
            ,MAIN.PO_RCV_ETA_DT_A1
            ,MAIN.DOM_INV_NUM_A1
            ,MAIN.CPO_ORD_TP_CD_A1
            ,MAIN.CPO_DTL_LINE_NUM_A1
            ,MAIN.CPO_DTL_LINE_SUB_NUM_A1
            ,MAIN.SHPG_PLN_NUM_A1
            ,MAIN.PO_ORD_DTL_LINE_NUM_A1
            ,MAIN.PO_STS_CD_A1
            ,MAIN.ORIG_PO_ORD_DTL_LINE_NUM_A1
            ,MAIN.PO_RCV_NUM_A1
            ,MAIN.PO_RCV_LINE_NUM_A1
            ,MAIN.CARR_CD_A1
            ,MAIN.CARR_NM_A1
            ,MAIN.PO_LINE_STS_CD_A1
            <!-- START 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
            ,MAIN.SHPG_STS_CD_A1
            <!-- END 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
            ,MAIN.EZUPTIME_PO
            ,MAIN.EZUPTIMEZONE_PO
            ,MAIN.EZUPTIME_DP
            ,MAIN.EZUPTIMEZONE_DP
            ,MAIN.EZUPTIME_PD
            ,MAIN.EZUPTIMEZONE_PD
            ,MAIN.EZUPTIME_DD
            ,MAIN.EZUPTIMEZONE_DD
            ,MAIN.EZUPTIME_SP
            ,MAIN.EZUPTIMEZONE_SP
            <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
            ,MAIN.XX_REC_HIST_CRAT_TS
            ,MAIN.XX_REC_HIST_CRAT_BY_NM
            ,MAIN.XX_REC_HIST_UPD_TS
            ,MAIN.XX_REC_HIST_UPD_BY_NM
            ,MAIN.XX_REC_HIST_TBL_NM
            <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
        FROM(
            SELECT 
                 PO.PO_ORD_NUM                          PO_ORD_NUM_AH
                ,PD.CPO_ORD_NUM                         CPO_ORD_NUM_AH
                ,PO.PRNT_VND_CD                         PRNT_VND_CD_AH
                ,PO.PRNT_VND_NM                         PRNT_VND_NM_AH
                ,PO.VND_CD                              VND_CD_AH
                ,PO.VND_NM                              VND_NM_AH
                ,PD.SELL_TO_CUST_CD                     SELL_TO_CUST_CD_AH
                ,PD.BILL_TO_CUST_CD                     BILL_TO_CUST_CD_AH
                ,DAC.DS_ACCT_NM                         DS_ACCT_NM_AH
                ,PD.CUST_ISS_PO_NUM                     CUST_ISS_PO_NUM_AH
                ,PD.CUST_ISS_PO_DT                      CUST_ISS_PO_DT_AH
                ,PD.SHIP_TO_FIRST_LINE_ADDR
                  || CASE WHEN TRIM(PD.SHIP_TO_SCD_LINE_ADDR) IS NOT NULL THEN ', '   || TRIM(PD.SHIP_TO_SCD_LINE_ADDR) END
                  || CASE WHEN TRIM(PD.SHIP_TO_THIRD_LINE_ADDR) IS NOT NULL THEN ', ' || TRIM(PD.SHIP_TO_THIRD_LINE_ADDR) END
                  || CASE WHEN TRIM(PD.SHIP_TO_FRTH_LINE_ADDR) IS NOT NULL THEN ', '  || TRIM(PD.SHIP_TO_FRTH_LINE_ADDR) END
                  || TRIM(PD.SHIP_TO_CTY_ADDR) || ', ' || TRIM(PD.SHIP_TO_CTY_ADDR)   || ' ' || PD.SHIP_TO_POST_CD
                                                        XX_ALL_LINE_ADDR_AH
                ,PO.PO_STS_CD                           PO_STS_CD_AH
                ,PO.PO_HDR_STS_CD                       PO_HDR_STS_CD_AH
                ,PHS.PO_HDR_STS_DESC_TXT                PO_HDR_STS_DESC_TXT_AH
                ,PD.VND_ISS_PO_ORD_NUM                 VND_ISS_PO_ORD_NUM_AH
                ,PO.PO_QLFY_CD                          PO_QLFY_CD_AH
                ,POS.PO_ORD_SRC_DESC_TXT                PO_ORD_SRC_DESC_TXT_AH
                ,FC.FRT_COND_DESC_TXT                   FRT_COND_DESC_TXT_AH
                ,SP.SP_TOT_FUNC_FRT_AMT                 SP_TOT_FUNC_FRT_AMT_AH
                ,PD.ENT_PO_DTL_DEAL_NET_AMT            ENT_PO_DTL_DEAL_NET_AMT_AH
                ,PD.CCY_CD                              CCY_CD_AH
                ,POS.PO_ORD_SRC_NM                      PO_ORD_SRC_NM_AH
                ,PD.DISP_PO_DTL_LINE_NUM               DISP_PO_DTL_LINE_NUM_A1
                ,PD.CPO_DTL_LINE_NUM ||':' ||
                   PD.CPO_DTL_LINE_SUB_NUM              XX_SCR_ITEM_8_TXT_A1
                ,PD.MDSE_CD                             MDSE_CD_A1
                ,DM.MDSE_DESC_SHORT_TXT                 MDSE_DESC_SHORT_TXT_A1
                ,CASE WHEN SP.SET_MDSE_CD IS NOT NULL THEN 'Yes'
                      ELSE 'No'
                 END                                    XX_SCR_ITEM_8_TXT_A2
                ,PD.ENT_DEAL_NET_UNIT_PRC_AMT          ENT_DEAL_NET_UNIT_PRC_AMT_A1
                ,PD.PO_DISP_QTY                        PO_DISP_QTY_A1
                ,PD.PO_QTY                              PO_QTY_A1
                ,PD.PO_BAL_QTY                          PO_BAL_QTY_A1
                <!-- START 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
                <!-- ,CASE WHEN PD.PO_RCV_QTY = 0 THEN PO_BAL_QTY -->
                <!--      ELSE PD.PO_RCV_QTY                      -->
                <!--      END                               PO_RCV_QTY_A1 -->
                ,SP.ORD_QTY                             PO_RCV_QTY_A1
                <!-- END 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
                ,POR.PRO_NUM                            PRO_NUM_A1
                <!-- QC#56979 ADD START -->
                ,CU.CARR_TRK_URL                        CARR_TRK_URL_A1
                <!-- QC#56979 ADD END -->
                ,PO.VND_CD                              VND_CD_A1
                ,PO.VND_NM                              VND_NM_A1
                ,PD.PO_ORD_DTL_CMNT_TXT                 PO_ORD_DTL_CMNT_TXT_A1
                ,PD.VND_ISS_PO_ORD_NUM                 VND_ISS_PO_ORD_NUM_A1
                ,POR.PO_RCV_ETA_DT                      PO_RCV_ETA_DT_A1
                ,POR.DOM_INV_NUM                        DOM_INV_NUM_A1
                ,PD.CPO_ORD_TP_CD                       CPO_ORD_TP_CD_A1
                ,PD.CPO_DTL_LINE_NUM                    CPO_DTL_LINE_NUM_A1
                ,PD.CPO_DTL_LINE_SUB_NUM                CPO_DTL_LINE_SUB_NUM_A1
                ,PD.SHPG_PLN_NUM                        SHPG_PLN_NUM_A1
                ,PD.PO_ORD_DTL_LINE_NUM                 PO_ORD_DTL_LINE_NUM_A1
                ,PD.PO_STS_CD                           PO_STS_CD_A1
                ,PD.ORIG_PO_ORD_DTL_LINE_NUM           ORIG_PO_ORD_DTL_LINE_NUM_A1
                ,POR.PO_RCV_NUM                         PO_RCV_NUM_A1
                ,POR.PO_RCV_LINE_NUM                    PO_RCV_LINE_NUM_A1
                ,CASE
                    WHEN PD.PO_STS_CD IN(#poReceiving#, #poReceivingComp#, #poClose#) THEN SP.CARR_CD
                 ELSE PD.CARR_CD
                 END                                    CARR_CD_A1
                ,CASE
                    WHEN PD.PO_STS_CD IN(#poReceiving#, #poReceivingComp#, #poClose#) THEN SP.CARR_NM
                 ELSE C.CARR_NM
                 END                                    CARR_NM_A1
                ,PD.PO_LINE_STS_CD                      PO_LINE_STS_CD_A1
                <!-- START 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
                ,SP.SHPG_STS_CD                         SHPG_STS_CD_A1
                <!-- END 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
                ,PO.EZUPTIME                            EZUPTIME_PO
                ,PO.EZUPTIMEZONE                        EZUPTIMEZONE_PO
                ,PO.EZUPTIME                            EZUPTIME_DP
                ,PO.EZUPTIMEZONE                        EZUPTIMEZONE_DP
                ,PD.EZUPTIME                            EZUPTIME_PD
                ,PD.EZUPTIMEZONE                        EZUPTIMEZONE_PD
                ,PD.EZUPTIME                            EZUPTIME_DD
                ,PD.EZUPTIMEZONE                        EZUPTIMEZONE_DD
                ,SP.EZUPTIME                            EZUPTIME_SP
                ,SP.EZUPTIMEZONE                        EZUPTIMEZONE_SP
                <!-- START 2023/04/11 G.Quan [QC#61206, ADD] -->
                ,PD.EZINTIME AS XX_REC_HIST_CRAT_TS
                ,PD.EZINUSERID AS XX_REC_HIST_CRAT_BY_NM
                ,PD.EZUPTIME AS XX_REC_HIST_UPD_TS
                ,PD.EZUPUSERID AS XX_REC_HIST_UPD_BY_NM
                ,PD.EZTABLEID AS XX_REC_HIST_TBL_NM
                <!-- END 2023/04/11 G.Quan [QC#61206, ADD] -->
    
            FROM   PO PO
                  ,PO_DTL PD
                  ,PO_HDR_STS PHS
                  ,SELL_TO_CUST DAC
                  ,PO_ORD_SRC POS
                  ,FRT_COND FC
                  ,SHPG_PLN SP
                  ,MDSE DM
                  ,OTBD_CARR_V C
                  <!-- QC#56979 ADD START -->
                  ,CARR_URL CU
                  <!-- QC#56979 ADD END -->
                  ,(SELECT H.PO_RCV_NUM
                          ,D.PO_RCV_LINE_NUM
                          ,H.PO_RCV_TRX_HDR_NUM
                          ,D.PO_RCV_TRX_LINE_NUM
                          ,H.PO_RCV_ETA_DT
                          ,H.DOM_INV_NUM
                          ,D.PRO_NUM
                    FROM   PO_RCV_HDR H
                          ,PO_RCV_DTL D
                    WHERE  H.GLBL_CMPY_CD       = #glblCmpyCd#
                    AND    H.PO_RCV_TRX_HDR_NUM = #poOrdNum#
                    AND    D.GLBL_CMPY_CD       = H.GLBL_CMPY_CD
                    AND    D.PO_RCV_NUM         = H.PO_RCV_NUM
                    AND    D.EZCANCELFLAG       = '0'
                   ) POR

            WHERE 

                  PO.GLBL_CMPY_CD             = #glblCmpyCd#
            AND   PO.PO_ORD_NUM               = #poOrdNum#
            AND   PO.EZCANCELFLAG             = '0'

            AND   PD.GLBL_CMPY_CD             = PO.GLBL_CMPY_CD
            AND   PD.PO_ORD_NUM               = PO.PO_ORD_NUM
            AND   PD.EZCANCELFLAG             = '0'

            AND   PD.PO_MDSE_CMPSN_TP_CD     &lt;&gt; #poMdseCmpsnTpCd#

            AND   SP.GLBL_CMPY_CD             = PD.GLBL_CMPY_CD
            <!-- START 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
            <!-- AND   SP.SHPG_PLN_NUM             = PD.SHPG_PLN_NUM -->
            AND   SP.TRX_HDR_NUM              = PD.CPO_ORD_NUM
            AND   SP.TRX_LINE_NUM             = PD.CPO_DTL_LINE_NUM
            AND   SP.TRX_LINE_SUB_NUM         = PD.CPO_DTL_LINE_SUB_NUM
            <!-- END 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
            AND   SP.EZCANCELFLAG             = '0'

            AND   PO.GLBL_CMPY_CD             = PHS.GLBL_CMPY_CD  (+)
            AND   PO.PO_HDR_STS_CD            = PHS.PO_HDR_STS_CD (+)
            AND   PHS.EZCANCELFLAG (+)        = '0'

            AND   PD.GLBL_CMPY_CD             = DAC.GLBL_CMPY_CD    (+)
            AND   PD.SELL_TO_CUST_CD          = DAC.SELL_TO_CUST_CD (+)
            AND   DAC.EZCANCELFLAG (+)        = '0'

            AND   PO.GLBL_CMPY_CD             = POS.GLBL_CMPY_CD  (+)
            AND   PO.PO_ORD_SRC_CD            = POS.PO_ORD_SRC_CD (+)
            AND   POS.EZCANCELFLAG(+)         = '0'

            AND   PD.GLBL_CMPY_CD             = FC.GLBL_CMPY_CD   (+)       
            AND   PD.FRT_COND_CD              = FC.FRT_COND_CD    (+)       
            AND   FC.EZCANCELFLAG (+)         = '0'

            AND   PD.GLBL_CMPY_CD             = DM.GLBL_CMPY_CD   (+)
            AND   PD.MDSE_CD                  = DM.MDSE_CD        (+)
            AND   DM.EZCANCELFLAG (+)         = '0'

            AND   PD.PO_ORD_NUM               = POR.PO_RCV_TRX_HDR_NUM  (+)
            AND   PD.PO_ORD_DTL_LINE_NUM      = POR.PO_RCV_TRX_LINE_NUM (+)
            <!-- START 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
            AND   SP.THIRD_PTY_INV_NUM        = POR.DOM_INV_NUM (+)
            <!-- END 2019/08/06 R.Kurahashi [QC#51625,MOD] -->

            AND   PD.GLBL_CMPY_CD             = C.GLBL_CMPY_CD (+)
            AND   PD.CARR_CD                  = C.CARR_CD (+)
            AND   C.EZCANCELFLAG (+)          = '0'

            <!-- QC#56979 ADD START -->
            AND   PD.GLBL_CMPY_CD             = CU.GLBL_CMPY_CD (+)
            AND   PD.CARR_CD                  = CU.VND_CD (+)
            AND   CU.EZCANCELFLAG (+)         = '0'
            <!-- QC#56979 ADD END -->

            ORDER BY 
                  PD.PO_ORD_DTL_LINE_NUM ASC
        ) MAIN
        WHERE ROWNUM &lt;= #rowNum#
    </statement>

    <resultMap id="result.NPAL1340_ASMsg" class="NPAL1340_ASMsg">
        <result property="poOrdNum_AH"             column="PO_ORD_NUM_AH"                 javaType="EZDSStringItem"/>
        <result property="cpoOrdNum_AH"            column="CPO_ORD_NUM_AH"                javaType="EZDSStringItem"/>
        <result property="prntVndCd_AH"            column="PRNT_VND_CD_AH"                javaType="EZDSStringItem"/>
        <result property="prntVndNm_AH"            column="PRNT_VND_NM_AH"                javaType="EZDSStringItem"/>
        <result property="vndCd_AH"                column="VND_CD_AH"                     javaType="EZDSStringItem"/>
        <result property="vndNm_AH"                column="VND_NM_AH"                     javaType="EZDSStringItem"/>
        <result property="vndInvNum_AH"            column="VND_INV_NUM_AH"                javaType="EZDSStringItem"/>
        <result property="invDt_AH"                column="INV_DT_AH"                     javaType="EZDSStringItem"/>
        <result property="sellToCustCd_AH"         column="SELL_TO_CUST_CD_AH"            javaType="EZDSStringItem"/>
        <result property="billToCustCd_AH"         column="BILL_TO_CUST_CD_AH"            javaType="EZDSStringItem"/>
        <result property="dsAcctNm_AH"             column="DS_ACCT_NM_AH"                 javaType="EZDSStringItem"/>
        <result property="custIssPoNum_AH"         column="CUST_ISS_PO_NUM_AH"            javaType="EZDSStringItem"/>
        <result property="custIssPoDt_AH"          column="CUST_ISS_PO_DT_AH"             javaType="EZDSStringItem"/>
        <result property="xxAllLineAddr_AH"        column="XX_ALL_LINE_ADDR_AH"           javaType="EZDSStringItem"/>
        <result property="vndIssPoOrdNum_AH"       column="VND_ISS_PO_ORD_NUM_AH"         javaType="EZDSStringItem"/>
        <result property="poStsCd_AH"              column="PO_STS_CD_AH"                  javaType="EZDSStringItem"/>
        <result property="poHdrStsCd_AH"           column="PO_HDR_STS_CD_AH"              javaType="EZDSStringItem"/>
        <result property="poHdrStsDescTxt_AH"      column="PO_HDR_STS_DESC_TXT_AH"        javaType="EZDSStringItem"/>
        <result property="spTotFuncFrtAmt_AH"      column="SP_TOT_FUNC_FRT_AMT_AH"        javaType="EZDSBigDecimalItem"/>
        <result property="frtCondDescTxt_AH"       column="FRT_COND_DESC_TXT_AH"          javaType="EZDSStringItem"/>
        <result property="entPoDtlDealNetAmt_AH"   column="ENT_PO_DTL_DEAL_NET_AMT_AH"    javaType="EZDSBigDecimalItem"/>
        <result property="ccyCd_AH"                column="CCY_CD_AH"                     javaType="EZDSStringItem"/>
        <result property="poQlfyCd_AH"             column="PO_QLFY_CD_AH"                 javaType="EZDSStringItem"/>
        <result property="poOrdSrcNm_AH"           column="PO_ORD_SRC_NM_AH"              javaType="EZDSStringItem"/>
        <result property="xxChkBox_A1"             column="XX_CHK_BOX_A1"                 javaType="EZDSStringItem"/>
        <result property="xxChkBox_A2"             column="XX_CHK_BOX_A2"                 javaType="EZDSStringItem"/>
        <result property="dispPoDtlLineNum_A1"     column="DISP_PO_DTL_LINE_NUM_A1"       javaType="EZDSStringItem"/>
        <result property="xxScrItem8Txt_A1"        column="XX_SCR_ITEM_8_TXT_A1"          javaType="EZDSStringItem"/>
        <result property="mdseCd_A1"               column="MDSE_CD_A1"                    javaType="EZDSStringItem"/>
        <result property="mdseDescShortTxt_A1"     column="MDSE_DESC_SHORT_TXT_A1"        javaType="EZDSStringItem"/>
        <result property="xxScrItem8Txt_A2"        column="XX_SCR_ITEM_8_TXT_A2"          javaType="EZDSStringItem"/>
        <result property="entDealNetUnitPrcAmt_A1" column="ENT_DEAL_NET_UNIT_PRC_AMT_A1"  javaType="EZDSBigDecimalItem"/>
        <result property="poDispQty_A1"            column="PO_DISP_QTY_A1"                javaType="EZDSBigDecimalItem"/>
        <result property="poQty_A1"                column="PO_QTY_A1"                     javaType="EZDSBigDecimalItem"/>
        <result property="poBalQty_A1"             column="PO_BAL_QTY_A1"                 javaType="EZDSBigDecimalItem"/>
        <result property="poRcvQty_A1"             column="PO_RCV_QTY_A1"                 javaType="EZDSBigDecimalItem"/>
        <result property="xxScrItem20Txt_A1"       column="XX_SCR_ITEM_20_TXT_A1"         javaType="EZDSStringItem"/>
        <result property="proNum_A1"               column="PRO_NUM_A1"                    javaType="EZDSStringItem"/>
        <!-- START 2020/06/25 [QC#56979,ADD] -->
        <result property="carrTrkUrl_A1"           column="CARR_TRK_URL_A1"               javaType="EZDSStringItem"/>
        <!-- START 2020/06/25 [QC#56979,ADD] -->
        <result property="vndCd_A1"                column="VND_CD_A1"                     javaType="EZDSStringItem"/>
        <result property="vndNm_A1"                column="VND_NM_A1"                     javaType="EZDSStringItem"/>
        <result property="poOrdDtlCmntTxt_A1"      column="PO_ORD_DTL_CMNT_TXT_A1"        javaType="EZDSStringItem"/>
        <result property="vndIssPoOrdNum_A1"       column="VND_ISS_PO_ORD_NUM_A1"         javaType="EZDSStringItem"/>
        <result property="poRcvEtaDt_A1"           column="PO_RCV_ETA_DT_A1"              javaType="EZDSStringItem"/>
        <result property="domInvNum_A1"            column="DOM_INV_NUM_A1"                javaType="EZDSStringItem"/>
        <result property="cpoOrdTpCd_A1"           column="CPO_ORD_TP_CD_A1"              javaType="EZDSStringItem"/>
        <result property="cpoDtlLineNum_A1"        column="CPO_DTL_LINE_NUM_A1"           javaType="EZDSStringItem"/>
        <result property="cpoDtlLineSubNum_A1"     column="CPO_DTL_LINE_SUB_NUM_A1"       javaType="EZDSStringItem"/>
        <result property="shpgPlnNum_A1"           column="SHPG_PLN_NUM_A1"               javaType="EZDSStringItem"/>
        <result property="poOrdDtlLineNum_A1"      column="PO_ORD_DTL_LINE_NUM_A1"        javaType="EZDSStringItem"/>
        <result property="origPoOrdDtlLineNum_A1"  column="ORIG_PO_ORD_DTL_LINE_NUM_A1"   javaType="EZDSStringItem"/>
        <result property="poRcvNum_A1"             column="PO_RCV_NUM_A1"                 javaType="EZDSStringItem"/>
        <result property="poRcvLineNum_A1"         column="PO_RCV_LINE_NUM_A1"            javaType="EZDSStringItem"/>
        <result property="carrCd_A1"               column="CARR_CD_A1"                    javaType="EZDSStringItem"/>
        <result property="carrNm_A1"               column="CARR_NM_A1"                    javaType="EZDSStringItem"/>
        <result property="poLineStsCd_A1"          column="PO_LINE_STS_CD_A1"             javaType="EZDSStringItem"/>
        <result property="poStsCd_A1"              column="PO_STS_CD_A1"                  javaType="EZDSStringItem"/>
        <!-- START 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
        <result property="shpgStsCd_A1"            column="SHPG_STS_CD_A1"                javaType="EZDSStringItem"/>
        <!-- END 2019/08/06 R.Kurahashi [QC#51625,MOD] -->
        <result property="ezUpTime_PO"             column="EZUPTIME_PO"                   javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_PO"         column="EZUPTIMEZONE_PO"               javaType="EZDSStringItem"/>
        <result property="ezUpTime_DP"             column="EZUPTIME_DP"                   javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_DP"         column="EZUPTIMEZONE_DP"               javaType="EZDSStringItem"/>
        <result property="ezUpTime_PD"             column="EZUPTIME_PD"                   javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_PD"         column="EZUPTIMEZONE_PD"               javaType="EZDSStringItem"/>
        <result property="ezUpTime_DD"             column="EZUPTIME_DD"                   javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_DD"         column="EZUPTIMEZONE_DD"               javaType="EZDSStringItem"/>
        <result property="ezUpTime_SP"             column="EZUPTIME_SP"                   javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_SP"         column="EZUPTIMEZONE_SP"               javaType="EZDSStringItem"/>
        <!-- START 2023/04/12 G.Quan [QC#61206, ADD] -->
        <result property="xxRecHistCratTs_A1"      column="XX_REC_HIST_CRAT_TS"           javaType="EZDSStringItem"/>
        <result property="xxRecHistCratByNm_A1"    column="XX_REC_HIST_CRAT_BY_NM"        javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdTs_A1"       column="XX_REC_HIST_UPD_TS"            javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdByNm_A1"     column="XX_REC_HIST_UPD_BY_NM"         javaType="EZDSStringItem"/>
        <result property="xxRecHistTblNm_A1"       column="XX_REC_HIST_TBL_NM"            javaType="EZDSStringItem"/>
        <!-- END 2023/04/12 G.Quan [QC#61206, ADD] -->
    </resultMap>

    <statement id="searchPoSerialList" parameterClass="Map" resultClass="String">
        SELECT
               PS.SER_NUM SER_NUM
        FROM
               PO_SER_NUM PS
        WHERE
               PS.GLBL_CMPY_CD     = #glblCmpyCd#
        AND    PS.SER_OWNR_ID      = #serOwnrId#
        AND    PS.MDSE_CD          = #mdseCd#
        AND    PS.KEY_INFO_CD_01   = #cpoOrdNum#
        AND    PS.KEY_INFO_CD_02   = #cpoDtlLineNum#
        AND    PS.KEY_INFO_CD_03   = #cpoDtlLineSubNum#
        AND    PS.KEY_INFO_CD_04   = #poOrdNum#
        AND    PS.KEY_INFO_CD_05   = #poOrdDtlLineNum#
        AND    PS.EZCANCELFLAG     = '0'
    </statement>

    <statement id="countCarrier" parameterClass="Map" resultClass="BigDecimal">
        SELECT
               COUNT(1)
        FROM
               OTBD_CARR_V OC
        WHERE
               OC.GLBL_CMPY_CD     = #glblCmpyCd#
        AND    OC.CARR_CD          = #carrCd#
        AND    OC.EZCANCELFLAG     = '0'
    </statement>

    <statement id="getCarrier" parameterClass="Map" resultClass="String">
        SELECT
               CARR_CD
        FROM
               OTBD_CARR_V OC
        WHERE
               OC.GLBL_CMPY_CD     = #glblCmpyCd#
        AND    OC.CARR_NM          = #carrNm#
        AND    OC.EZCANCELFLAG     = '0'
    </statement>
</sqlMap>
