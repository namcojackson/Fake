<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWXC001001Exchange">

	<typeAlias alias="NWXC001001RateData" type="com.canon.cusa.s21.common.NWX.NWXC001001.NWXC001001RateData"/>

	<statement id="getStdCcyDigit" parameterClass="Map" resultClass="Integer">
		SELECT
			B.AFT_DECL_PNT_DIGIT_NUM

		FROM
			GLBL_CMPY A,
			CCY B

		WHERE
			A.GLBL_CMPY_CD = #glblCmpyCd#
			AND A.EZCANCELFLAG = '0'
			AND B.GLBL_CMPY_CD = A.GLBL_CMPY_CD
			AND B.CCY_CD = A.STD_CCY_CD
			AND B.EZCANCELFLAG = '0'
	</statement>
	

	<statement id="getExchRateData" parameterClass="Map" resultMap="result.getExchRateData">
		SELECT
			A.ACCT_ARTH_TP_CD,
			B.ACTL_EXCH_RATE

		FROM
			CCY A,
			ACCT_DLY_ACTL_EXCH_RATES B

		WHERE
			A.GLBL_CMPY_CD = #glblCmpyCd#
			AND A.CCY_CD = #ccyCd#
			AND A.EZCANCELFLAG = '0'
			AND B.GLBL_CMPY_CD = A.GLBL_CMPY_CD
			AND B.CCY_CD = A.CCY_CD
			AND B.ACTL_EXCH_RATE_ENT_DT <![CDATA[ <= ]]> #slsDt#
			AND B.ACTL_EXCH_RATE IS NOT NULL
			AND B.EZCANCELFLAG = '0'

		ORDER BY
			B.ACTL_EXCH_RATE_ENT_DT DESC
	</statement>

	<resultMap id="result.getExchRateData" class="NWXC001001RateData">
		<result property="acctArthTpCd"	column="ACCT_ARTH_TP_CD" javaType="String"/>
		<result property="actlExchRate"	column="ACTL_EXCH_RATE"	 javaType="BigDecimal"/>
	</resultMap>


</sqlMap>
