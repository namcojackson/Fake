<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NLAB091001">
    <statement id="getWmsRcptConfHeader" parameterClass="Map" resultClass="Map">
    <![CDATA[
        SELECT
            RH.WH_CD
            ,I01.INTERFACE_ID
            ,I01.EZINTIME
            ,I01.TRANSACTION_ID
            ,I01.SEGMENT_ID
            ,I01.UNIT_ID
            ,I01.SEQ_NUMBER
            ,RW.INVTY_OWNR_CD
            ,I01.REQ_DT_TM_TS_TXT
            ,I01.INBD_ORD_NUM
            ,SOT.S80_ORD_TP_CD
            ,TL.WMS_ORG_HOST_ID
            --COLUMNS FOR RWS_DTL
            ,RH.GLBL_CMPY_CD
            ,RH.RWS_NUM
        FROM
            NLAI2420_01        I01
            ,RWS_HDR            RH
            ,RTL_WH             RW
            ,SCE_ORD_TP         SOT
            ,TPL_LOC            TL
        WHERE
            I01.INTERFACE_ID        =#INTERFACE_ID#
        AND I01.TRANSACTION_ID      =#TRANSACTION_ID#
        AND I01.INBD_ORD_NUM        =RH.RWS_REF_NUM(+)
        AND RH.GLBL_CMPY_CD(+)      =#GLBL_CMPY_CD#
        AND RH.GLBL_CMPY_CD         =RW.GLBL_CMPY_CD(+)
        AND RH.WH_CD                =RW.RTL_WH_CD(+)
        AND RW.WH_OWNR_CD(+)        =#WH_OWNR_CD#
        AND RH.GLBL_CMPY_CD         =SOT.GLBL_CMPY_CD(+)
        AND RH.SCE_ORD_TP_CD        =SOT.SCE_ORD_TP_CD(+)
        AND SOT.INBD_OTBD_CD(+)     =#INBD_OTBD_CD#
        AND RW.GLBL_CMPY_CD         =TL.GLBL_CMPY_CD(+)
        AND RW.RTL_WH_CD            =TL.TPL_LOC_CD(+)
        AND I01.EZCANCELFLAG        ='0'
        AND RH.EZCANCELFLAG(+)      ='0'
        AND RW.EZCANCELFLAG(+)      ='0'
        AND SOT.EZCANCELFLAG(+)     ='0'
        AND TL.EZCANCELFLAG(+)      ='0'
        ORDER BY
            I01.INTERFACE_ID
            ,I01.TRANSACTION_ID
            ,I01.SEGMENT_ID
            ,I01.UNIT_ID
            ,I01.SEQ_NUMBER
    ]]>
    </statement>
    <statement id="getWmsRcptConfDetail" parameter="Map" resultClass="Map">
    <![CDATA[
        SELECT
            I02.INTERFACE_ID
            ,I02.TRANSACTION_ID
            ,I02.SEGMENT_ID
            ,I02.UNIT_ID
            ,I02.SEQ_NUMBER
            ,I02.WMS_REC_ID
            ,I02.ITEM_CD_TXT
            ,I02.QTY_ORD_TXT
        FROM
            NLAI2420_02         I02
        WHERE
            I02.INTERFACE_ID        =#INTERFACE_ID#
        AND I02.TRANSACTION_ID      =#TRANSACTION_ID#
        AND I02.SEGMENT_ID          =#SEGMENT_ID#
        AND I02.UNIT_ID             =#UNIT_ID#
        AND I02.EZCANCELFLAG        ='0'
        ORDER BY
            I02.INTERFACE_ID
            ,I02.TRANSACTION_ID
            ,I02.SEGMENT_ID
            ,I02.UNIT_ID
            ,I02.SEQ_NUMBER
    ]]>
    </statement>
    <statement id="getRwsDetail" parameterClass="Map" resultClass="Map">
    <!-- START 2021/03/19 J.Evangelista [QC#58418,DEL] -->
    <!-- <![CDATA[ -->
    <!-- END 2021/03/19 J.Evangelista [QC#58418,DEL] -->
        SELECT
            RD.GLBL_CMPY_CD
            ,RD.RWS_NUM
            ,RD.RWS_DTL_LINE_NUM
            ,RD.RTL_SWH_CD
            ,RD.INVTY_LOC_CD
            ,RD.INVTY_STK_STS_CD
            ,RD.MDSE_CD
            ,(RD.RWS_QTY-RD.RWS_PUT_AWAY_QTY) UNRCPT_QTY
            <!-- START 2021/03/19 J.Evangelista [QC#58418,ADD] -->
            ,RD.RWS_STS_CD
            <!-- END 2021/03/19 J.Evangelista [QC#58418,ADD] -->
        FROM
            RWS_DTL             RD
        WHERE
            RD.GLBL_CMPY_CD         =#GLBL_CMPY_CD#
        AND RD.RWS_NUM              =#RWS_NUM#
        AND RD.EZCANCELFLAG         ='0'
        ORDER BY
            RD.GLBL_CMPY_CD
            ,RD.RWS_NUM
            ,RD.RWS_DTL_LINE_NUM
    <!-- START 2021/03/19 J.Evangelista [QC#58418,DEL] -->
    <!-- ]]> -->
    <!-- END 2021/03/19 J.Evangelista [QC#58418,DEL] -->
    </statement>
</sqlMap>
