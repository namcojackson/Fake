<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NFBL2070Query">

    <!-- *********************************************************** -->
    <!-- ********** Bean Definition ******************************** -->
    <!-- *********************************************************** -->
    <typeAlias alias="NFBL2070CMsg"      type="business.blap.NFBL2070.NFBL2070CMsg"/>
    
    <statement id="findDetailData" parameterClass="Map" resultClass="Map">
    SELECT
           'N'                   AS XX_CHECK_BOX
          ,RTL_INV_PK
          ,RTL_INV_LINE_PK
          ,RTL_INV_STS_CD
          ,BILL_TO_CUST_CD
          ,SELL_TO_CUST_CD
          ,SER_NUM
          ,MDL_NM
          ,RTL_INV_APVL_DT
          ,BLLG_PER_FROM_DT
          ,BLLG_PER_THRU_DT
          ,RTL_INV_LINE_NUM
          ,RTL_INV_CHRG_TP_DESC_TXT
          ,NVL(SHIP_QTY,0)              SHIP_QTY
          ,NVL(DEAL_GRS_UNIT_PRC_AMT,0) DEAL_GRS_UNIT_PRC_AMT
          ,SLS_TAX_RATE
          ,BLLG_BIZ_TP_CD
          ,RTL_DIV_CD
          ,RTL_INV_NUM
          <!-- START 2016/11/22 T.Tsuchida [QC#16041,MOD] -->
          <!-- ,RTL_SMRY_INV_NUM -->
          ,ITRL_RTL_SMRY_INV_NUM
          <!-- END   2016/11/22 T.Tsuchida [QC#16041,MOD] -->
          ,MDSE_CD
          ,SVC_DLR_CD
          ,INSTL_POST_CD
          ,INSTL_CD
          ,ISTL_SUB_LOC_CD
          ,INV_LINE_CRAT_DT
          ,INV_LINE_MOD_DT
          ,AP_INV_ROSS_STS_CD
      FROM
           AP_INV_ROSS INLINE1
     WHERE
           INLINE1.EZCANCELFLAG = 0
       AND INLINE1.GLBL_CMPY_CD = #glblCmpyCd#
       <isNotNull property="cMsg.serNum_H1">
       AND INLINE1.SER_NUM = #cMsg.serNum_H1#
       </isNotNull>
       <isNotNull property="cMsg.rtlDiv_H1">
       AND INLINE1.RTL_DIV_CD = #cMsg.rtlDiv_H1#
       </isNotNull>
       <isNotNull property="cMsg.sellToCustCd_H1">
       AND INLINE1.SELL_TO_CUST_CD = #cMsg.sellToCustCd_H1#
       </isNotNull>
       <isNotNull property="cMsg.svcDlrCd_H1">
       AND INLINE1.SVC_DLR_CD = #cMsg.svcDlrCd_H1#
       </isNotNull>
       <isNotNull property="cMsg.apInvRossStsCd_H1">
       AND INLINE1.AP_INV_ROSS_STS_CD = #cMsg.apInvRossStsCd_H1#
       </isNotNull>
       <isNotNull property="cMsg.rtlInvNum_H1">
       AND INLINE1.RTL_INV_NUM = #cMsg.rtlInvNum_H1#
       </isNotNull>
       <isNotNull property="cMsg.rtlInvApvlDt_HF">
       AND INLINE1.RTL_INV_APVL_DT &gt;= #cMsg.rtlInvApvlDt_HF#
       </isNotNull>
       <isNotNull property="cMsg.rtlInvApvlDt_HT">
       AND INLINE1.RTL_INV_APVL_DT &lt;= #cMsg.rtlInvApvlDt_HT#
       </isNotNull>
       AND ROWNUM                  &lt;= #maxRow#
    </statement>
</sqlMap>