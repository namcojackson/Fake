<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NMAL6550Query">

	<typeAlias alias="NMAL6550CMsg"		type="business.blap.NMAL6550.NMAL6550CMsg"/>
	<typeAlias alias="NMAL6550_ASMsg"	type="business.blap.NMAL6550.NMAL6550_ASMsg"/>

	<resultMap id="result.getNMAL6550"    class="NMAL6550_ASMsg">
		<result property="glblCmpySortNum_A1"	column="GLBL_CMPY_SORT_NUM"	javaType="EZDCBigDecimalItem"/>
		<result property="glblCmpyCd_A1"		column="GLBL_CMPY_CD"		javaType="EZDCStringItem"/>
		<result property="glblCmpyNm_A1"		column="GLBL_CMPY_NM"		javaType="EZDCStringItem"/>
		<result property="glblCmpyDescTxt_A1"	column="GLBL_CMPY_DESC_TXT"	javaType="EZDCStringItem"/>
		<result property="ctryCd_A1"			column="CTRY_CD"			javaType="EZDCStringItem"/>
		<result property="stdCcyCd_A1"			column="STD_CCY_CD"			javaType="EZDCStringItem"/>
		<result property="stdCcyNm_A1"			column="STD_CCY_NM"			javaType="EZDCStringItem"/>
		<result property="coaAfflCd_A1"			column="COA_AFFL_CD"		javaType="EZDCStringItem"/>
		<result property="coaAfflNm_A1"			column="COA_AFFL_NM"		javaType="EZDCStringItem"/>
		<result property="acctCd_A1"			column="ACCT_CD"			javaType="EZDCStringItem"/>
		<result property="imptInvCnsgnNm_A1"	column="IMPT_INV_CNSGN_NM"	javaType="EZDCStringItem"/>
		<result property="ezUpTime_A1"			column="EZUPTIME"			javaType="EZDCStringItem"/>
		<result property="ezUpTimeZone_A1"		column="EZUPTIMEZONE"		javaType="EZDCStringItem"/>
	</resultMap>
	
    <statement id="getCodeTableData" parameterClass="NMAL6550CMsg" resultMap="result.getNMAL6550">
        SELECT 
			 G.GLBL_CMPY_CD
			,G.GLBL_CMPY_NM
			,G.GLBL_CMPY_SORT_NUM
			,G.GLBL_CMPY_DESC_TXT
			,G.CTRY_CD
			,G.STD_CCY_CD
			,G.STD_CCY_NM
			,G.COA_AFFL_CD
			,(SELECT C.COA_AFFL_NM
				FROM COA_AFFL C
				WHERE C.COA_AFFL_CD		= G.COA_AFFL_CD
				  AND C.EZCANCELFLAG	= '0'
				  AND C.GLBL_CMPY_CD	= #glblCmpyCd#
			  ) COA_AFFL_NM
			,G.ACCT_CD
			,(SELECT I.IMPT_INV_CNSGN_NM
				FROM IMPT_INV_CNSGN I
				WHERE I.IMPT_INV_CNSGN_CD = G.ACCT_CD
				  AND I.EZCANCELFLAG	= '0'
				  AND I.GLBL_CMPY_CD	= #glblCmpyCd#
				  AND I.EFF_FROM_DT		&lt;= #slsDt#
				  AND I.EFF_THRU_DT		&gt;= #slsDt#
			  ) IMPT_INV_CNSGN_NM
			,NVL(G.EZUPTIME, '*') AS EZUPTIME
			,G.EZUPTIMEZONE
        FROM 
			GLBL_CMPY G
        WHERE
            G.EZCANCELFLAG = '0'
        ORDER BY
            G.GLBL_CMPY_SORT_NUM
    </statement>


</sqlMap>
