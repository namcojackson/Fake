<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NSBB030001">
    <statement id="getNSBI0300_01" parameterClass="Map" resultClass="Map">
        SELECT
             NSBI.INTERFACE_ID
            ,NSBI.TRANSACTION_ID
            ,NSBI.SEGMENT_ID
            ,NSBI.UNIT_ID
            ,NSBI.SEQ_NUMBER
            ,NSBI.CRS_SVC_HDR_ID
            ,NSBI.CRS_SVC_CLO_FSR_NUM
            ,NSBI.CRS_SVC_MDL_NM
            ,NSBI.CRS_SVC_SER_NUM
            ,NSBI.CRS_SVC_LOC_NM
        FROM
            NSBI0300_01 NSBI
        WHERE
                NSBI.INTERFACE_ID    = #interfaceId#
            AND NSBI.TRANSACTION_ID  = #transactionId#
            AND NSBI.EZCANCELFLAG    = '0'
        ORDER BY
             NSBI.SEGMENT_ID ASC
            ,NSBI.UNIT_ID ASC
            ,NSBI.SEQ_NUMBER ASC
            ,NSBI.CRS_SVC_CLO_FSR_NUM ASC
    </statement>

    <statement id="getNSBI0300_02" parameterClass="Map" resultClass="Map">
        SELECT
             NSBI.INTERFACE_ID
            ,NSBI.TRANSACTION_ID
            ,NSBI.SEGMENT_ID
            ,NSBI.UNIT_ID
            ,NSBI.SEQ_NUMBER
            ,NSBI.CRS_SVC_HDR_ID
            ,NSBI.CRS_SVC_CLO_SR_NUM
            ,NSBI.CRS_SVC_CLO_TASK_NUM
            ,NSBI.CRS_SVC_CLO_FSR_NUM
            ,NSBI.CRS_SVC_TECH_CD
            ,NSBI.CRS_SVC_TECH_NM
            ,NSBI.FSR_VISIT_ARV_DT
            ,NSBI.CRS_SVC_TRVL_START_HOUR_MN
            ,NSBI.CRS_SVC_TRVL_END_HOUR_MN
            ,NSBI.TRVL_LEAD_TXT
            ,NSBI.CRS_SVC_LBOR_START_HOUR_MN
            ,NSBI.CRS_SVC_LBOR_END_HOUR_MN
            ,NSBI.CRS_SVC_RSN_CD
        FROM
            NSBI0300_02 NSBI
        WHERE
                NSBI.INTERFACE_ID    = #interfaceId#
            AND NSBI.TRANSACTION_ID  = #transactionId#
<!-- START 2019/11/26 [QC#53072, ADD] -->
            AND NSBI.SEGMENT_ID      = #segmentId#
<!-- END   2019/11/26 [QC#53072, ADD] -->
            AND NSBI.UNIT_ID         = #unitId#
            AND NSBI.EZCANCELFLAG    = '0'
        ORDER BY
             NSBI.SEQ_NUMBER ASC
    </statement>

    <statement id="getNSBI0300_03" parameterClass="Map" resultClass="Map">
        SELECT
             NSBI.INTERFACE_ID
            ,NSBI.TRANSACTION_ID
            ,NSBI.SEGMENT_ID
            ,NSBI.UNIT_ID
            ,NSBI.SEQ_NUMBER
            ,NSBI.CRS_SVC_HDR_ID
            ,NSBI.CRS_SVC_MTR_ID
            ,NSBI.CRS_SVC_CLO_SR_NUM
            ,NSBI.CRS_SVC_MTR_ID
            ,PROC_SVC_TASK_NUM
            ,NSBI.CRS_SVC_TEST_MTR_ORIG_TXT
            ,NSBI.CRS_SVC_READ_MTR_ORIG_TXT
        FROM
            NSBI0300_03 NSBI
        WHERE
                NSBI.INTERFACE_ID    = #interfaceId#
            AND NSBI.TRANSACTION_ID  = #transactionId#
<!-- START 2019/11/26 [QC#53072, ADD] -->
            AND NSBI.SEGMENT_ID      = #segmentId#
<!-- END   2019/11/26 [QC#53072, ADD] -->
            AND NSBI.UNIT_ID         = #unitId#
            AND NSBI.EZCANCELFLAG    = '0'
        ORDER BY
             NSBI.SEQ_NUMBER ASC
    </statement>

    <statement id="getNSBI0300_04" parameterClass="Map" resultClass="Map">
        SELECT
             NSBI.INTERFACE_ID
            ,NSBI.TRANSACTION_ID
            ,NSBI.SEGMENT_ID
            ,NSBI.UNIT_ID
            ,NSBI.SEQ_NUMBER
            ,NSBI.CRS_SVC_HDR_ID
            ,NSBI.CRS_SVC_PRT_MDSE_CD
            ,NSBI.CRS_SVC_CLO_SR_NUM
            ,NSBI.CRS_SVC_CLO_TASK_NUM
            ,NSBI.CRS_SVC_PRT_QTY_ORIG_TXT
        FROM
            NSBI0300_04 NSBI
        WHERE
                NSBI.INTERFACE_ID    = #interfaceId#
            AND NSBI.TRANSACTION_ID  = #transactionId#
<!-- START 2019/11/26 [QC#53072, ADD] -->
            AND NSBI.SEGMENT_ID      = #segmentId#
<!-- END   2019/11/26 [QC#53072, ADD] -->
            AND NSBI.UNIT_ID         = #unitId#
            AND NSBI.EZCANCELFLAG    = '0'
        ORDER BY
             NSBI.SEQ_NUMBER ASC
    </statement>
</sqlMap>
