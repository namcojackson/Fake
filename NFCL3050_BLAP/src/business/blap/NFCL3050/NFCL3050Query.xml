<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NFCL3050Query">

    <typeAlias alias="NFCL3050CMsg"		type="business.blap.NFCL3050.NFCL3050CMsg"/>
    <typeAlias alias="NFCL3050_ASMsg"  type="business.blap.NFCL3050.NFCL3050_ASMsg"/>
    <typeAlias alias="DS_INV_TPTMsg"  type="business.db.DS_INV_TPTMsg"/>
    <typeAlias alias="INV_TPTMsg"     type="business.db.INV_TPTMsg"/>
    <typeAlias alias="SYS_SRCTMsg"    type="business.db.SYS_SRCTMsg"/>

    <statement id="getSavedSearchOptionList" parameterClass="Map" resultClass="Map">
        SELECT
                  SSO.SRCH_OPT_PK
                , SSO.SRCH_OPT_NM
            FROM
                SAVE_SRCH_OPT SSO 
            WHERE
                SSO.GLBL_CMPY_CD        = #glblCmpyCd#
                AND SSO.SRCH_OPT_APL_ID = #srchOptAplId#
                AND SSO.SRCH_OPT_USR_ID = #srchOptUsrId#
                AND SSO.EZCANCELFLAG    = '0'
            ORDER BY
                  SSO.SRCH_OPT_NM
    </statement>

    <statement id="getInvoiceTpList" parameterClass="Map" resultMap="result.getInvoiceTpList">
        SELECT
              DIT.DS_INV_TP_CD
            , DIT.DS_INV_TP_NM
        FROM
            DS_INV_TP DIT
        WHERE
                DIT.GLBL_CMPY_CD = #glblCmpyCd#
            AND DIT.EZCANCELFLAG = '0'
    </statement>
    <resultMap id="result.getInvoiceTpList" class="DS_INV_TPTMsg">
        <result property="dsInvTpCd"             column="DS_INV_TP_CD"                      javaType="EZDSStringItem"/>
        <result property="dsInvTpNm"             column="DS_INV_TP_NM"                      javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getInvoiceClassList" parameterClass="Map" resultMap="result.getInvoiceClassList">
        SELECT
             IT.INV_TP_CD
            ,IT.INV_TP_NM
        FROM
            INV_TP IT
        WHERE
                IT.GLBL_CMPY_CD = #glblCmpyCd#
            AND IT.EZCANCELFLAG = '0'
    </statement>
    <resultMap id="result.getInvoiceClassList" class="INV_TPTMsg">
        <result property="invTpCd"   column="INV_TP_CD"   javaType="EZDSStringItem"/>
        <result property="invTpNm"   column="INV_TP_NM"   javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getSourceList" parameterClass="Map" resultMap="result.getSourceList">
        SELECT
             SS.SYS_SRC_CD
            ,SS.SYS_SRC_NM
        FROM
            SYS_SRC SS
        WHERE
                SS.GLBL_CMPY_CD = #glblCmpyCd#
            AND SS.EZCANCELFLAG = '0'
    </statement>
    <resultMap id="result.getSourceList" class="SYS_SRCTMsg">
        <result property="sysSrcCd"             column="SYS_SRC_CD"                      javaType="EZDSStringItem"/>
        <result property="sysSrcNm"             column="SYS_SRC_NM"                      javaType="EZDSStringItem"/>
    </resultMap>

<!-- START 2019/01/17 H.Ikeda [QC#29388,MOD] -->
<!-- 2016/04/12 QC#6925 Error to be checked by data in error table not FNLZ_INV_FLG -->
    <statement id="getInvList_OLD" parameterClass="Map">
        SELECT
             X.INV_NUM
            ,X.INV_DT
            <!-- START 2016/05/19 S.Fujita [QC#7780,ADD] -->
            ,X.ACCT_DT
            <!-- END 2016/05/19 S.Fujita [QC#7780,ADD] -->
            ,X.INV_DUE_DT
            <!-- add 2016/03/23 For exclusive check -->
            ,X.EZUPTIME
            ,X.EZUPTIMEZONE
            <!-- end 2016/03/23 -->
            ,X.INV_TOT_DEAL_NET_AMT
            ,X.INV_TP_NM
            ,X.BILL_TO_CUST_ACCT_NM
            ,X.BILL_TO_CUST_ACCT_CD
            ,X.SLS_REP_TOC_NM
            ,X.DS_INV_TP_NM
            ,X.DS_CONTR_NUM
            ,X.INV_SRC_TXT
            ,X.DEAL_RMNG_BAL_GRS_AMT
            ,X.AR_CASH_APPLY_STS_NM
            ,X.DEAL_CLT_DSPT_AMT
            ,X.CLT_DSPT_DT
            <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
            ,X.INV_ERR_MSG_TXT
            ,X.INVLD_VAL_TXT
            </isEqual>
            ,X.SYS_SRC_NM
            ,X.GL_DT
            ,X.FNLZ_INV_FLG
            <!--  START 2018/05/28 Y.Matsui [QC#26342,ADD] -->
            ,X.CUST_ISS_PO_NUM
            <!--  END   2018/05/28 Y.Matsui [QC#26342,ADD] -->
            <!-- START 2017/03/17 [QC#14205,ADD] -->
            ,X.EZINTIME             AS XX_REC_HIST_CRAT_TS
            ,X.EZINUSERID           AS XX_REC_HIST_CRAT_BY_NM
            ,X.EZUPTIME             AS XX_REC_HIST_UPD_TS
            ,X.EZUPUSERID           AS XX_REC_HIST_UPD_BY_NM
            ,X.EZTABLEID            AS XX_REC_HIST_TBL_NM
            <!-- END   2017/03/17 [QC#14205,ADD] -->
        FROM
            (SELECT
                DISTINCT
                 I.INV_NUM
                ,I.INV_DT
                <!-- START 2016/05/19 S.Fujita [QC#7780,ADD] -->
                ,I.ACCT_DT
                <!-- END 2016/05/19 S.Fujita [QC#7780,ADD] -->
                <!-- START 2016/06/17 T.Tsuchida [QC#10141,MOD] -->
                <!-- ,I.INV_TOT_DEAL_NET_AMT -->
                ,CASE WHEN I.INV_TP_CD = #invTpCRM# THEN I.INV_TOT_DEAL_NET_AMT * -1
                      ELSE I.INV_TOT_DEAL_NET_AMT
                 END AS INV_TOT_DEAL_NET_AMT
                <!-- END 2016/06/17 T.Tsuchida [QC#10141,MOD] -->
                ,I.INV_TP_CD
                <!-- add 2016/03/23 For exclusive check -->
                ,I.EZUPTIME
                ,I.EZUPTIMEZONE
                <!-- end 2016/03/23 -->
                ,I.BILL_TO_CUST_ACCT_NM
                ,I.BILL_TO_CUST_ACCT_CD
                ,I.SLS_REP_TOC_CD  || ' ' || I.SLS_REP_TOC_NM AS SLS_REP_TOC_NM
                ,I.DS_INV_TP_CD
                <!-- START 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                <!-- ,SI.INV_DUE_DT -->
                ,I.NET_DUE_DT AS INV_DUE_DT
                <!-- END 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                ,NVL((SELECT SI.DS_CONTR_NUM FROM SVC_INV SI WHERE SI.GLBL_CMPY_CD = I.GLBL_CMPY_CD AND SI.SVC_INV_NUM = I.INV_NUM AND SI.EZCANCELFLAG = '0'), I.CPO_ORD_NUM) AS DS_CONTR_NUM
                ,DIT.INV_SRC_TXT
                ,DIT.DS_INV_TP_NM
                ,(SELECT IT.INV_TP_NM FROM INV_TP IT WHERE IT.GLBL_CMPY_CD = I.GLBL_CMPY_CD AND IT.INV_TP_CD = I.INV_TP_CD AND IT.EZCANCELFLAG = '0') AS INV_TP_NM
                <!-- START 2016/06/15 S.Fujita [QC#9291,MOD] -->
                <!-- 
                ,ATB.DEAL_RMNG_BAL_GRS_AMT
                 -->
                <!-- START 2016/10/04 S.Fujita [QC#11229,MOD] -->
                <!-- 
                ,NVL(ATB.DEAL_RMNG_BAL_GRS_AMT,I.INV_TOT_DEAL_NET_AMT) AS DEAL_RMNG_BAL_GRS_AMT
                -->
                <!-- ,CASE WHEN I.FNLZ_INV_FLG = 'Y' THEN NVL(ATB.DEAL_RMNG_BAL_GRS_AMT, I.INV_TOT_DEAL_NET_AMT)
                -->
                <!-- START 2018/02/20 [QC#23843,MOD]
                ,CASE WHEN I.FNLZ_INV_FLG = 'Y' AND ATB.DEAL_RMNG_BAL_GRS_AMT IS NOT NULL THEN ATB.DEAL_RMNG_BAL_GRS_AMT
                      WHEN I.FNLZ_INV_FLG = 'Y' AND ATB.DEAL_RMNG_BAL_GRS_AMT IS NULL AND I.INV_TP_CD  = #invTpCRM# THEN I.INV_TOT_DEAL_NET_AMT * -1
                      WHEN I.FNLZ_INV_FLG = 'Y' AND ATB.DEAL_RMNG_BAL_GRS_AMT IS NULL AND I.INV_TP_CD != #invTpCRM# THEN I.INV_TOT_DEAL_NET_AMT
                      ELSE 0 END AS DEAL_RMNG_BAL_GRS_AMT -->
                ,CASE WHEN I.FNLZ_INV_FLG = 'Y' THEN CASE WHEN ATB.DEAL_RMNG_BAL_GRS_AMT IS NOT NULL THEN ATB.DEAL_RMNG_BAL_GRS_AMT
                                                          ELSE CASE WHEN I.INV_TP_CD  = '2' THEN I.INV_TOT_DEAL_NET_AMT * -1
                                                                    ELSE I.INV_TOT_DEAL_NET_AMT
                                                               END
                                                     END
                      ELSE 0
                 END AS DEAL_RMNG_BAL_GRS_AMT
                <!-- END 2018/02/20 [QC#23843,MOD] -->
                <!-- END   2016/10/04 S.Fujita [QC#11229,MOD] -->
                <!-- END 2016/06/15 S.Fujita [QC#9291,MOD] -->
                ,ATB.AR_CASH_APPLY_STS_CD
                ,ACS.AR_CASH_APPLY_STS_NM
                <!-- START 2016/08/23 S.Fujita [QC#11024,MOD] -->
                <!-- 
                ,CDT.DEAL_CLT_DSPT_AMT
                ,CDT.CLT_DSPT_DT
                -->
                ,ATB.DEAL_CLT_DSPT_AMT
                ,ATB.CLT_DSPT_DT
                <!-- END   2016/08/23 S.Fujita [QC#11024,MOD] -->
                <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">

                <!-- mod 2016/03/23 If there's no message, not showing ','. -->
                <!-- START 2018/02/20 [QC#23843,MOD]
                ,TRIM(ADE.INV_ERR_MSG_TXT)||DECODE(IE.INV_ERR_MSG_TXT, NULL, '', ','||TRIM(IE.INV_ERR_MSG_TXT))
                 ||DECODE(ILE.INV_ERR_MSG_TXT, NULL, '', ','||TRIM(ILE.INV_ERR_MSG_TXT))
                 ||DECODE(IBE.INV_ERR_MSG_TXT, NULL, '', ','||TRIM(IBE.INV_ERR_MSG_TXT)) INV_ERR_MSG_TXT -->
                ,TRIM(ADE.INV_ERR_MSG_TXT) INV_ERR_MSG_TXT
                <!-- END 2018/02/20 [QC#23843,MOD] -->
                <!-- START 2018/02/20 [QC#23843,MOD]
                ,TRIM(ADE.INVLD_VAL_TXT)||DECODE(IE.INVLD_VAL_TXT, NULL, '', ','||TRIM(IE.INVLD_VAL_TXT))
                ||DECODE(ILE.INVLD_VAL_TXT, NULL, '', ','||TRIM(ILE.INVLD_VAL_TXT))
                ||DECODE(IBE.INVLD_VAL_TXT, NULL, '', ','||TRIM(IBE.INVLD_VAL_TXT)) INVLD_VAL_TXT -->
                ,TRIM(ADE.INVLD_VAL_TXT) INVLD_VAL_TXT
                <!-- END 2018/02/20 [QC#23843,MOD] -->
                <!-- 2016/03/23 end -->
                </isEqual>
                ,SS.SYS_SRC_NM
                ,NVL(ATB.GL_DT, I.ACCT_DT) AS GL_DT
                ,I.FNLZ_INV_FLG
                <!--  START 2018/05/28 Y.Matsui [QC#26342,ADD] -->
                ,I.CUST_ISS_PO_NUM
                <!--  END   2018/05/28 Y.Matsui [QC#26342,ADD] -->
                <!-- START 2017/03/17 [QC#14205,ADD] -->
                ,I.EZINUSERID
                ,I.EZINTIME
                ,I.EZUPUSERID
                ,I.EZTABLEID
                <!-- END   2017/03/17 [QC#14205,ADD] -->
            FROM
                 INV I
                ,INV_BOL IB
                ,DS_INV_TP DIT
                <!-- START 2016/08/23 S.Fujita [QC#11024,DEL] -->
                <!--
                ,AR_TRX_BAL ATB
                -->
                <!-- END   2016/08/23 S.Fujita [QC#11024,DEL] -->
                ,AR_CASH_APPLY_STS ACS
                ,SYS_SRC SS
                ,(
	               SELECT
	                  <!-- GLBL_CMPY_CD,  -->
	                  INV_NUM
	                 ,CONSL_BILL_FLG
	                 ,INV_OTPT_REQ_FLG
	                 <!-- ,EZCANCELFLAG -->
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       E.INV_NUM
	                     ORDER BY
	                       E.INV_NUM        ASC
	                 ) AS ORD4
	               FROM
	                  INV_PRT_CTRL E
	               WHERE
	                  E.GLBL_CMPY_CD = #glblCmpyCd#
	                  AND E.EZCANCELFLAG = '0'
                 ) IPC
                <!-- START 2016/08/23 S.Fujita [QC#11024,DEL] -->
                <!--
                ,CLT_DSPT_TRX CDT
                -->
                <!-- END   2016/08/23 S.Fujita [QC#11024,DEL] -->
                <!-- START 2018/02/20 [QC#23843,MOD] -->
                <isEqual property="svcInvLineFlg" compareValue="Y">
                ,(
	               SELECT
	                  <!-- GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] -->
	                  SVC_INV_NUM
	                 ,MDL_NM
	                 ,SER_NUM
	                 <!-- ,EZCANCELFLAG 2018/02/20 [QC#23843,DEL] -->
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       A.SVC_INV_NUM
	                     ORDER BY
	                       A.SVC_INV_LINE_NUM        ASC
	                 ) AS ORD
	               FROM
	                  SVC_INV_LINE A
	               WHERE
	                  A.GLBL_CMPY_CD = #glblCmpyCd#
	                  <isNotNull property="mdlNm_H">
                      AND A.MDL_NM  LIKE '%' || #mdlNm_H# || '%'
                      </isNotNull>
                      <isNotNull property="serNum_H">
                      AND A.SER_NUM  LIKE '%' || #serNum_H# || '%'
                      </isNotNull>
	                  AND A.EZCANCELFLAG = '0'
                 ) SIL
                 </isEqual>
                <!-- END 2018/02/20 [QC#23843,MOD] -->
                <!-- START 2018/02/20 [QC#23843,DEL]
                ,INV_ERR IE
                ,(
	               SELECT
	                  GLBL_CMPY_CD 
	                 ,INV_NUM
	                 ,INV_ERR_MSG_TXT
	                 ,INVLD_VAL_TXT
	                 ,EZCANCELFLAG
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       B.INV_NUM
	                     ORDER BY
	                       B.INV_LINE_NUM        ASC
	                 ) AS ORD1
	               FROM
	                  INV_LINE_ERR B
	               WHERE
	                  B.GLBL_CMPY_CD = #glblCmpyCd#
	                  AND B.EZCANCELFLAG = '0'
                 ) ILE
                ,(
	               SELECT
	                  GLBL_CMPY_CD 
	                 ,INV_NUM
	                 ,INV_ERR_MSG_TXT
	                 ,INVLD_VAL_TXT
	                 ,EZCANCELFLAG
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       C.INV_NUM
	                     ORDER BY
	                       C.INV_BOL_LINE_NUM        ASC
	                 ) AS ORD2
	               FROM
	                  INV_BOL_ERR C
	               WHERE
	                  C.GLBL_CMPY_CD = #glblCmpyCd#
	                  AND C.EZCANCELFLAG = '0'
                 ) IBE
                 END 2018/02/20 [QC#23843,DEL] -->
                ,(
	               SELECT
	                  <!-- GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] --> 
	                  INV_NUM
	                 ,INV_ERR_MSG_TXT
	                 ,INVLD_VAL_TXT
	                 <!-- ,EZCANCELFLAG 2018/02/20 [QC#23843,DEL] -->
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       D.INV_NUM
	                     ORDER BY
	                       D.INV_LINE_NUM        ASC
	                 ) AS ORD3
	               FROM
	                  AJE_INV_ACCT_DIST_ERR D
	               WHERE
	                  D.GLBL_CMPY_CD = #glblCmpyCd#
	                  AND D.EZCANCELFLAG = '0'
	                  <!-- START 2018/02/20 [QC#23843,ADD] -->
	                  <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                      AND D.INV_NUM IS NOT NULL
                      </isEqual>
                      <isNotEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                      AND D.INV_NUM IS NULL
                      </isNotEqual>
                      <!-- END  2018/02/20 [QC#23843,ADD] -->
                 ) ADE
                <!-- START 2016/08/23 S.Fujita [QC#11024,ADD] -->
                ,(
                  SELECT
                       <!-- TB.GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] -->
                       TB.AR_TRX_NUM
                      ,TB.DEAL_RMNG_BAL_GRS_AMT
                      ,TB.AR_CASH_APPLY_STS_CD
                      ,TB.AR_TRX_TP_CD
                      ,TB.GL_DT
                      ,DT.DEAL_CLT_DSPT_AMT
                      ,DT.CLT_DSPT_DT
                  FROM
                       AR_TRX_BAL     TB
                      ,(
                          SELECT
                               <!-- CDT.GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] -->
                               CDT.AR_TRX_NUM
                              ,SUM(CDT.DEAL_CLT_DSPT_AMT) AS DEAL_CLT_DSPT_AMT
                              ,MAX(CDT.CLT_DSPT_DT)       AS CLT_DSPT_DT
                          FROM
                              CLT_DSPT_TRX CDT
                          WHERE
                                  CDT.GLBL_CMPY_CD    = #glblCmpyCd#
                              AND CDT.CLT_DSPT_STS_CD = #cltDsptStsCdApproved#
                              AND CDT.EZCANCELFLAG    = '0'
                              AND CDT.AR_TRX_NUM IS NOT NULL
                          GROUP BY
                               <!-- CDT.GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] -->
                               CDT.AR_TRX_NUM
                       )              DT
                  WHERE
                          TB.GLBL_CMPY_CD               = #glblCmpyCd#
                      <!-- AND TB.GLBL_CMPY_CD               = DT.GLBL_CMPY_CD (+) 2018/02/20 [QC#23843,DEL] -->
                      AND TB.AR_TRX_NUM                 = DT.AR_TRX_NUM (+)
                      AND DT.DEAL_CLT_DSPT_AMT(+)      != '0'
                      AND TB.EZCANCELFLAG               = '0'
                      <!-- START 2018/02/20 [QC#23843,ADD] -->
                      <isNotNull property="billToCustAcctCd_H">
                      AND TB.BILL_TO_CUST_ACCT_CD         LIKE #billToCustAcctCd_H#
                      </isNotNull>
                      <!-- END   2018/02/20 [QC#23843,ADD] -->
                      AND NOT EXISTS(
                            SELECT
                                'X'
                            FROM
                                ISTL_PMT_TERM   PT
                            WHERE
                                    PT.GLBL_CMPY_CD     = #glblCmpyCd#
                                AND PT.ISTL_PMT_TERM_CD = TB.PMT_TERM_CD
                                AND PT.EZCANCELFLAG     = '0'
                        )
                  UNION
                  SELECT
                       <!-- TB.GLBL_CMPY_CD                AS GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] -->
                       TB.ORIG_INV_NUM                AS AR_TRX_NUM
                      ,SUM(TB.DEAL_RMNG_BAL_GRS_AMT)  AS DEAL_RMNG_BAL_GRS_AMT
                      ,MAX(CS.AR_CASH_APPLY_STS_CD)   AS AR_CASH_APPLY_STS_CD
                      ,MAX(TB.AR_TRX_TP_CD)           AS AR_TRX_TP_CD
                      ,MAX(TB.GL_DT)                  AS GL_DT
                      ,SUM(DT.DEAL_CLT_DSPT_AMT)      AS DEAL_CLT_DSPT_AMT
                      ,MAX(DT.CLT_DSPT_DT)            AS CLT_DSPT_DT
                  FROM
                       AR_TRX_BAL     TB
                      ,(
                          SELECT
                               <!-- CDT.GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] -->
                               CDT.AR_TRX_NUM
                              ,SUM(CDT.DEAL_CLT_DSPT_AMT) AS DEAL_CLT_DSPT_AMT
                              ,MAX(CDT.CLT_DSPT_DT)       AS CLT_DSPT_DT
                          FROM
                              CLT_DSPT_TRX CDT
                          WHERE
                                  CDT.GLBL_CMPY_CD    = #glblCmpyCd#
                              AND CDT.CLT_DSPT_STS_CD = #cltDsptStsCdApproved#
                              AND CDT.EZCANCELFLAG    = '0'
                              AND CDT.AR_TRX_NUM IS NOT NULL
                          GROUP BY
                               <!-- CDT.GLBL_CMPY_CD, 2018/02/20 [QC#23843,DEL] -->
                               CDT.AR_TRX_NUM
                       )              DT
                      ,(
                        SELECT
                            TB.ORIG_INV_NUM
                            <!-- START 2018/02/20 [QC#23843,MOD]
                            ,CASE WHEN NVL(US_A.COUNT,0) &gt; 0 AND NVL(US_U.COUNT,0) = 0 AND NVL(US_P.COUNT,0) = 0  AND NVL(US_V.COUNT,0) = 0 THEN #Applied#
                                  WHEN NVL(US_A.COUNT,0) = 0 AND NVL(US_U.COUNT,0) &gt; 0 AND NVL(US_P.COUNT,0) = 0  AND NVL(US_V.COUNT,0) = 0 THEN #Unpplied#
                                  WHEN NVL(US_A.COUNT,0) = 0 AND NVL(US_U.COUNT,0) = 0 AND NVL(US_P.COUNT,0) = 0  AND NVL(US_V.COUNT,0) &gt; 0 THEN #Void#
                                  ELSE #Partial# 
                             END AS AR_CASH_APPLY_STS_CD -->
                            ,CASE WHEN NVL(US_P.COUNT,0) = 0 THEN CASE WHEN NVL(US_A.COUNT,0) > 0 AND NVL(US_U.COUNT,0) = 0 AND NVL(US_V.COUNT,0) = 0 THEN 'A'
                                                                       WHEN NVL(US_A.COUNT,0) = 0 AND NVL(US_U.COUNT,0) > 0 AND NVL(US_V.COUNT,0) = 0 THEN 'U'
                                                                       WHEN NVL(US_A.COUNT,0) = 0 AND NVL(US_U.COUNT,0) = 0 AND NVL(US_V.COUNT,0) > 0 THEN 'V'
                                                                       ELSE 'P'
                                                                  END
                                  ELSE 'P'
                             END AS AR_CASH_APPLY_STS_CD
                            <!-- END   2018/02/20 [QC#23843,ADD] -->
                        FROM
                            AR_TRX_BAL  TB
                            ,(
                                SELECT
                                     A.ORIG_INV_NUM
                                    ,COUNT(AR_TRX_BAL_PK)   AS COUNT
                                FROM
                                    AR_TRX_BAL  A
                                WHERE
                                        A.GLBL_CMPY_CD = #glblCmpyCd#
                                    AND A.EZCANCELFLAG = '0'
                                    AND A.AR_CASH_APPLY_STS_CD=#Applied#
                                    <!-- START 2018/02/20 [QC#23843,ADD] -->
                                    <isNotNull property="billToCustAcctCd_H">
                                    AND A.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H#
                                    </isNotNull>
                                    <!-- END   2018/02/20 [QC#23843,ADD] -->
                                GROUP BY
                                 A.ORIG_INV_NUM
                                ,A.AR_CASH_APPLY_STS_CD
                             )US_A
                            ,(
                                SELECT
                                     A.ORIG_INV_NUM
                                    ,COUNT(AR_TRX_BAL_PK)   AS COUNT
                                FROM
                                    AR_TRX_BAL  A
                                WHERE
                                        A.GLBL_CMPY_CD = #glblCmpyCd#
                                    AND A.EZCANCELFLAG = '0'
                                    AND A.AR_CASH_APPLY_STS_CD=#Unpplied#
                                    <!-- START 2018/02/20 [QC#23843,ADD] -->
                                    <isNotNull property="billToCustAcctCd_H">
                                    AND A.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H#
                                    <!-- END   2018/02/20 [QC#23843,ADD] -->
                                    </isNotNull>
                                GROUP BY
                                 A.ORIG_INV_NUM
                                ,A.AR_CASH_APPLY_STS_CD
                             )US_U
                            ,(
                                SELECT
                                     A.ORIG_INV_NUM
                                    ,COUNT(AR_TRX_BAL_PK)   AS COUNT
                                FROM
                                    AR_TRX_BAL  A
                                WHERE
                                        A.GLBL_CMPY_CD = #glblCmpyCd#
                                    AND A.EZCANCELFLAG = '0'
                                    AND A.AR_CASH_APPLY_STS_CD=#Partial#
                                    <!-- START 2018/02/20 [QC#23843,ADD] -->
                                    <isNotNull property="billToCustAcctCd_H">
                                    AND A.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H#
                                    <!-- END   2018/02/20 [QC#23843,ADD] -->
                                    </isNotNull>
                                GROUP BY
                                 A.ORIG_INV_NUM
                                ,A.AR_CASH_APPLY_STS_CD
                             )US_P
                            ,(
                                SELECT
                                     A.ORIG_INV_NUM
                                    ,COUNT(AR_TRX_BAL_PK)   AS COUNT
                                FROM
                                    AR_TRX_BAL  A
                                WHERE
                                        A.GLBL_CMPY_CD = #glblCmpyCd#
                                    AND A.EZCANCELFLAG = '0'
                                    AND A.AR_CASH_APPLY_STS_CD=#Void#
                                    <!-- START 2018/02/20 [QC#23843,ADD] -->
                                    <isNotNull property="billToCustAcctCd_H">
                                    AND A.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H# 
                                    </isNotNull>
                                    <!-- END    2018/02/20 [QC#23843,ADD] -->
                                GROUP BY
                                 A.ORIG_INV_NUM
                                ,A.AR_CASH_APPLY_STS_CD
                             )US_V
                        WHERE
                                TB.ORIG_INV_NUM = US_A.ORIG_INV_NUM(+)
                            AND TB.ORIG_INV_NUM = US_U.ORIG_INV_NUM(+)
                            AND TB.ORIG_INV_NUM = US_P.ORIG_INV_NUM(+)
                            AND TB.ORIG_INV_NUM = US_V.ORIG_INV_NUM(+)
                            AND TB.GLBL_CMPY_CD = #glblCmpyCd#
                            AND TB.EZCANCELFLAG = '0'
                            <!-- START 2018/02/20 [QC#23843,ADD] -->
                            <isNotNull property="billToCustAcctCd_H">
                            AND TB.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H#
                            </isNotNull>
                            <!-- END    2018/02/20 [QC#23843,ADD] -->
                        GROUP BY
                           TB.ORIG_INV_NUM
                          ,US_A.COUNT
                          ,US_U.COUNT
                          ,US_P.COUNT
                          ,US_V.COUNT
                     ) CS
                  WHERE
                          TB.GLBL_CMPY_CD               = #glblCmpyCd#
                      <!-- AND TB.GLBL_CMPY_CD               = DT.GLBL_CMPY_CD (+) 2018/02/20 [QC#23843,ADD] -->
                      AND TB.AR_TRX_NUM                 = DT.AR_TRX_NUM (+)
                      AND TB.ORIG_INV_NUM               = CS.ORIG_INV_NUM
                      AND DT.DEAL_CLT_DSPT_AMT(+)      != '0'
                      AND TB.EZCANCELFLAG               = '0'
                      AND EXISTS(
                            SELECT
                                'X'
                            FROM
                                ISTL_PMT_TERM   PT
                            WHERE
                                    PT.GLBL_CMPY_CD     = #glblCmpyCd#
                                AND PT.ISTL_PMT_TERM_CD = TB.PMT_TERM_CD
                                AND PT.EZCANCELFLAG     = '0'
                        )
                     <!-- START 2018/02/20 [QC#23843,ADD] -->
                     <isNotNull property="billToCustAcctCd_H">
                     AND TB.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H#
                     </isNotNull>
                     <!-- END    2018/02/20 [QC#23843,ADD] -->
                  GROUP BY
                      <!-- TB.GLBL_CMPY_CD, -->
                      TB.ORIG_INV_NUM
                ) ATB
                <!-- END   2016/08/23 S.Fujita [QC#11024,ADD] -->
            WHERE
                I.GLBL_CMPY_CD                      = #glblCmpyCd#
                <!-- START 2016/04/25 S.Fujita [QC#5047,MOD] -->
                <isEqual property="searchFlg" compareValue="Y">
                AND I.INV_NUM                   LIKE #invNum_FR#
                </isEqual>
                <isEqual property="searchFlg" compareValue="N">
                   <isNotNull property="invNum_FR">
                   AND I.INV_NUM                   &gt;= #invNum_FR#
                   </isNotNull>
                   <isNotNull property="invNum_TO">
                   AND I.INV_NUM                   &lt;= #invNum_TO#
                   </isNotNull>
                </isEqual>
                <!-- END 2016/04/25 S.Fujita [QC#5047,MOD] -->
                <isNotNull property="xxFromDt_FR">
                AND I.INV_DT                    &gt;= #xxFromDt_FR#
                </isNotNull>
                <isNotNull property="xxToDt_TO">
                AND I.INV_DT                    &lt;= #xxToDt_TO#
                </isNotNull>
                <isNotNull property="dueDt_FR">
                <!-- START 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                <!-- AND SI.INV_DUE_DT               &gt;= #dueDt_FR# -->
                AND I.NET_DUE_DT                &gt;= #dueDt_FR#
                <!-- END 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                </isNotNull>
                <isNotNull property="dueDt_TO">
                <!-- START 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                <!-- AND SI.INV_DUE_DT               &lt;= #dueDt_TO# -->
                AND I.NET_DUE_DT                &lt;= #dueDt_TO#
                <!-- END 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                </isNotNull>
                <isNotNull property="invTotDealNetAmt_LO">
                AND I.INV_TOT_DEAL_NET_AMT      &gt;= #invTotDealNetAmt_LO#
                </isNotNull>
                <isNotNull property="invTotDealNetAmt_HI">
                AND I.INV_TOT_DEAL_NET_AMT      &lt;= #invTotDealNetAmt_HI#
                </isNotNull>
                <isNotNull property="invTpCd_L">
                AND I.INV_TP_CD                     = #invTpCd_L#
                </isNotNull>
                
                <!-- remove this condition 2016/04/12 QC#6925
                <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                AND I.FNLZ_INV_FLG                  =  'N'
                </isEqual>
                <isNotEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                AND I.FNLZ_INV_FLG                  =  'Y'
                </isNotEqual>
                -->
                <isNotNull property="billToCustAcctNm_H">
                AND I.BILL_TO_CUST_ACCT_NM         LIKE #billToCustAcctNm_H#
                </isNotNull>
                <isNotNull property="billToCustAcctCd_H">
                AND I.BILL_TO_CUST_ACCT_CD         LIKE #billToCustAcctCd_H#
                </isNotNull>
                <isNotNull property="dsInvTpCd_L">
                AND I.DS_INV_TP_CD                  = #dsInvTpCd_L#
                </isNotNull>
                AND IB.GLBL_CMPY_CD(+)              = I.GLBL_CMPY_CD
                <isNotNull property="shipToLocNm_H">
                AND IB.SHIP_TO_CUST_ACCT_NM         LIKE #shipToLocNm_H#
                </isNotNull>
                <isNotNull property="shipToCustCd_H">
                AND IB.SHIP_TO_CUST_ACCT_CD         LIKE #shipToCustCd_H#
                </isNotNull>
                AND IB.INV_NUM(+)                   = I.INV_NUM
                AND DIT.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                AND DIT.DS_INV_TP_CD(+)             = I.DS_INV_TP_CD
                <!-- AND ATB.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD -->
                AND ATB.AR_TRX_NUM(+)               = I.INV_NUM
                AND ACS.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                AND SS.GLBL_CMPY_CD(+)              = I.GLBL_CMPY_CD
                AND SS.SYS_SRC_CD(+)                = I.SYS_SRC_CD
                <isNotNull property="sysSrcCd_L">
                AND SS.SYS_SRC_CD                   = #sysSrcCd_L#
                </isNotNull>
                <!-- START 2016/10/04 S.Fujita [QC#11229,MOD] -->
                <!-- 
                AND ACS.AR_CASH_APPLY_STS_CD(+)     = ATB.AR_CASH_APPLY_STS_CD
                -->
                AND (CASE WHEN I.FNLZ_INV_FLG = #flgY# THEN NVL(ATB.AR_CASH_APPLY_STS_CD, #Unpplied#)
                          END)                      = ACS.AR_CASH_APPLY_STS_CD(+)
                <!-- END   2016/10/04 S.Fujita [QC#11229,MOD] -->
                <!-- START 2016/06/15 S.Fujita [QC#9291,MOD] -->
                <isNotNull property="dealRmngBalGrsAmt_LO">
                <!-- START 2016/10/04 S.Fujita [QC#11229,MOD] -->
                <!-- 
                AND NVL(ATB.DEAL_RMNG_BAL_GRS_AMT,I.INV_TOT_DEAL_NET_AMT)   &gt;= #dealRmngBalGrsAmt_LO#
                -->
                AND (CASE WHEN I.FNLZ_INV_FLG = #flgY# THEN NVL(ATB.DEAL_RMNG_BAL_GRS_AMT, I.INV_TOT_DEAL_NET_AMT)
                          ELSE 0 END) &gt;= #dealRmngBalGrsAmt_LO#
                <!-- END   2016/10/04 S.Fujita [QC#11229,MOD] -->
                </isNotNull>
                <isNotNull property="dealRmngBalGrsAmt_HI">
                <!-- START 2016/10/04 S.Fujita [QC#11229,MOD] -->
                <!--
                AND NVL(ATB.DEAL_RMNG_BAL_GRS_AMT,I.INV_TOT_DEAL_NET_AMT)   &lt;= #dealRmngBalGrsAmt_HI#
                -->
                AND (CASE WHEN I.FNLZ_INV_FLG = #flgY# THEN NVL(ATB.DEAL_RMNG_BAL_GRS_AMT, I.INV_TOT_DEAL_NET_AMT)
                          ELSE 0 END) &lt;= #dealRmngBalGrsAmt_HI#
                <!-- END   2016/10/04 S.Fujita [QC#11229,MOD] -->
                </isNotNull>
                <!-- END 2016/06/15 S.Fujita [QC#9291,MOD] -->
                <isNotEqual property="cMsg.xxChkBox_CL" compareValue="Y">
                <!-- START 2016/05/26 S.Fujita [QC#7440,DEL] -->
                <!-- 
                <iterate property="inCloInv" var="inCloInv[]" open="AND ATB.AR_CASH_APPLY_STS_CD(+) NOT IN(" close=")" conjunction=",">
                  #inCloInv[]#
                </iterate>
                 -->
                <!-- END   2016/05/26 S.Fujita [QC#7440,DEL] -->
                <!-- START 2016/05/26 S.Fujita [QC#7440,ADD] -->
                AND NOT EXISTS(
                        SELECT
                            'X'
                        FROM
                            AR_TRX_BAL   AB
                        WHERE
                                AB.GLBL_CMPY_CD     = I.GLBL_CMPY_CD
                            AND AB.AR_TRX_NUM       = I.INV_NUM
                            <iterate property="inCloInv" var="inCloInv[]" open="AND ATB.AR_CASH_APPLY_STS_CD IN(" close=")" conjunction=",">
                                                      #inCloInv[]#
                            </iterate>
                            AND AB.EZCANCELFLAG     = '0'
                <!-- START 2016/08/23 S.Fujita [QC#11024,ADD] -->
                            AND NOT EXISTS(
                                SELECT
                                    'X'
                                FROM
                                    ISTL_PMT_TERM   PT
                                WHERE
                                        PT.GLBL_CMPY_CD     = AB.GLBL_CMPY_CD
                                    AND PT.ISTL_PMT_TERM_CD = AB.PMT_TERM_CD
                                    AND PT.EZCANCELFLAG     = '0'
                              )
                        UNION
                        SELECT
                            MAX('X')
                        FROM
                            AR_TRX_BAL   AB
                        WHERE
                                AB.GLBL_CMPY_CD     = I.GLBL_CMPY_CD
                            AND AB.ORIG_INV_NUM     = I.INV_NUM
                            <iterate property="inCloInv" var="inCloInv[]" open="AND ATB.AR_CASH_APPLY_STS_CD IN(" close=")" conjunction=",">
                                                      #inCloInv[]#
                            </iterate>
                            AND AB.EZCANCELFLAG     = '0'
                            AND EXISTS(
                                SELECT
                                    'X'
                                FROM
                                    ISTL_PMT_TERM   PT
                                WHERE
                                        PT.GLBL_CMPY_CD     = AB.GLBL_CMPY_CD
                                    AND PT.ISTL_PMT_TERM_CD = AB.PMT_TERM_CD
                                    AND PT.EZCANCELFLAG     = '0'
                              )
                        GROUP BY
                            AB.ORIG_INV_NUM
                    )
                <!-- END   2016/08/23 S.Fujita [QC#11024,ADD] -->
                <!-- END   2016/05/26 S.Fujita [QC#7440,ADD] -->
                </isNotEqual>
                <!-- AND IPC.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD -->
                AND IPC.INV_NUM(+)                  = I.INV_NUM
                <isNotEqual property="cMsg.xxChkBox_CN" compareValue="Y">
                AND I.GRP_INV_NUM                   IS NULL
                AND NOT (IPC.CONSL_BILL_FLG(+) = #flgY# AND IPC.INV_OTPT_REQ_FLG(+) = #flgN#)
                </isNotEqual>
                <!-- START 2016/08/23 S.Fujita [QC#11024,DEL] -->
                <!--
                AND CDT.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                AND CDT.AR_TRX_NUM(+)               = I.INV_NUM
                AND CDT.DEAL_CLT_DSPT_AMT(+)       != '0'
                -->
                <!-- END   2016/08/23 S.Fujita [QC#11024,DEL] -->
                <isEqual property="svcInvLineFlg" compareValue="Y">
                <!-- AND SIL.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD -->
                AND SIL.SVC_INV_NUM(+)              = I.INV_NUM
                </isEqual>
                <isNotNull property="mdlNm_H">
                AND SIL.MDL_NM  LIKE '%' || #mdlNm_H# || '%'
                </isNotNull>
                <isNotNull property="serNum_H">
                AND SIL.SER_NUM  LIKE '%' || #serNum_H# || '%'
                </isNotNull>
                <isNotNull property="grpInvNum_H">
                AND I.GRP_INV_NUM LIKE #grpInvNum_H# 
                </isNotNull>
                <!--
                AND IE.GLBL_CMPY_CD(+)              = I.GLBL_CMPY_CD
                AND IE.INV_NUM(+)                   = I.INV_NUM
                AND ILE.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                AND ILE.INV_NUM(+)                  = I.INV_NUM
                AND IBE.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                AND IBE.INV_NUM(+)                  = I.INV_NUM
                AND ADE.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                -->
                AND ADE.INV_NUM(+)                  = I.INV_NUM
                
                <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                AND ADE.INV_NUM IS NOT NULL
                </isEqual>
                <isNotEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                AND ADE.INV_NUM IS NULL
                </isNotEqual>
                
                <isNotNull property="cMsg.glDt_FR">
                AND (ATB.GL_DT &gt;= #cMsg.glDt_FR# OR (ATB.GL_DT IS NULL AND I.ACCT_DT &gt;= #cMsg.glDt_FR# ))
                </isNotNull>

                <isNotNull property="cMsg.glDt_TO">
                AND (ATB.GL_DT &lt;= #cMsg.glDt_TO# OR (ATB.GL_DT IS NULL AND I.ACCT_DT &lt;=  #cMsg.glDt_TO# ))
                </isNotNull>

                <isNotNull property="cMsg.srcSysDocNum">
                AND I.SRC_SYS_DOC_NUM LIKE #cMsg.srcSysDocNum#
                </isNotNull>

                <!-- START 2016/08/23 S.Fujita [QC#13478,MOD] -->
                <!--
                <isNotEqual property="cMsg.xxChkBox_IC" compareValue="Y">
                AND I.FNLZ_INV_FLG = #flgY#
                </isNotEqual>
                -->
                <isEqual property="cMsg.xxRadioBtn_H" compareValue="1">
                AND I.FNLZ_INV_FLG = #flgY#
                </isEqual>

                <isEqual property="cMsg.xxRadioBtn_H" compareValue="2">
                AND I.FNLZ_INV_FLG = #flgN#
                </isEqual>
                <!-- END   2016/08/23 S.Fujita [QC#13478,MOD] -->

                <!--  START 2018/05/28 Y.Matsui [QC#26342,ADD] -->
                <isNotNull property="cMsg.custIssPoNum_H">
                AND I.CUST_ISS_PO_NUM LIKE #cMsg.custIssPoNum_H#
                </isNotNull> 
                <!--  END   2018/05/28 Y.Matsui [QC#26342,ADD] -->

                AND I.EZCANCELFLAG                  = '0'
                AND IB.EZCANCELFLAG(+)              = '0'
                AND DIT.EZCANCELFLAG(+)             = '0'
                <!-- START 2016/08/23 S.Fujita [QC#11024,DEL] -->
                <!--
                AND ATB.EZCANCELFLAG(+)             = '0'
                -->
                <!-- END   2016/08/23 S.Fujita [QC#11024,DEL] -->
                AND ACS.EZCANCELFLAG(+)             = '0'
                <!-- AND IPC.EZCANCELFLAG(+)             = '0' -->
                <!-- START 2016/08/23 S.Fujita [QC#11024,DEL] -->
                <!--
                AND CDT.EZCANCELFLAG(+)             = '0'
                -->
                <!-- END   2016/08/23 S.Fujita [QC#11024,DEL] -->
                <!--
                AND SIL.EZCANCELFLAG(+)             = '0'
                AND IE.EZCANCELFLAG(+)              = '0'
                AND ILE.EZCANCELFLAG(+)             = '0'
                AND IBE.EZCANCELFLAG(+)             = '0'
                AND ADE.EZCANCELFLAG(+)             = '0'
                -->
                AND SS.EZCANCELFLAG(+)              = '0'
                <!-- 
                AND ORD1(+) = 1
                AND ORD2(+) = 1
                 -->
                AND ORD3(+) = 1
                <isEqual property="svcInvLineFlg" compareValue="Y">
                AND ORD(+)  = 1
                </isEqual>
                AND ORD4(+) = 1
            ORDER BY
                 I.BILL_TO_CUST_ACCT_CD
                ,I.INV_NUM
                ,I.INV_DT DESC
                <!-- START 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                <!-- ,SI.INV_DUE_DT DESC -->
                ,I.NET_DUE_DT DESC
                <!-- END 2016/06/22 T.Tsuchida [QC#10539,MOD] -->
                 ) X
      WHERE
        ROWNUM &lt;= #rowNum#
    </statement>
    <statement id="getInvList" parameterClass="Map">
        SELECT
             X.INV_NUM
            ,X.INV_DT
            ,X.ACCT_DT
            ,X.INV_DUE_DT
            ,X.EZUPTIME
            ,X.EZUPTIMEZONE
            ,X.INV_TOT_DEAL_NET_AMT
            ,X.INV_TP_NM
            ,X.BILL_TO_CUST_ACCT_NM
            ,X.BILL_TO_CUST_ACCT_CD
            ,X.SLS_REP_TOC_NM
            ,X.DS_INV_TP_NM
            ,X.DS_CONTR_NUM
            ,X.INV_SRC_TXT
            ,X.DEAL_RMNG_BAL_GRS_AMT
            ,X.AR_CASH_APPLY_STS_NM
            ,X.DEAL_CLT_DSPT_AMT
            ,X.CLT_DSPT_DT
            <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
            ,X.INV_ERR_MSG_TXT
            ,X.INVLD_VAL_TXT
            </isEqual>
            ,X.SYS_SRC_NM
            ,X.GL_DT
            ,X.FNLZ_INV_FLG
            ,X.CUST_ISS_PO_NUM
            ,X.EZINTIME             AS XX_REC_HIST_CRAT_TS
            ,X.EZINUSERID           AS XX_REC_HIST_CRAT_BY_NM
            ,X.EZUPTIME             AS XX_REC_HIST_UPD_TS
            ,X.EZUPUSERID           AS XX_REC_HIST_UPD_BY_NM
            ,X.EZTABLEID            AS XX_REC_HIST_TBL_NM
            <!--START 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
            ,X.CLT_PSN_NM
            <!--END 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
        FROM
            (SELECT
                DISTINCT
                 I.INV_NUM
                ,I.INV_DT
                ,I.ACCT_DT
                ,CASE WHEN I.INV_TP_CD = #invTpCRM# THEN I.INV_TOT_DEAL_NET_AMT * -1
                      ELSE I.INV_TOT_DEAL_NET_AMT
                 END AS INV_TOT_DEAL_NET_AMT
                ,I.INV_TP_CD
                ,I.EZUPTIME
                ,I.EZUPTIMEZONE
                ,I.BILL_TO_CUST_ACCT_NM
                ,I.BILL_TO_CUST_ACCT_CD
                ,I.SLS_REP_TOC_CD  || ' ' || I.SLS_REP_TOC_NM AS SLS_REP_TOC_NM
                ,I.DS_INV_TP_CD
                ,I.NET_DUE_DT AS INV_DUE_DT
                ,NVL((SELECT SI.DS_CONTR_NUM FROM SVC_INV SI WHERE SI.GLBL_CMPY_CD = I.GLBL_CMPY_CD AND SI.SVC_INV_NUM = I.INV_NUM AND SI.EZCANCELFLAG = '0'), I.CPO_ORD_NUM) AS DS_CONTR_NUM
                ,DIT.INV_SRC_TXT
                ,DIT.DS_INV_TP_NM
                ,(SELECT IT.INV_TP_NM FROM INV_TP IT WHERE IT.GLBL_CMPY_CD = I.GLBL_CMPY_CD AND IT.INV_TP_CD = I.INV_TP_CD AND IT.EZCANCELFLAG = '0') AS INV_TP_NM
                ,CASE WHEN I.FNLZ_INV_FLG = 'Y' THEN CASE WHEN ATB.DEAL_RMNG_BAL_GRS_AMT IS NOT NULL THEN ATB.DEAL_RMNG_BAL_GRS_AMT
                                                          ELSE CASE WHEN I.INV_TP_CD  = '2' THEN I.INV_TOT_DEAL_NET_AMT * -1
                                                                    ELSE I.INV_TOT_DEAL_NET_AMT
                                                               END
                                                     END
                      ELSE 0
                 END AS DEAL_RMNG_BAL_GRS_AMT
                ,ATB.AR_CASH_APPLY_STS_CD
                ,ACS.AR_CASH_APPLY_STS_NM
                ,ATB.DEAL_CLT_DSPT_AMT
                ,ATB.CLT_DSPT_DT
                <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                ,TRIM(ADE.INV_ERR_MSG_TXT) INV_ERR_MSG_TXT
                ,TRIM(ADE.INVLD_VAL_TXT) INVLD_VAL_TXT
                </isEqual>
                ,SS.SYS_SRC_NM
                ,NVL(ATB.GL_DT, I.ACCT_DT) AS GL_DT
                ,I.FNLZ_INV_FLG
                ,I.CUST_ISS_PO_NUM
                ,I.EZINUSERID
                ,I.EZINTIME
                ,I.EZUPUSERID
                ,I.EZTABLEID
                <!--START 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
                ,CP.CLT_PSN_NM
                <!--END 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
            FROM
                 INV I
                ,INV_BOL IB
                ,DS_INV_TP DIT
                ,AR_CASH_APPLY_STS ACS
                ,SYS_SRC SS
                ,(
	               SELECT
	                  INV_NUM
	                 ,CONSL_BILL_FLG
	                 ,INV_OTPT_REQ_FLG
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       E.INV_NUM
	                     ORDER BY
	                       E.INV_NUM        ASC
	                 ) AS ORD4
	               FROM
	                  INV_PRT_CTRL E
	               WHERE
	                  E.GLBL_CMPY_CD = #glblCmpyCd#
	                  AND E.EZCANCELFLAG = '0'
                 ) IPC
                <isEqual property="svcInvLineFlg" compareValue="Y">
                ,(
	               SELECT
	                  SVC_INV_NUM
	                 ,MDL_NM
	                 ,SER_NUM
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       A.SVC_INV_NUM
	                     ORDER BY
	                       A.SVC_INV_LINE_NUM        ASC
	                 ) AS ORD
	               FROM
	                  SVC_INV_LINE A
	               WHERE
	                  A.GLBL_CMPY_CD = #glblCmpyCd#
	                  <isNotNull property="mdlNm_H">
                      AND A.MDL_NM  LIKE '%' || #mdlNm_H# || '%'
                      </isNotNull>
                      <isNotNull property="serNum_H">
                      AND A.SER_NUM  LIKE '%' || #serNum_H# || '%'
                      </isNotNull>
	                  AND A.EZCANCELFLAG = '0'
                 ) SIL
                 </isEqual>
                ,(
	               SELECT
	                  INV_NUM
	                 ,INV_ERR_MSG_TXT
	                 ,INVLD_VAL_TXT
	                 ,ROW_NUMBER() OVER(
	                     PARTITION BY
	                       D.INV_NUM
	                     ORDER BY
	                       D.INV_LINE_NUM        ASC
	                 ) AS ORD3
	               FROM
	                  AJE_INV_ACCT_DIST_ERR D
	               WHERE
	                  D.GLBL_CMPY_CD = #glblCmpyCd#
	                  AND D.EZCANCELFLAG = '0'
	                  <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                      AND D.INV_NUM IS NOT NULL
                      </isEqual>
                      <isNotEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                      AND D.INV_NUM IS NULL
                      </isNotEqual>
                 ) ADE
                ,(
                  SELECT
                       TB.AR_TRX_NUM
                      ,TB.DEAL_RMNG_BAL_GRS_AMT
                      ,TB.AR_CASH_APPLY_STS_CD
                      ,TB.AR_TRX_TP_CD
                      ,TB.GL_DT
                      ,DT.DEAL_CLT_DSPT_AMT
                      ,DT.CLT_DSPT_DT
                  FROM
                       AR_TRX_BAL     TB
                      ,(
                          SELECT
                               CDT.AR_TRX_NUM
                              ,SUM(CDT.DEAL_CLT_DSPT_AMT) AS DEAL_CLT_DSPT_AMT
                              ,MAX(CDT.CLT_DSPT_DT)       AS CLT_DSPT_DT
                          FROM
                              CLT_DSPT_TRX CDT
                          WHERE
                                  CDT.GLBL_CMPY_CD    = #glblCmpyCd#
                              AND CDT.CLT_DSPT_STS_CD = #cltDsptStsCdApproved#
                              AND CDT.EZCANCELFLAG    = '0'
                              AND CDT.AR_TRX_NUM IS NOT NULL
                          GROUP BY
                               CDT.AR_TRX_NUM
                       )              DT
                  WHERE
                          TB.GLBL_CMPY_CD               = #glblCmpyCd#
                      AND TB.AR_TRX_NUM                 = DT.AR_TRX_NUM (+)
                      AND DT.DEAL_CLT_DSPT_AMT(+)      != '0'
                      AND TB.EZCANCELFLAG               = '0'
                      <isNotNull property="billToCustAcctCd_H">
                      AND TB.BILL_TO_CUST_ACCT_CD         LIKE #billToCustAcctCd_H#
                      </isNotNull>
                      AND NOT EXISTS(
                            SELECT
                                'X'
                            FROM
                                ISTL_PMT_TERM   PT
                            WHERE
                                    PT.GLBL_CMPY_CD     = #glblCmpyCd#
                                AND PT.ISTL_PMT_TERM_CD = TB.PMT_TERM_CD
                                AND PT.EZCANCELFLAG     = '0'
                        )
                  UNION ALL
                  SELECT
                       TB.ORIG_INV_NUM                AS AR_TRX_NUM
                      ,SUM(TB.DEAL_RMNG_BAL_GRS_AMT)  AS DEAL_RMNG_BAL_GRS_AMT
                      ,MAX(CS.AR_CASH_APPLY_STS_CD)   AS AR_CASH_APPLY_STS_CD
                      ,MAX(TB.AR_TRX_TP_CD)           AS AR_TRX_TP_CD
                      ,MAX(TB.GL_DT)                  AS GL_DT
                      ,SUM(DT.DEAL_CLT_DSPT_AMT)      AS DEAL_CLT_DSPT_AMT
                      ,MAX(DT.CLT_DSPT_DT)            AS CLT_DSPT_DT
                  FROM
                       AR_TRX_BAL     TB
                      ,(
                          SELECT
                               CDT.AR_TRX_NUM
                              ,SUM(CDT.DEAL_CLT_DSPT_AMT) AS DEAL_CLT_DSPT_AMT
                              ,MAX(CDT.CLT_DSPT_DT)       AS CLT_DSPT_DT
                          FROM
                              CLT_DSPT_TRX CDT
                          WHERE
                                  CDT.GLBL_CMPY_CD    = #glblCmpyCd#
                              AND CDT.CLT_DSPT_STS_CD = #cltDsptStsCdApproved#
                              AND CDT.EZCANCELFLAG    = '0'
                              AND CDT.AR_TRX_NUM IS NOT NULL
                          GROUP BY
                               CDT.AR_TRX_NUM
                       )              DT
                      ,(
                        SELECT
                            TB.ORIG_INV_NUM
                           ,CASE WHEN NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'P' THEN 1 ELSE 0 END),0) = 0 THEN CASE WHEN NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'A' THEN 1 ELSE 0 END), 0) > 0 AND NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'U' THEN 1 ELSE 0 END), 0) = 0 AND NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'V' THEN 1 ELSE 0 END), 0) = 0 THEN 'A'
                                                                                                                          WHEN NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'A' THEN 1 ELSE 0 END), 0) = 0 AND NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'U' THEN 1 ELSE 0 END), 0) > 0 AND NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'V' THEN 1 ELSE 0 END), 0) = 0 THEN 'U'      
                                                                                                                          WHEN NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'A' THEN 1 ELSE 0 END), 0) = 0 AND NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'U' THEN 1 ELSE 0 END), 0) = 0 AND NVL(SUM(CASE WHEN TB.AR_CASH_APPLY_STS_CD = 'V' THEN 1 ELSE 0 END), 0) > 0 THEN 'V'
                                                                                                                          ELSE 'P'
                                                                                                                     END
                                 ELSE 'P'
                            END AS AR_CASH_APPLY_STS_CD
                        FROM
                            AR_TRX_BAL  TB
                        WHERE
                                TB.GLBL_CMPY_CD = #glblCmpyCd#
                            AND TB.EZCANCELFLAG = '0'
                            <isNotNull property="billToCustAcctCd_H">
                            AND TB.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H#
                            </isNotNull>
                        GROUP BY
                           TB.ORIG_INV_NUM
                     ) CS
                  WHERE
                          TB.GLBL_CMPY_CD               = #glblCmpyCd#
                      AND TB.AR_TRX_NUM                 = DT.AR_TRX_NUM (+)
                      AND TB.ORIG_INV_NUM               = CS.ORIG_INV_NUM
                      AND DT.DEAL_CLT_DSPT_AMT(+)      != '0'
                      AND TB.EZCANCELFLAG               = '0'
                      AND EXISTS(
                            SELECT
                                'X'
                            FROM
                                ISTL_PMT_TERM   PT
                            WHERE
                                    PT.GLBL_CMPY_CD     = #glblCmpyCd#
                                AND PT.ISTL_PMT_TERM_CD = TB.PMT_TERM_CD
                                AND PT.EZCANCELFLAG     = '0'
                        )
                     <isNotNull property="billToCustAcctCd_H">
                     AND TB.BILL_TO_CUST_ACCT_CD LIKE #billToCustAcctCd_H#
                     </isNotNull>
                  GROUP BY
                      TB.ORIG_INV_NUM
                ) ATB
                <!--START 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
                ,SELL_TO_CUST STC
                ,CLT_PTFO CP
                <!--END 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
            WHERE
                I.GLBL_CMPY_CD                      = #glblCmpyCd#
                <isEqual property="searchFlg" compareValue="Y">
                AND I.INV_NUM                   LIKE #invNum_FR#
                </isEqual>
                <isEqual property="searchFlg" compareValue="N">
                   <isNotNull property="invNum_FR">
                   AND I.INV_NUM                   &gt;= #invNum_FR#
                   </isNotNull>
                   <isNotNull property="invNum_TO">
                   AND I.INV_NUM                   &lt;= #invNum_TO#
                   </isNotNull>
                </isEqual>
                <isNotNull property="xxFromDt_FR">
                AND I.INV_DT                    &gt;= #xxFromDt_FR#
                </isNotNull>
                <isNotNull property="xxToDt_TO">
                AND I.INV_DT                    &lt;= #xxToDt_TO#
                </isNotNull>
                <isNotNull property="dueDt_FR">
                AND I.NET_DUE_DT                &gt;= #dueDt_FR#
                </isNotNull>
                <isNotNull property="dueDt_TO">
                AND I.NET_DUE_DT                &lt;= #dueDt_TO#
                </isNotNull>
                <isNotNull property="invTotDealNetAmt_LO">
                AND I.INV_TOT_DEAL_NET_AMT      &gt;= #invTotDealNetAmt_LO#
                </isNotNull>
                <isNotNull property="invTotDealNetAmt_HI">
                AND I.INV_TOT_DEAL_NET_AMT      &lt;= #invTotDealNetAmt_HI#
                </isNotNull>
                <isNotNull property="invTpCd_L">
                AND I.INV_TP_CD                     = #invTpCd_L#
                </isNotNull>
                <isNotNull property="billToCustAcctNm_H">
                AND I.BILL_TO_CUST_ACCT_NM         LIKE #billToCustAcctNm_H#
                </isNotNull>
                <isNotNull property="billToCustAcctCd_H">
                AND I.BILL_TO_CUST_ACCT_CD         LIKE #billToCustAcctCd_H#
                </isNotNull>
                <isNotNull property="dsInvTpCd_L">
                AND I.DS_INV_TP_CD                  = #dsInvTpCd_L#
                </isNotNull>
                AND IB.GLBL_CMPY_CD(+)              = I.GLBL_CMPY_CD
                <isNotNull property="shipToLocNm_H">
                AND IB.SHIP_TO_CUST_ACCT_NM         LIKE #shipToLocNm_H#
                </isNotNull>
                <isNotNull property="shipToCustCd_H">
                AND IB.SHIP_TO_CUST_ACCT_CD         LIKE #shipToCustCd_H#
                </isNotNull>
                AND IB.INV_NUM(+)                   = I.INV_NUM
                AND DIT.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                AND DIT.DS_INV_TP_CD(+)             = I.DS_INV_TP_CD
                AND ATB.AR_TRX_NUM(+)               = I.INV_NUM
                AND ACS.GLBL_CMPY_CD(+)             = I.GLBL_CMPY_CD
                AND SS.GLBL_CMPY_CD(+)              = I.GLBL_CMPY_CD
                AND SS.SYS_SRC_CD(+)                = I.SYS_SRC_CD
                <isNotNull property="sysSrcCd_L">
                AND SS.SYS_SRC_CD                   = #sysSrcCd_L#
                </isNotNull>
                AND (CASE WHEN I.FNLZ_INV_FLG = #flgY# THEN NVL(ATB.AR_CASH_APPLY_STS_CD, #Unpplied#)
                          END)                      = ACS.AR_CASH_APPLY_STS_CD(+)
                <isNotNull property="dealRmngBalGrsAmt_LO">
                AND (CASE WHEN I.FNLZ_INV_FLG = #flgY# THEN NVL(ATB.DEAL_RMNG_BAL_GRS_AMT, I.INV_TOT_DEAL_NET_AMT)
                          ELSE 0 END) &gt;= #dealRmngBalGrsAmt_LO#
                </isNotNull>
                <isNotNull property="dealRmngBalGrsAmt_HI">
                AND (CASE WHEN I.FNLZ_INV_FLG = #flgY# THEN NVL(ATB.DEAL_RMNG_BAL_GRS_AMT, I.INV_TOT_DEAL_NET_AMT)
                          ELSE 0 END) &lt;= #dealRmngBalGrsAmt_HI#
                </isNotNull>
                <isNotEqual property="cMsg.xxChkBox_CL" compareValue="Y">
                AND NOT EXISTS(
                        SELECT
                            'X'
                        FROM
                            AR_TRX_BAL   AB
                        WHERE
                                AB.GLBL_CMPY_CD     = I.GLBL_CMPY_CD
                            AND AB.AR_TRX_NUM       = I.INV_NUM
                            <iterate property="inCloInv" var="inCloInv[]" open="AND ATB.AR_CASH_APPLY_STS_CD IN(" close=")" conjunction=",">
                                                      #inCloInv[]#
                            </iterate>
                            AND AB.EZCANCELFLAG     = '0'
                            AND NOT EXISTS(
                                SELECT
                                    'X'
                                FROM
                                    ISTL_PMT_TERM   PT
                                WHERE
                                        PT.GLBL_CMPY_CD     = AB.GLBL_CMPY_CD
                                    AND PT.ISTL_PMT_TERM_CD = AB.PMT_TERM_CD
                                    AND PT.EZCANCELFLAG     = '0'
                              )
                        UNION
                        SELECT
                            MAX('X')
                        FROM
                            AR_TRX_BAL   AB
                        WHERE
                                AB.GLBL_CMPY_CD     = I.GLBL_CMPY_CD
                            AND AB.ORIG_INV_NUM     = I.INV_NUM
                            <iterate property="inCloInv" var="inCloInv[]" open="AND ATB.AR_CASH_APPLY_STS_CD IN(" close=")" conjunction=",">
                                                      #inCloInv[]#
                            </iterate>
                            AND AB.EZCANCELFLAG     = '0'
                            AND EXISTS(
                                SELECT
                                    'X'
                                FROM
                                    ISTL_PMT_TERM   PT
                                WHERE
                                        PT.GLBL_CMPY_CD     = AB.GLBL_CMPY_CD
                                    AND PT.ISTL_PMT_TERM_CD = AB.PMT_TERM_CD
                                    AND PT.EZCANCELFLAG     = '0'
                              )
                        GROUP BY
                            AB.ORIG_INV_NUM
                    )
                </isNotEqual>
                AND IPC.INV_NUM(+)                  = I.INV_NUM
                <isNotEqual property="cMsg.xxChkBox_CN" compareValue="Y">
                AND I.GRP_INV_NUM                   IS NULL
                AND NOT (IPC.CONSL_BILL_FLG(+) = #flgY# AND IPC.INV_OTPT_REQ_FLG(+) = #flgN#)
                </isNotEqual>
                <isEqual property="svcInvLineFlg" compareValue="Y">
                AND SIL.SVC_INV_NUM(+)              = I.INV_NUM
                </isEqual>
                <isNotNull property="mdlNm_H">
                AND SIL.MDL_NM  LIKE '%' || #mdlNm_H# || '%'
                </isNotNull>
                <isNotNull property="serNum_H">
                AND SIL.SER_NUM  LIKE '%' || #serNum_H# || '%'
                </isNotNull>
                <isNotNull property="grpInvNum_H">
                <!-- Start 2023/2/03 S.Nakatani [QC#61129, MOD]-->
                <!-- AND I.GRP_INV_NUM LIKE #grpInvNum_H# -->
                AND (
                    I.GRP_INV_NUM LIKE #grpInvNum_H#
                    OR EXISTS (
                        SELECT
                            1
                        FROM 
                            CONSL_BILL_LINE CBL
                        WHERE
                                CBL.GLBL_CMPY_CD      = #glblCmpyCd#
                            AND CBL.CONSL_BILL_PK     LIKE #grpInvNum_H#
                            AND CBL.CONSL_BILL_TRX_ID = I.INV_NUM
                            AND CBL.EZCANCELFLAG      = '0'
                        )
                    )
                <!-- End 2023/2/03 S.Nakatani [QC#61129, MOD]-->
                </isNotNull>
                AND ADE.INV_NUM(+)                  = I.INV_NUM
                <isEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                AND ADE.INV_NUM IS NOT NULL
                </isEqual>
                <isNotEqual property="cMsg.xxChkBox_ER" compareValue="Y">
                AND ADE.INV_NUM IS NULL
                </isNotEqual>
                <isNotNull property="cMsg.glDt_FR">
                AND (ATB.GL_DT &gt;= #cMsg.glDt_FR# OR (ATB.GL_DT IS NULL AND I.ACCT_DT &gt;= #cMsg.glDt_FR# ))
                </isNotNull>
                <isNotNull property="cMsg.glDt_TO">
                AND (ATB.GL_DT &lt;= #cMsg.glDt_TO# OR (ATB.GL_DT IS NULL AND I.ACCT_DT &lt;=  #cMsg.glDt_TO# ))
                </isNotNull>
                <isNotNull property="cMsg.srcSysDocNum">
                AND I.SRC_SYS_DOC_NUM LIKE #cMsg.srcSysDocNum#
                </isNotNull>
                <isEqual property="cMsg.xxRadioBtn_H" compareValue="1">
                AND I.FNLZ_INV_FLG = #flgY#
                </isEqual>
                <isEqual property="cMsg.xxRadioBtn_H" compareValue="2">
                AND I.FNLZ_INV_FLG = #flgN#
                </isEqual>
                <isNotNull property="cMsg.custIssPoNum_H">
                AND UPPER(I.CUST_ISS_PO_NUM) LIKE UPPER(#cMsg.custIssPoNum_H#)  <!-- 2019/03/25 QC#30758 Add 'UPPER' function -->
                </isNotNull> 
                <!-- START 2024/03/05 TZ.Win [QC#63665,ADD] -->
                <isNotNull property="custIncdtId">
                AND EXISTS (
                    SELECT
                        1
                    FROM 
                        CANON_E193_CS_HEADERS HDR
                    WHERE
                        HDR.INVOICE_NUMBER    = I.INV_NUM
                    AND HDR.TICKET_ID         = #custIncdtId#
                )
                </isNotNull>
                <isNotNull property="xxCratDt_FR">
                AND SUBSTR(I.EZINTIME,1,8) &gt;= #xxCratDt_FR#
                </isNotNull>
                <isNotNull property="xxCratDt_TO">
                AND SUBSTR(I.EZINTIME,1,8) &lt;= #xxCratDt_TO#
                </isNotNull>
                <isNotNull property="ezInUserID">
                AND I.EZINUSERID                = #ezInUserID#
                </isNotNull>
                <!-- END 2024/03/05 TZ.Win [QC#63665,ADD] -->
                AND I.EZCANCELFLAG                  = '0'
                AND IB.EZCANCELFLAG(+)              = '0'
                AND DIT.EZCANCELFLAG(+)             = '0'
                AND ACS.EZCANCELFLAG(+)             = '0'
                AND SS.EZCANCELFLAG(+)              = '0'
                AND ORD3(+) = 1
                <isEqual property="svcInvLineFlg" compareValue="Y">
                AND ORD(+)  = 1
                </isEqual>
                AND ORD4(+) = 1
                <!--START 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
                AND I.GLBL_CMPY_CD = STC.GLBL_CMPY_CD(+)
                AND I.BILL_TO_CUST_ACCT_CD = STC.SELL_TO_CUST_CD(+)
                AND STC.EZCANCELFLAG(+) = '0'
                AND STC.GLBL_CMPY_CD = CP.GLBL_CMPY_CD(+)
                AND STC.CLT_PTFO_PK = CP.CLT_PTFO_PK(+)
                AND CP.EZCANCELFLAG(+) = '0'
                <!--END 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
            ORDER BY
                 I.BILL_TO_CUST_ACCT_CD
                ,I.INV_NUM
                ,I.INV_DT DESC
                ,I.NET_DUE_DT DESC
                 ) X
      WHERE
        ROWNUM &lt;= #rowNum#
    </statement>
<!-- END   2019/01/17 H.Ikeda [QC#29388,MOD] -->
    <resultMap id="result.getInvList" class="NFCL3050_ASMsg">
        <result property="invNum_A"                  column="INV_NUM"                      javaType="EZDSStringItem"/>
        <result property="invDt_A"                   column="INV_DT"                       javaType="EZDSStringItem"/>
        <result property="acctDt_A"                  column="ACCT_DT"                      javaType="EZDSStringItem"/>
        <result property="invDueDt_A"                column="INV_DUE_DT"                   javaType="EZDSStringItem"/>
        <result property="invTotDealNetAmt_A"        column="INV_TOT_DEAL_NET_AMT"         javaType="EZDTBigDecimalItem"/>
        <result property="invTpNm_A"                 column="INV_TP_NM"                    javaType="EZDSStringItem"/>
        <result property="billToCustAcctNm_A"        column="BILL_TO_CUST_ACCT_NM"         javaType="EZDSStringItem"/>
        <result property="billToCustAcctCd_A"        column="BILL_TO_CUST_ACCT_CD"         javaType="EZDSStringItem"/>
        <result property="xxScrItem61Txt_B"          column="SLS_REP_TOC_NM"               javaType="EZDSStringItem"/>
        <result property="dsInvTpNm_A"               column="DS_INV_TP_NM"                 javaType="EZDSStringItem"/>
        <result property="dsContrNum_A"              column="DS_CONTR_NUM"                 javaType="EZDSStringItem"/>
        <result property="invSrcTxt_A"               column="INV_SRC_TXT"                  javaType="EZDSStringItem"/>
        <result property="dealRmngBalGrsAmt_A"       column="DEAL_RMNG_BAL_GRS_AMT"        javaType="EZDTBigDecimalItem"/>
        <result property="arCashApplyStsNm_A"        column="AR_CASH_APPLY_STS_NM"         javaType="EZDSStringItem"/>
        <result property="dealCltDsptAmt_A"          column="DEAL_CLT_DSPT_AMT"            javaType="EZDTBigDecimalItem"/>
        <result property="cltDsptDt_A"               column="CLT_DSPT_DT"                  javaType="EZDSStringItem"/>
        <result property="invErrMsgTxt_A"            column="INV_ERR_MSG_TXT"              javaType="EZDSStringItem"/>
        <result property="invldValTxt_A"             column="INVLD_VAL_TXT"                javaType="EZDSStringItem"/>
        <result property="errTblNm_A"                column="ERR_TBL_NM"                   javaType="EZDSStringItem"/>
        <result property="ezUpTime_A"                column="EZUPTIME"                     javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_A"            column="EZUPTIMEZONE"                 javaType="EZDSStringItem"/>
        <result property="sysSrcNm_A"                column="SYS_SRC_NM"                   javaType="EZDSStringItem"/>
        <result property="glDt_A"                    column="GL_DT"                        javaType="EZDSStringItem"/>
        <result property="fnlzInvFlg_A"              column="FNLZ_INV_FLG"                 javaType="EZDSStringItem"/>
        <!--  START 2018/05/28 Y.Matsui [QC#26342,ADD] -->
        <result property="custIssPoNum_A"            column="CUST_ISS_PO_NUM"              javaType="EZDSStringItem"/>
        <!--  END   2018/05/28 Y.Matsui [QC#26342,ADD] -->
        <!--START 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
        <result property="cltPsnNm_A"                column="CLT_PSN_NM"                   javaType="EZDSStringItem"/>
        <!--END 2022/11/29 M.Nakajima [QC#60742,ADD]  -->
        <!-- START 2017/03/17 [QC#14205,ADD] -->
        <result property="xxRecHistCratTs_A"        column="XX_REC_HIST_CRAT_TS"        javaType="EZDSStringItem"/>
        <result property="xxRecHistCratByNm_A"      column="XX_REC_HIST_CRAT_BY_NM"     javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdTs_A"         column="XX_REC_HIST_UPD_TS"         javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdByNm_A"       column="XX_REC_HIST_UPD_BY_NM"      javaType="EZDSStringItem"/>
        <result property="xxRecHistTblNm_A"         column="XX_REC_HIST_TBL_NM"         javaType="EZDSStringItem"/>
        <!-- END   2017/03/17 [QC#14205,ADD] -->
    </resultMap>
</sqlMap>
