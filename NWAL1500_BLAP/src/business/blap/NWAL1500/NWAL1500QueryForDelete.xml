<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWAL1500QueryForDelete">

    <typeAlias alias="DS_CPO_SLS_CRTMsg"                type="business.db.DS_CPO_SLS_CRTMsg"/>
    <typeAlias alias="ORD_PRC_CALC_BASETMsg"            type="business.db.ORD_PRC_CALC_BASETMsg"/>
    <typeAlias alias="CPO_RTRN_PRC_CALC_BASETMsg"       type="business.db.CPO_RTRN_PRC_CALC_BASETMsg"/>
    <typeAlias alias="SVC_MACH_MSTR_HISTTMsg"           type="business.db.SVC_MACH_MSTR_HISTTMsg"/>

    <statement id="getDsCpoSlsCrList"  parameterClass="Map" resultMap="result.getDsCpoSlsCrList">
        SELECT
            CSC.GLBL_CMPY_CD
            ,CSC.DS_CPO_SLS_CR_PK
        FROM
            DS_CPO_SLS_CR CSC
        WHERE
                CSC.GLBL_CMPY_CD     = #glblCmpyCd#
            AND CSC.DS_CPO_CONFIG_PK = #dsCpoConfigPk#
            AND CSC.CPO_ORD_NUM      = #cpoOrdNum#
            AND CSC.DS_ORD_POSN_NUM  = #dsOrdPosnNum#
            AND CSC.EZCANCELFLAG     = '0'
    </statement>

    <resultMap id="result.getDsCpoSlsCrList" class="DS_CPO_SLS_CRTMsg">
        <result property="glblCmpyCd"       column="GLBL_CMPY_CD"         javaType="EZDTStringItem"/>
        <result property="dsCpoSlsCrPk"     column="DS_CPO_SLS_CR_PK"     javaType="EZDTBigDecimalItem"/>
    </resultMap>

    <statement id="getOrdPrcCalBaseList" parameterClass="Map" resultMap="result.getOrdPrcCalBaseList">
        SELECT
            PCB.GLBL_CMPY_CD
           ,PCB.ORD_PRC_CALC_BASE_PK
        FROM
            ORD_PRC_CALC_BASE PCB
        WHERE
            PCB.GLBL_CMPY_CD             = #glblCmpyCd#
            AND PCB.CPO_ORD_NUM          = #cpoOrdNum#
            AND PCB.CPO_DTL_LINE_NUM     = #cpoDtlLineNum#
            AND PCB.CPO_DTL_LINE_SUB_NUM = #cpoDtlLineSubNum#
            AND PCB.EZCANCELFLAG   = '0'
    </statement>

    <resultMap id="result.getOrdPrcCalBaseList" class="ORD_PRC_CALC_BASETMsg">
        <result property="glblCmpyCd"       column="GLBL_CMPY_CD"         javaType="EZDTStringItem"/>
        <result property="ordPrcCalcBasePk" column="ORD_PRC_CALC_BASE_PK" javaType="EZDTStringItem"/>
    </resultMap>

    <statement id="getCpoRtrnPrcCalBaseList" parameterClass="Map" resultMap="result.getCpoRtrnPrcCalBaseList">
        SELECT
            RPCB.GLBL_CMPY_CD
           ,RPCB.CPO_RTRN_PRC_CALC_BASE_PK
        FROM
            CPO_RTRN_PRC_CALC_BASE RPCB
        WHERE
            RPCB.GLBL_CMPY_CD                 = #glblCmpyCd#
            AND RPCB.CPO_ORD_NUM              = #cpoOrdNum#
            AND RPCB.DS_CPO_RTRN_LINE_NUM     = #dsCpoRtrnLineNum#
            AND RPCB.DS_CPO_RTRN_LINE_SUB_NUM = #dsCpoRtrnLineSubNum#
            AND RPCB.EZCANCELFLAG   = '0'
    </statement>

    <resultMap id="result.getCpoRtrnPrcCalBaseList" class="CPO_RTRN_PRC_CALC_BASETMsg">
        <result property="glblCmpyCd"           column="GLBL_CMPY_CD"              javaType="EZDTStringItem"/>
        <result property="cpoRtrnPrcCalcBasePk" column="CPO_RTRN_PRC_CALC_BASE_PK" javaType="EZDTStringItem"/>
    </resultMap>

	<!-- 2016/04/05 S21_NA#5519-2 Add Start-->
    <statement id="getSvcMachMstrHist" parameterClass="Map" resultMap="result.getSvcMachMstrHist">
        SELECT
              MMH.GLBL_CMPY_CD
            , MMH.SVC_MACH_MSTR_H_PK
            , MMH.SVC_MACH_MSTR_PK
            , MMH.SVC_MACH_MSTR_STS_CD
        FROM
            SVC_MACH_MSTR_HIST MMH
        WHERE
            MMH.GLBL_CMPY_CD         = #glblCmpyCd#
            AND MMH.SVC_MACH_MSTR_PK = #svcMachMstrPk#
            AND MMH.EZCANCELFLAG     = '0'
        ORDER BY
            MMH.SVC_MACH_MSTR_H_PK DESC
    </statement>
    <resultMap id="result.getSvcMachMstrHist" class="SVC_MACH_MSTR_HISTTMsg">
        <result property="glblCmpyCd"         column="GLBL_CMPY_CD"           javaType="EZDTStringItem"/>
        <result property="svcMachMstrHPk"     column="SVC_MACH_MSTR_H_PK"     javaType="EZDTBigDecimalItem"/>
        <result property="svcMachMstrPk"      column="SVC_MACH_MSTR_PK"       javaType="EZDTBigDecimalItem"/>
        <result property="svcMachMstrStsCd"   column="SVC_MACH_MSTR_STS_CD"   javaType="EZDTStringItem"/>
    </resultMap>
	<!-- 2016/04/05 S21_NA#5519-2 Add End-->
</sqlMap>
