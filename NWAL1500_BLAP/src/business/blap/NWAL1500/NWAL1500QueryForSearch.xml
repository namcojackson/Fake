<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWAL1500QueryForSearch">

    <typeAlias alias="NWAL1500CMsg"             type="business.blap.NWAL1500.NWAL1500CMsg"/>
    <typeAlias alias="NWAL1500_BSMsg"           type="business.blap.NWAL1500.NWAL1500_BSMsg"/>
    <typeAlias alias="NWAL1500_DSMsg"           type="business.blap.NWAL1500.NWAL1500_DSMsg"/>
    <typeAlias alias="NWAL1500_FCMsg"           type="business.blap.NWAL1500.NWAL1500_FCMsg"/>
    <typeAlias alias="NWAL1500_ISMsg"           type="business.blap.NWAL1500.NWAL1500_ISMsg"/>
    <typeAlias alias="NWAL1500_PCMsg"           type="business.blap.NWAL1500.NWAL1500_PCMsg"/>
    <typeAlias alias="NWAL1500_SSMsg"           type="business.blap.NWAL1500.NWAL1500_SSMsg"/>
    <typeAlias alias="NWAL1500_JSMsg"           type="business.blap.NWAL1500.NWAL1500_JSMsg"/>
    <typeAlias alias="NWAL1500_KSMsg"           type="business.blap.NWAL1500.NWAL1500_KSMsg"/>
    <statement id="getCpoViewInfo" parameterClass="Map" resultMap="result.getCpoInfo">
        SELECT
               DC.CPO_ORD_NUM                                       CPO_ORD_NUM
             , DC.EZUPTIME                                          EZUPTIME
             , DC.EZUPTIMEZONE                                      EZUPTIMEZONE
             , DC.DS_ORD_CATG_DESC_TXT                              DS_ORD_CATG_DESC_TXT
             , DC.DS_ORD_CATG_CD                                    DS_ORD_CATG_CD
             , DC.DS_ORD_TP_CD                                      DS_ORD_TP_CD
             , DC.DS_ORD_TP_DESC_TXT                                DS_ORD_TP_DESC_TXT
             , DC.DS_ORD_RSN_CD                                     DS_ORD_RSN_CD
             , DC.CPO_ORD_TS                                        CPO_ORD_TS
             , DC.CPO_SRC_TP_CD                                     CPO_SRC_TP_CD
             , DC.LINE_DEAL_NET_AMT                                 LINE_DEAL_NET_AMT
             , DC.LINE_DEAL_TAX_AMT                                 LINE_DEAL_TAX_AMT
             , DC.LINE_DEAL_CHRG_AMT                                LINE_DEAL_CHRG_AMT
             , DC.LINE_DEAL_SUB_TOT_AMT                             LINE_DEAL_SUB_TOT_AMT
             , DC.CPO_SVC_DEAL_NET_AMT                              CPO_SVC_DEAL_NET_AMT
             , DC.CPO_SVC_DEAL_TAX_AMT                              CPO_SVC_DEAL_TAX_AMT
             , DC.CPO_SVC_DEAL_CHRG_AMT                             CPO_SVC_DEAL_CHRG_AMT
             , DC.CPO_SVC_DEAL_SUB_TOT_AMT                          CPO_SVC_DEAL_SUB_TOT_AMT
             , DC.RMA_DEAL_NET_AMT                                  RMA_DEAL_NET_AMT
             , DC.RMA_DEAL_TAX_AMT                                  RMA_DEAL_TAX_AMT
             , DC.RMA_DEAL_CHRG_AMT                                 RMA_DEAL_CHRG_AMT
             , DC.RMA_DEAL_SUB_TOT_AMT                              RMA_DEAL_SUB_TOT_AMT
             , DC.ORD_TOT_DEAL_NET_AMT                              ORD_TOT_DEAL_NET_AMT
             , DC.ORD_TOT_DEAL_TAX_AMT                              ORD_TOT_DEAL_TAX_AMT
             , DC.ORD_TOT_DEAL_CHRG_AMT                             ORD_TOT_DEAL_CHRG_AMT
             , DC.ORD_TOT_DEAL_SUB_TOT_AMT                          ORD_TOT_DEAL_SUB_TOT_AMT
             , DC.INV_TOT_DEAL_NET_AMT                              INV_TOT_DEAL_NET_AMT
             , DC.INV_AMT_SLS_PCT                                   INV_AMT_SLS_PCT
             , DC.BILL_TO_CUST_ACCT_NM                              BILL_TO_CUST_ACCT_NM
             , DC.BILL_TO_CUST_ACCT_CD                              BILL_TO_CUST_ACCT_CD
             , DC.BILL_TO_CUST_LOC_ADDR                             BILL_TO_CUST_LOC_ADDR
             , DC.ENT_BILL_TO_CUST_LOC_ADDR                         ENT_BILL_TO_CUST_LOC_ADDR
             , DC.BILL_TO_CUST_CD                                   BILL_TO_CUST_CD
             , DC.SHIP_TO_CUST_ACCT_NM                              SHIP_TO_CUST_ACCT_NM
             , DC.ADD_DROP_SHIP_FLG                                 ADD_DROP_SHIP_FLG
             , DC.SHIP_TO_CUST_ACCT_CD                              SHIP_TO_CUST_ACCT_CD
             , DC.SHIP_TO_CUST_LOC_ADDR                             SHIP_TO_CUST_LOC_ADDR
             , DC.ENT_SHIP_TO_CUST_LOC_ADDR                         ENT_SHIP_TO_CUST_LOC_ADDR
             , DC.ADD_SHIP_TO_CUST_CD                               ADD_SHIP_TO_CUST_CD
             , DC.ADD_SHIP_TO_LOC_NM                                ADD_SHIP_TO_LOC_NM
             , DC.SOLD_TO_CUST_ACCT_NM                              SOLD_TO_CUST_ACCT_NM
             , DC.SELL_TO_CUST_CD                                   SELL_TO_CUST_CD
             , DC.SOLD_TO_CUST_LOC_ADDR                             SOLD_TO_CUST_LOC_ADDR
             , DC.ENT_SOLD_TO_CUST_LOC_ADDR                         ENT_SOLD_TO_CUST_LOC_ADDR
             , DC.SOLD_TO_CUST_LOC_CD                               SOLD_TO_CUST_LOC_CD
             , DC.NEGO_DEAL_AMT                                     NEGO_DEAL_AMT
             , DC.SLS_REP_TOC_NM                                    SLS_REP_TOC_NM
             , DC.SLS_REP_TOC_CD                                    SLS_REP_TOC_CD
             , DC.SLS_REP_PSN_NUM                                   SLS_REP_PSN_NUM
             , DC.COA_BR_DESC_TXT                                   COA_BR_DESC_TXT
             , DC.COA_EXTN_DESC_TXT                                 COA_EXTN_DESC_TXT
             , DC.PRC_CATG_NM                                       PRC_CATG_NM
             , DC.CUST_ISS_PO_NUM                                   CUST_ISS_PO_NUM
             , DC.LEASE_CMPY_PO_NUM                                 LEASE_CMPY_PO_NUM
             , DC.CUST_ISS_PO_DT                                    CUST_ISS_PO_DT
             , DC.AQU_NUM                                           AQU_NUM
             , DC.INV_CMNT_TXT                                      INV_CMNT_TXT
             , DC.CPO_SRC_TP_DESC_TXT                               CPO_SRC_TP_DESC_TXT
             , DC.ORD_SRC_IMPT_DT                                   ORD_SRC_IMPT_DT
             , DC.ORD_SRC_IMPT_TS_DPLY_TXT                          ORD_SRC_IMPT_TS_DPLY_TXT
             , DC.ORD_SRC_REF_NUM                                   ORD_SRC_REF_NUM
             , DC.FRT_COND_CD                                       FRT_COND_CD
             , DC.FRT_COND_DESC_TXT                                 FRT_COND_DESC_TXT
             , DC.CARR_SVC_LVL_DESC_TXT                             CARR_SVC_LVL_DESC_TXT
             , DC.CARR_ACCT_NUM                                     CARR_ACCT_NUM
             , DC.PMT_TERM_CASH_DISC_DESC_TXT                       PMT_TERM_CASH_DISC_DESC_TXT
             , DC.PMT_CC_FLG                                        PMT_CC_FLG
             , DC.DS_PMT_METH_CD                                    DS_PMT_METH_CD
             , DC.PRE_PMT_CHK_NUM                                   PRE_PMT_CHK_NUM
             , DC.PRE_PMT_AMT                                       PRE_PMT_AMT
             , DC.ADD_RDD_DT                                        ADD_RDD_DT
             , DC.PRC_CONTR_NUM                                     PRC_CONTR_NUM
             , DC.PRC_CONTR_NM                                      PRC_CONTR_NM
             , DC.FL_PRC_LIST_CD                                    FL_PRC_LIST_CD
             , DC.FL_PRC_LIST_NM                                    FL_PRC_LIST_NM
             , DC.LOAN_PER_DAYS_AOT                                 LOAN_PER_DAYS_AOT
             , DC.CSMP_CONTR_NUM                                    CSMP_CONTR_NUM
             , DC.DLR_REF_NUM                                       DLR_REF_NUM
             , DC.ORD_SGN_DT                                        ORD_SGN_DT
             , DC.LINE_BIZ_TP_CD                                    LINE_BIZ_TP_CD
             <!--, STS.ORD_HDR_STS_NM                                   ORD_HDR_STS_DESC_TXT For Performance QC#8166 Del -->
             <!-- 2017/07/03 S21_NA#19528 Add Start -->
             , DC.ORD_HDR_DPLY_STS_DESC_TXT                         ORD_HDR_STS_DESC_TXT
             <!-- 2017/07/03 S21_NA#19528 Add End -->
             <!-- 2017/07/03 S21_NA#19528 Del Particular Header Status Logic -->
             , DC.LEASE_PRCH_OPT_CD                                 LEASE_PRCH_OPT_CD
             , DC.LEASE_TERM_CD                                     LEASE_TERM_CD
             , DC.LEASE_TERM_MTH_AOT                                LEASE_TERM_MTH_AOT
             , DC.LEASE_PMT_FREQ_CD                                 LEASE_PMT_FREQ_CD
             , DC.LEASE_TOT_PMT_AMT                                 LEASE_TOT_PMT_AMT
             , DC.PRE_PMT_TP_CD                                     PRE_PMT_TP_CD
             , DC.ADD_SHPG_SVC_LVL_CD                               ADD_SHPG_SVC_LVL_CD
             , DC.SPCL_HDLG_TP_CD                                   SPCL_HDLG_TP_CD
             , DC.ORD_LOG_TP_CD                                     ORD_LOG_TP_CD
             , DC.ORD_LOG_TP_DESC_TXT                               ORD_LOG_TP_DESC_TXT
             , DC.PRC_CALC_DT                                       PRC_CALC_DT
             , DC.PRC_BASE_DT                                       PRC_BASE_DT
             ,(CASE
                   WHEN DC.COA_BR_CD IS NOT NULL
                   THEN DC.COA_BR_CD || ':' || DC.COA_BR_DESC_TXT
               END)                                                 COA_BR_ITEM
             ,(CASE
                   WHEN DC.COA_EXTN_CD IS NOT NULL
                   THEN DC.COA_EXTN_CD || ':' || DC.COA_EXTN_DESC_TXT
               END)                                                 COA_EXTN_ITEM
             , DC.CRAT_TS_DPLY_TXT                                  CRAT_TS_DPLY_TXT
             , DC.CRAT_USR_NM                                       CRAT_USR_NM
             , DC.UPD_TS_DPLY_TXT                                   UPD_TS_DPLY_TXT
             , DC.UPD_USR_NM                                        UPD_USR_NM
             , DC.ORD_BOOK_TS_DPLY_TXT                              ORD_BOOK_TS_DPLY_TXT
             , DC.DROP_SHIP_AVAL_FLG                                DROP_SHIP_AVAL_FLG  <!-- 2016/03/25 S21_NA#4693 Add -->
             <!-- 2016/05/18 S21_NA#6719 Add Start -->
             , DC.ADD_SHIP_TO_ADDL_LOC_NM                           ADD_SHIP_TO_ADDL_LOC_NM
             , DC.ADD_SHIP_TO_FIRST_LINE_ADDR                       ADD_SHIP_TO_FIRST_LINE_ADDR
             , DC.ADD_SHIP_TO_SCD_LINE_ADDR                         ADD_SHIP_TO_SCD_LINE_ADDR
             , DC.ADD_SHIP_TO_THIRD_LINE_ADDR                       ADD_SHIP_TO_THIRD_LINE_ADDR
             , DC.ADD_SHIP_TO_FRTH_LINE_ADDR                        ADD_SHIP_TO_FRTH_LINE_ADDR
             , DC.ADD_SHIP_TO_CTY_ADDR                              ADD_SHIP_TO_CTY_ADDR
             , DC.ADD_SHIP_TO_ST_CD                                 ADD_SHIP_TO_ST_CD
             , DC.ADD_SHIP_TO_PROV_NM                               ADD_SHIP_TO_PROV_NM
             , DC.ADD_SHIP_TO_CNTY_NM                               ADD_SHIP_TO_CNTY_NM
             , DC.ADD_SHIP_TO_POST_CD                               ADD_SHIP_TO_POST_CD
             , DC.ADD_SHIP_TO_CTRY_CD                               ADD_SHIP_TO_CTRY_CD
             , DC.ADD_SHIP_TO_01_REF_CMNT_TXT                       ADD_SHIP_TO_01_REF_CMNT_TXT
             , DC.ADD_SHIP_TO_02_REF_CMNT_TXT                       ADD_SHIP_TO_02_REF_CMNT_TXT
             <!-- 2016/05/18 S21_NA#6719 Add End -->
             , DC.DS_CR_CARD_PK                                     DS_CR_CARD_PK <!-- 2016/06/02 S21_NA#9325 Add -->
             , DC.ADD_ORIG_CPO_ORD_NUM                              ADD_ORIG_CPO_ORD_NUM     <!-- 2016/06/28 S21_NA#10893 Add -->
             , DC.RE_BILL_PAIR_CPO_ORD_NUM                          RE_BILL_PAIR_CPO_ORD_NUM <!-- 2016/06/02 S21_NA#10893 Add -->
             , DC.CR_REBIL_RSN_CATG_CD                              CR_REBIL_RSN_CATG_CD     <!-- 2016/06/02 S21_NA#10893 Add -->
             , DC.ORD_HDR_STS_CD                                    ORD_HDR_STS_CD <!-- 2016/07/06 S21_NA#10321 Add -->
             <!-- 2016/08/09 S21_NA#8388 Add -->
             , (CASE WHEN DC.DCLN_SVC_CD = '1' THEN 'Y'ELSE ''  <!-- 2016/09/28 S21_NA#12598 Mod -->
                END)                                                DCLN_SVC_CD 
             , DC.DS_CPO_PRC_IND                                    DS_CPO_PRC_IND <!-- 2016/09/05 S21_NA#6523 Add -->
             <!-- 2016/09/05 S21_NA#6100 Add Start -->
             , DC.ORD_BOOK_REQ_USR_NM                               ORD_BOOK_REQ_USR_NM
             , DC.ORD_BOOK_REQ_TS_DPLY_TXT                          ORD_BOOK_REQ_TS_DPLY_TXT
             <!-- 2016/09/05 S21_NA#6100 Add End -->
             <!-- 2016/10/12 S21_NA#11964 Add Start -->
             , DC.ORD_SRC_IMPT_TS                                   ORD_SRC_IMPT_TS
             <!-- 2016/10/12 S21_NA#11964 Add End -->
             , DC.DS_IMPT_ORD_PK                                    DS_IMPT_ORD_PK <!-- 2017/03/23 S21_NA#18103 Add -->
             , DC.SELL_TO_FIRST_REF_CMNT_TXT                        SELL_TO_FIRST_REF_CMNT_TXT <!-- 2017/12/12 S21_NA#20164 Add -->
             <!-- 2018/05/11 S21_NA#22139 Add Start -->
             , DC.RMA_RPT_TP_CD                                     RMA_RPT_TP_CD
             , DC.RTRN_AUTH_CMNT_TXT                                RTRN_AUTH_CMNT_TXT
             <!-- 2018/05/11 S21_NA#22139 Add End -->
             <!-- 2018/08/06 S21_NA#27642 Add Start -->
             , DC.DS_CPO_UPD_USR_ID
             <!-- 2018/08/06 S21_NA#27642 Add End -->
             <!-- START 2023/10/13 [QC#61077, ADD] -->
             , DC.ORD_BOOK_FLG
             <!-- END   2023/10/13 [QC#61077, ADD] -->
        FROM
            CPO_V      DC
<!-- For Performance QC#8166 Del Start
             , (
                 SELECT 
                   DOS.ORD_HDR_STS_NM 
                 FROM 
                   DS_ORD_STS_V  DOS
                 WHERE
                      DOS.GLBL_CMPY_CD      = #glblCmpyCd#
                  AND DOS.CPO_ORD_NUM       = #cpoOrdNum#
                  AND DOS.EZCANCELFLAG      = '0' 
                  AND ROWNUM = 1
               ) STS
For Performance QC#8166 Del End -->
        WHERE
                DC.GLBL_CMPY_CD             = #glblCmpyCd#
            AND DC.CPO_ORD_NUM              = #cpoOrdNum#
            AND DC.EZCANCELFLAG             = '0'
    </statement>


    <resultMap id="result.getCpoInfo" class="NWAL1500CMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod -->
        <!-- Header ** Order Information -->
        <result property="cpoOrdNum"                 column="CPO_ORD_NUM"                       javaType="EZDCStringItem"/>
        <result property="ezUpTime"                  column="EZUPTIME"                          javaType="EZDCStringItem"/>
        <result property="ezUpTimeZone"              column="EZUPTIMEZONE"                      javaType="EZDCStringItem"/>
        <result property="ordHdrStsDescTxt"          column="ORD_HDR_STS_DESC_TXT"              javaType="EZDCStringItem"/>
        <result property="dsOrdCatgDescTxt"          column="DS_ORD_CATG_DESC_TXT"              javaType="EZDCStringItem"/>
        <result property="dsOrdCatgCd"               column="DS_ORD_CATG_CD"                    javaType="EZDCStringItem"/>
        <result property="dsOrdTpDescTxt"            column="DS_ORD_TP_DESC_TXT"                javaType="EZDCStringItem"/>
        <result property="dsOrdTpCd"                 column="DS_ORD_TP_CD"                      javaType="EZDCStringItem"/>
        <result property="dsOrdRsnCd"                column="DS_ORD_RSN_CD"                     javaType="EZDCStringItem"/>
        <result property="ordDt"                     column="CPO_ORD_TS"                        javaType="EZDCStringItem"/>
        <result property="ordDt_DP"                  column="CPO_ORD_TS"                        javaType="EZDCStringItem"/>
        <result property="cpoSrcTpCd"                column="CPO_SRC_TP_CD"                     javaType="EZDCStringItem"/>
        <result property="xxTotBaseAmt_LN"           column="LINE_DEAL_NET_AMT"                 javaType="EZDCBigDecimalItem"/>
        <result property="xxTotTaxAmt_LN"            column="LINE_DEAL_TAX_AMT"                 javaType="EZDCBigDecimalItem"/>
        <result property="xxTotFrtAmt_LN"            column="LINE_DEAL_CHRG_AMT"                javaType="EZDCBigDecimalItem"/>
        <result property="xxTotAmt_LN"               column="LINE_DEAL_SUB_TOT_AMT"             javaType="EZDCBigDecimalItem"/>
        <result property="xxTotBaseAmt_MT"           column="CPO_SVC_DEAL_NET_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="xxTotTaxAmt_MT"            column="CPO_SVC_DEAL_TAX_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="xxTotFrtAmt_MT"            column="CPO_SVC_DEAL_CHRG_AMT"             javaType="EZDCBigDecimalItem"/>
        <result property="xxTotAmt_MT"               column="CPO_SVC_DEAL_SUB_TOT_AMT"          javaType="EZDCBigDecimalItem"/>
        <result property="xxTotBaseAmt_RT"           column="RMA_DEAL_NET_AMT"                  javaType="EZDCBigDecimalItem"/>
        <result property="xxTotTaxAmt_RT"            column="RMA_DEAL_TAX_AMT"                  javaType="EZDCBigDecimalItem"/>
        <result property="xxTotFrtAmt_RT"            column="RMA_DEAL_CHRG_AMT"                 javaType="EZDCBigDecimalItem"/>
        <result property="xxTotAmt_RT"               column="RMA_DEAL_SUB_TOT_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="xxTotBaseAmt"              column="ORD_TOT_DEAL_NET_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="xxTotTaxAmt"               column="ORD_TOT_DEAL_TAX_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="xxTotFrtAmt"               column="ORD_TOT_DEAL_CHRG_AMT"             javaType="EZDCBigDecimalItem"/>
        <result property="xxTotAmt"                  column="ORD_TOT_DEAL_SUB_TOT_AMT"          javaType="EZDCBigDecimalItem"/>
        <result property="xxTotInvApplyAmt"          column="INV_TOT_DEAL_NET_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="xxTotInvPct"               column="INV_AMT_SLS_PCT"                   javaType="EZDCBigDecimalItem"/>
        <result property="billToCustAcctNm"          column="BILL_TO_CUST_ACCT_NM"              javaType="EZDCStringItem"/>
        <result property="billToCustAcctCd"          column="BILL_TO_CUST_ACCT_CD"              javaType="EZDCStringItem"/>
        <result property="xxAllLineAddr_BT"          column="BILL_TO_CUST_LOC_ADDR"             javaType="EZDCStringItem"/>
        <result property="entBillToCustLocAddr"      column="ENT_BILL_TO_CUST_LOC_ADDR"         javaType="EZDCStringItem"/>
        <result property="billToCustCd"              column="BILL_TO_CUST_CD"                   javaType="EZDCStringItem"/>
        <result property="shipToCustAcctNm"          column="SHIP_TO_CUST_ACCT_NM"              javaType="EZDCStringItem"/>
        <result property="dropShipFlg"               column="ADD_DROP_SHIP_FLG"                 javaType="EZDCStringItem"/>
        <result property="shipToCustAcctCd"          column="SHIP_TO_CUST_ACCT_CD"              javaType="EZDCStringItem"/>
        <result property="xxAllLineAddr_SH"          column="SHIP_TO_CUST_LOC_ADDR"             javaType="EZDCStringItem"/>
        <result property="entShipToCustLocAddr"      column="ENT_SHIP_TO_CUST_LOC_ADDR"         javaType="EZDCStringItem"/>
        <result property="shipToCustCd"              column="ADD_SHIP_TO_CUST_CD"               javaType="EZDCStringItem"/>
        <result property="shipToLocNm"               column="ADD_SHIP_TO_LOC_NM"                javaType="EZDCStringItem"/>
        <result property="soldToCustAcctNm"          column="SOLD_TO_CUST_ACCT_NM"              javaType="EZDCStringItem"/>
        <result property="sellToCustCd"              column="SELL_TO_CUST_CD"                   javaType="EZDCStringItem"/>
        <result property="xxAllLineAddr_SE"          column="SOLD_TO_CUST_LOC_ADDR"             javaType="EZDCStringItem"/>
        <result property="entSoldToCustLocAddr"      column="ENT_SOLD_TO_CUST_LOC_ADDR"         javaType="EZDCStringItem"/>
        <result property="soldToCustLocCd"           column="SOLD_TO_CUST_LOC_CD"               javaType="EZDCStringItem"/>
        <result property="slsRepTocNm"               column="SLS_REP_TOC_NM"                    javaType="EZDCStringItem"/>
        <result property="slsRepTocCd"               column="SLS_REP_TOC_CD"                    javaType="EZDCStringItem"/>
        <result property="psnNum"                    column="SLS_REP_PSN_NUM"                   javaType="EZDCStringItem"/>
        <result property="coaBrDescTxt"              column="COA_BR_DESC_TXT"                   javaType="EZDCStringItem"/>
        <result property="coaExtnDescTxt"            column="COA_EXTN_DESC_TXT"                 javaType="EZDCStringItem"/>
        <result property="prcCatgNm"                 column="PRC_CATG_NM"                       javaType="EZDCStringItem"/>
        <result property="custIssPoNum"              column="CUST_ISS_PO_NUM"                   javaType="EZDCStringItem"/>
        <result property="leaseCmpyPoNum"            column="LEASE_CMPY_PO_NUM"                 javaType="EZDCStringItem"/>
        <result property="aquNum"                    column="AQU_NUM"                           javaType="EZDCStringItem"/>
        <result property="invCmntTxt"                column="INV_CMNT_TXT"                      javaType="EZDCStringItem"/>
        <result property="cpoSrcTpDescTxt"           column="CPO_SRC_TP_DESC_TXT"               javaType="EZDCStringItem"/>
        <result property="ordSrcRefNum"              column="ORD_SRC_REF_NUM"                   javaType="EZDCStringItem"/>
        <result property="frtCondCd"                 column="FRT_COND_CD"                       javaType="EZDCStringItem"/>
        <result property="frtCondDescTxt"            column="FRT_COND_DESC_TXT"                 javaType="EZDCStringItem"/>
        <result property="carrSvcLvlDescTxt"         column="CARR_SVC_LVL_DESC_TXT"             javaType="EZDCStringItem"/>
        <result property="spclHdlgTpDescTxt"         column="SPCL_HDLG_TP_DESC_TXT"             javaType="EZDCStringItem"/>
        <result property="carrAcctNum"               column="CARR_ACCT_NUM"                     javaType="EZDCStringItem"/>
        <result property="pmtTermCashDiscDescTxt"    column="PMT_TERM_CASH_DISC_DESC_TXT"       javaType="EZDCStringItem"/>
        <result property="pmtCcFlg"                  column="PMT_CC_FLG"                        javaType="EZDCStringItem"/>
        <result property="dsPmtMethCd"               column="DS_PMT_METH_CD"                    javaType="EZDCStringItem"/>
        <result property="prePmtChkNum"              column="PRE_PMT_CHK_NUM"                   javaType="EZDCStringItem"/>
        <result property="carrSvcLvlDescTxt"         column="CARR_SVC_LVL_DESC_TXT"             javaType="EZDCStringItem"/>
        <result property="prcContrNum"               column="PRC_CONTR_NUM"                     javaType="EZDCStringItem"/>
        <result property="prcContrNm"                column="PRC_CONTR_NM"                      javaType="EZDCStringItem"/>
        <result property="flPrcListCd"               column="FL_PRC_LIST_CD"                    javaType="EZDCStringItem"/>
        <result property="flPrcListNm"               column="FL_PRC_LIST_NM"                    javaType="EZDCStringItem"/>
        <result property="csmpContrNum"              column="CSMP_CONTR_NUM"                    javaType="EZDCStringItem"/>
        <result property="dlrRefNum"                 column="DLR_REF_NUM"                       javaType="EZDCStringItem"/>
        <result property="negoDealAmt"               column="NEGO_DEAL_AMT"                     javaType="EZDCBigDecimalItem"/>
        <result property="prePmtAmt"                 column="PRE_PMT_AMT"                       javaType="EZDCBigDecimalItem"/>
        <result property="loanPerDaysAot"            column="LOAN_PER_DAYS_AOT"                 javaType="EZDCBigDecimalItem"/>
        <result property="custIssPoDt"               column="CUST_ISS_PO_DT"                    javaType="EZDCStringItem"/>
        <result property="ordSrcImptDt"              column="ORD_SRC_IMPT_TS_"                  javaType="EZDCStringItem"/>
        <result property="ordSrcImptTsDplyTxt"       column="ORD_SRC_IMPT_TS_DPLY_TXT"          javaType="EZDCStringItem"/>
        <result property="custIssPoDt"               column="CUST_ISS_PO_DT"                    javaType="EZDCStringItem"/>
        <result property="ordSrcImptDt"              column="ORD_SRC_IMPT_DT"                   javaType="EZDCStringItem"/>
        <result property="addRddDt"                  column="ADD_RDD_DT"                        javaType="EZDCStringItem"/>
        <result property="ordSgnDt"                  column="ORD_SGN_DT"                        javaType="EZDCStringItem"/>
        <result property="lineBizTpCd"               column="LINE_BIZ_TP_CD"                    javaType="EZDCStringItem"/>
        <result property="xxScrItem54Txt_CB"         column="COA_BR_ITEM"                       javaType="EZDCStringItem"/>
        <result property="xxScrItem54Txt_CE"         column="COA_EXTN_ITEM"                     javaType="EZDCStringItem"/>
        <result property="leasePrchOptCd"            column="LEASE_PRCH_OPT_CD"                 javaType="EZDCStringItem"/>
        <result property="leaseTermMthAot"           column="LEASE_TERM_MTH_AOT"                javaType="EZDCBigDecimalItem"/>
        <result property="leasePmtFreqCd"            column="LEASE_PMT_FREQ_CD"                 javaType="EZDCStringItem"/>
        <result property="leaseTotPmtAmt"            column="LEASE_TOT_PMT_AMT"                 javaType="EZDCBigDecimalItem"/>
        <result property="prePmtTpCd"                column="PRE_PMT_TP_CD"                     javaType="EZDCStringItem"/>
        <result property="shpgSvcLvlCd"              column="ADD_SHPG_SVC_LVL_CD"               javaType="EZDCStringItem"/>
        <result property="spclHdlgTpCd"              column="SPCL_HDLG_TP_CD"                   javaType="EZDCStringItem"/>
        <result property="ordLogTpCd"                column="ORD_LOG_TP_CD"                     javaType="EZDCStringItem"/>
        <result property="ordLogTpDescTxt_NM"        column="ORD_LOG_TP_DESC_TXT"               javaType="EZDCStringItem"/>
        <result property="prcCalcDt"                 column="PRC_CALC_DT"                       javaType="EZDCStringItem"/>
        <result property="prcBaseDt"                 column="PRC_BASE_DT"                       javaType="EZDCStringItem"/>
        <result property="cratTsDplyTxt"             column="CRAT_TS_DPLY_TXT"                  javaType="EZDCStringItem"/>
        <result property="cratUsrNm"                 column="CRAT_USR_NM"                       javaType="EZDCStringItem"/>
        <result property="updTsDplyTxt"              column="UPD_TS_DPLY_TXT"                   javaType="EZDCStringItem"/>
        <result property="updUsrNm"                  column="UPD_USR_NM"                        javaType="EZDCStringItem"/>
        <result property="ordBookTsDplyTxt"          column="ORD_BOOK_TS_DPLY_TXT"              javaType="EZDCStringItem"/>
        <result property="dropShipAvalFlg"           column="DROP_SHIP_AVAL_FLG"                javaType="EZDCStringItem"/> <!-- 2016/03/25 S21_NA#4693 Add -->
        <!-- 2016/05/18 S21_NA#6719 Add Start -->
        <result property="shipToAddlLocNm"           column="ADD_SHIP_TO_ADDL_LOC_NM"           javaType="EZDCStringItem"/>
        <result property="shipToFirstLineAddr"       column="ADD_SHIP_TO_FIRST_LINE_ADDR"       javaType="EZDCStringItem"/>
        <result property="shipToScdLineAddr"         column="ADD_SHIP_TO_SCD_LINE_ADDR"         javaType="EZDCStringItem"/>
        <result property="shipToThirdLineAddr"       column="ADD_SHIP_TO_THIRD_LINE_ADDR"       javaType="EZDCStringItem"/>
        <result property="shipToFrthLineAddr"        column="ADD_SHIP_TO_FRTH_LINE_ADDR"        javaType="EZDCStringItem"/>
        <result property="shipToCtyAddr"             column="ADD_SHIP_TO_CTY_ADDR"              javaType="EZDCStringItem"/>
        <result property="shipToStCd"                column="ADD_SHIP_TO_ST_CD"                 javaType="EZDCStringItem"/>
        <result property="shipToProvNm"              column="ADD_SHIP_TO_PROV_NM"               javaType="EZDCStringItem"/>
        <result property="shipToCntyNm"              column="ADD_SHIP_TO_CNTY_NM"               javaType="EZDCStringItem"/>
        <result property="shipToPostCd"              column="ADD_SHIP_TO_POST_CD"               javaType="EZDCStringItem"/>
        <result property="shipToCtryCd"              column="ADD_SHIP_TO_CTRY_CD"               javaType="EZDCStringItem"/>
        <result property="shipToFirstRefCmntTxt"     column="ADD_SHIP_TO_01_REF_CMNT_TXT"       javaType="EZDCStringItem"/>
        <result property="shipToScdRefCmntTxt"       column="ADD_SHIP_TO_02_REF_CMNT_TXT"       javaType="EZDCStringItem"/>
        <!-- 2016/05/18 S21_NA#6719 Add End -->
        <!-- 2018/01/26 S21_NA#23140 Add Start -->
        <result property="firstLineAddr"             column="ADD_SHIP_TO_FIRST_LINE_ADDR"       javaType="EZDCStringItem"/>
        <result property="scdLineAddr"               column="ADD_SHIP_TO_SCD_LINE_ADDR"         javaType="EZDCStringItem"/>
        <result property="thirdLineAddr"             column="ADD_SHIP_TO_THIRD_LINE_ADDR"       javaType="EZDCStringItem"/>
        <result property="frthLineAddr"              column="ADD_SHIP_TO_FRTH_LINE_ADDR"        javaType="EZDCStringItem"/>
        <result property="ctyAddr"                   column="ADD_SHIP_TO_CTY_ADDR"              javaType="EZDCStringItem"/>
        <result property="stCd"                      column="ADD_SHIP_TO_ST_CD"                 javaType="EZDCStringItem"/>
        <!-- 2018/03/13 S21_NA#24048 Mod Start -->
        <!-- <result property="postCd"                    column="ADD_SHIP_TO_PROV_NM"               javaType="EZDCStringItem"/> -->
        <result property="postCd"                    column="ADD_SHIP_TO_POST_CD"               javaType="EZDCStringItem"/>
        <!-- 2018/03/13 S21_NA#24048 Mod End -->
        <!-- 2018/01/26 S21_NA#23140 Add End -->
        <result property="dsCrCardPk"                column="DS_CR_CARD_PK"                     javaType="EZDCBigDecimalItem"/><!-- 2016/06/02 S21_NA#9325 Add -->
        <result property="addOrigCpoOrdNum"          column="ADD_ORIG_CPO_ORD_NUM"              javaType="EZDCStringItem"/> <!-- 2016/06/28 S21_NA#10893 Add -->
        <result property="reBillPairCpoOrdNum"       column="RE_BILL_PAIR_CPO_ORD_NUM"          javaType="EZDCStringItem"/> <!-- 2016/06/28 S21_NA#10893 Add -->
        <result property="crRebilRsnCatgCd"          column="CR_REBIL_RSN_CATG_CD"              javaType="EZDCStringItem"/> <!-- 2016/06/28 S21_NA#10893 Add -->
        <result property="ordHdrStsCd"               column="ORD_HDR_STS_CD"                    javaType="EZDCStringItem"/> <!-- 2016/07/06 S21_NA#10321 Add -->
        <result property="dclnSvcCd"                 column="DCLN_SVC_CD"                       javaType="EZDCStringItem"/> <!-- 2016/08/09 S21_NA#8388 Add -->
        <result property="dsCpoPrcInd"               column="DS_CPO_PRC_IND"                    javaType="EZDCStringItem"/> <!-- 2016/09/05 S21_NA#6523 Add -->
        <result property="ordBookReqUsrNm"           column="ORD_BOOK_REQ_USR_NM"               javaType="EZDCStringItem"/> <!-- 2016/09/05 S21_NA#6100 Add -->
        <result property="ordBookReqTsDplyTxt"       column="ORD_BOOK_REQ_TS_DPLY_TXT"          javaType="EZDCStringItem"/> <!-- 2016/09/05 S21_NA#6100 Add -->
        <result property="ordSrcImptTs"              column="ORD_SRC_IMPT_TS"                   javaType="EZDCStringItem"/> <!-- 2016/10/12 S21_NA#11964 Add -->
        <result property="dsImptOrdPk"               column="DS_IMPT_ORD_PK"                    javaType="EZDCBigDecimalItem"/> <!-- 2017/03/23 S21_NA#18103 Add -->
        <result property="sellToFirstRefCmntTxt"     column="SELL_TO_FIRST_REF_CMNT_TXT"        javaType="EZDCStringItem"/> <!-- 2017/12/12 S21_NA#20164 Add -->
        <!-- 2018/05/11 S21_NA#22139 Add Start -->
        <result property="rmaRptTpCd_RA"             column="RMA_RPT_TP_CD"                     javaType="EZDCStringItem"/>
        <result property="rtrnAuthCmntTxt_RA"        column="RTRN_AUTH_CMNT_TXT"                javaType="EZDCStringItem"/>
        <!-- 2018/05/11 S21_NA#22139 Add End -->
        <!-- 2018/08/06 S21_NA#27642 Add Start -->
        <result property="dsCpoUpdUsrId"             column="DS_CPO_UPD_USR_ID"                 javaType="EZDCStringItem"/>
        <!-- 2018/08/06 S21_NA#27642 Add End -->
        <!-- START 2023/10/13 [QC#61077, ADD] -->
        <result property="ordBookFlg"                column="ORD_BOOK_FLG"                      javaType="EZDCStringItem"/>
        <!-- END   2023/10/13 [QC#61077, ADD] -->
    </resultMap>

    <statement id="getConfigInfo" parameterClass="Map" resultMap="result.getConfigInfo">
        SELECT
              DCC.CPO_ORD_NUM                                        CPO_ORD_NUM
            , DCC.DS_ORD_POSN_NUM                                    DS_ORD_POSN_NUM
            , DCC.CONFIG_TP_CD                                       CONFIG_TP_CD
            , DCC.MDL_ID                                             MDL_ID
            , DCC.T_MDL_NM                                           MDL_NM
            , DCC.SHIP_TO_CUST_ACCT_CD                               SHIP_TO_CUST_ACCT_CD
            , DCC.SHIP_TO_CUST_ACCT_NM                               SHIP_TO_CUST_ACCT_NM
            , DCC.SHIP_TO_CUST_LOC_CD                                SHIP_TO_CUST_CD
            , DCC.SHIP_TO_CUST_LOC_ADDR                              SHIP_TO_CUST_LOC_ADDR
            , DCC.BILL_TO_CUST_ACCT_CD                               BILL_TO_CUST_ACCT_CD
            , DCC.BILL_TO_CUST_ACCT_NM                               BILL_TO_CUST_ACCT_NM
            , DCC.BILL_TO_CUST_LOC_CD                                BILL_TO_CUST_CD
            , DCC.BILL_TO_CUST_LOC_ADDR                              BILL_TO_CUST_LOC_ADDR
            , DCC.SELL_TO_CUST_CD                                    SELL_TO_CUST_CD
            , DCC.SOLD_TO_CUST_LOC_CD                                SOLD_TO_CUST_LOC_CD
            , DCC.SOLD_TO_CUST_ACCT_NM                               SOLD_TO_CUST_ACCT_NM
            , DCC.SOLD_TO_CUST_LOC_ADDR                              SOLD_TO_CUST_LOC_ADDR
            , DCC.MDL_DESC_TXT                                       MDL_DESC_TXT
            , DCC.MDL_GRP_DESC_TXT                                   MDL_GRP_DESC_TXT
            , DCC.SVC_SEG_DESC_TXT                                   SVC_SEG_DESC_TXT
            , DCC.SVC_ISTL_REQ_FLG                                   SVC_ISTL_REQ_FLG
            , DCC.SITE_SRVY_REQ_FLG                                  SITE_SRVY_REQ_FLG
            , DCC.SLS_CR_SPL_FLG                                     SLS_CR_SPL_FLG
            , DCC.DS_CPO_CONFIG_HLD_FLG                              DS_CPO_CONFIG_HLD_FLG
            , DCC.CRAT_USR_NM                                        CRAT_USR_NM
            , DCC.CRAT_TS_DPLY_TXT                                   CRAT_TS_DPLY_TXT
            , DCC.UPD_USR_NM                                         UPD_USR_NM
            , DCC.UPD_TS_DPLY_TXT                                    UPD_TS_DPLY_TXT
            , DCC.CONFIG_TOT_DEAL_NET_AMT                            CONFIG_TOT_DEAL_NET_AMT
            , DCC.CONFIG_TOT_DEAL_CHRG_AMT                           CONFIG_TOT_DEAL_CHRG_AMT
            , DCC.CONFIG_TOT_DEAL_TAX_AMT                            CONFIG_TOT_DEAL_TAX_AMT
            , DCC.CONFIG_SUB_TOT_DEAL_AMT                            CONFIG_SUB_TOT_DEAL_AMT
            , DCC.DROP_SHIP_FLG                                      DROP_SHIP_FLG
            <!-- Line Config Tab ** Config Level ** Hidden -->
            , DCC.SHIP_TO_LOC_NM                                     SHIP_TO_LOC_NM
            , DCC.SHIP_TO_ADDL_LOC_NM                                SHIP_TO_ADDL_LOC_NM
            , DCC.SHIP_TO_FIRST_LINE_ADDR                            SHIP_TO_FIRST_LINE_ADDR
            , DCC.SHIP_TO_SCD_LINE_ADDR                              SHIP_TO_SCD_LINE_ADDR
            , DCC.SHIP_TO_THIRD_LINE_ADDR                            SHIP_TO_THIRD_LINE_ADDR
            , DCC.SHIP_TO_FRTH_LINE_ADDR                             SHIP_TO_FRTH_LINE_ADDR
            , DCC.SHIP_TO_FIRST_REF_CMNT_TXT                         SHIP_TO_FIRST_REF_CMNT_TXT
            , DCC.SHIP_TO_SCD_REF_CMNT_TXT                           SHIP_TO_SCD_REF_CMNT_TXT
            , DCC.SHIP_TO_POST_CD                                    SHIP_TO_POST_CD
            , DCC.SHIP_TO_CTY_ADDR                                   SHIP_TO_CTY_ADDR
            , DCC.SHIP_TO_ST_CD                                      SHIP_TO_ST_CD
            , DCC.SHIP_TO_PROV_NM                                    SHIP_TO_PROV_NM
            , DCC.SHIP_TO_CTRY_CD                                    SHIP_TO_CTRY_CD
            , DCC.SHIP_TO_CNTY_NM                                    SHIP_TO_CNTY_NM
            , DCC.DS_CPO_CONFIG_PK                                   DS_CPO_CONFIG_PK
            , DECODE(DCC.PICK_SVC_CONFIG_MSTR_PK, null, DCC.SVC_CONFIG_MSTR_PK, DCC.PICK_SVC_CONFIG_MSTR_PK)    SVC_CONFIG_MSTR_PK
            , DCC.PICK_SVC_CONFIG_MSTR_PK                            PICK_SVC_CONFIG_MSTR_PK
            <!-- 2016/02/09 S21_NA#3398 Add Start -->
            , CASE
                WHEN SCM.SVC_CONFIG_MSTR_PK IS NOT NULL THEN 'Y'
                ELSE 'N' END AS CTRL_INPUT
            <!-- 2016/02/09 S21_NA#3398 Add End -->
            , DCC.CONFIG_CATG_CD <!-- For Performance QC#8166 Add -->
            <!-- 2016/08/09 S21_NA#8388 Add -->
            , (CASE WHEN DCC.DCLN_SVC_CD = '1' THEN 'Y' ELSE ''  <!-- 2016/09/27 S21_NA#12598 Mod -->
                END)                                                 DCLN_SVC_CD 
            <!-- 2018/11/16 S21_NA#27299 Add -->
            , DCC.ORIG_SHIP_TO_CUST_LOC_CD                           ORIG_SHIP_TO_CUST_CD
            , DCC.ORIG_SHIP_TO_LOC_NM                                ORIG_SHIP_TO_LOC_NM
            , DCC.ORIG_SHIP_TO_ADDL_LOC_NM                           ORIG_SHIP_TO_ADDL_LOC_NM
            , DCC.ORIG_SHIP_FIRST_LINE_ADDR                          ORIG_SHIP_FIRST_LINE_ADDR
            , DCC.ORIG_SHIP_SCD_LINE_ADDR                            ORIG_SHIP_SCD_LINE_ADDR
            , DCC.ORIG_SHIP_THIRD_LINE_ADDR                          ORIG_SHIP_THIRD_LINE_ADDR
            , DCC.ORIG_SHIP_FRTH_LINE_ADDR                           ORIG_SHIP_FRTH_LINE_ADDR
            , DCC.ORIG_SHIP_TO_POST_CD                               ORIG_SHIP_TO_POST_CD
            , DCC.ORIG_SHIP_TO_CTY_ADDR                              ORIG_SHIP_TO_CTY_ADDR
            , DCC.ORIG_SHIP_TO_ST_CD                                 ORIG_SHIP_TO_ST_CD
            , DCC.ORIG_SHIP_TO_CTRY_CD                               ORIG_SHIP_TO_CTRY_CD
            , DCC.ORIG_SHIP_TO_CNTY_NM                               ORIG_SHIP_TO_CNTY_NM
            <!-- 2018/11/16 S21_NA#27299 End -->
        FROM
              DS_CPO_CONFIG_V DCC
            , SVC_CONFIG_MSTR SCM
        WHERE
                DCC.GLBL_CMPY_CD             = #glblCmpyCd#
            AND DCC.CPO_ORD_NUM              = #cpoOrdNum#
            <!-- AND DCC.CONFIG_CATG_CD           = #configCatgCd# For Performance QC#8166 Del -->
            AND DCC.EZCANCELFLAG             = '0'

            <!-- 2016/02/10 S21_NA#3398 Add Start -->
            AND DCC.GLBL_CMPY_CD             = SCM.GLBL_CMPY_CD(+)
            <!-- 2016/06/09 S21_NA#9326 Mod Start -->
            AND DECODE(DCC.PICK_SVC_CONFIG_MSTR_PK, null, DCC.SVC_CONFIG_MSTR_PK, DCC.PICK_SVC_CONFIG_MSTR_PK) = SCM.SVC_CONFIG_MSTR_PK(+)
            <!-- 2016/06/09 S21_NA#9326 Mod End -->
            AND SCM.EZCANCELFLAG(+)          = '0'
            <!-- 2016/02/10 S21_NA#3398 Add End -->

            <!-- 2017/08/07 Sol#249 Add Start -->
            <isEqual property="xxResFltrFlg" compareValue="Y">

                <isEqual property="xxDplyTab" compareValue="Line_Config">
                    AND DCC.CONFIG_CATG_CD = #xxConfigCatgCd_Out#
                    <isEqual property="xxConfig_LineConfigFlg" compareValue="Y">
                        <isNotNull property = "dsOrdPosnNum_FL">
                            AND DCC.DS_ORD_POSN_NUM = #dsOrdPosnNum_FL#
                        </isNotNull>
                        <isNotNull property = "xxConfigIdSrchTxt_FL">
                            AND (DCC.SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FL#
                                OR DCC.PICK_SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FL#
                            )
                        </isNotNull>
                        <isNotNull property = "xxMdlSrchTxt_FL">
                            AND DCC.T_MDL_NM IN
                            <iterate property="xxMdlSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                                #elem[]#
                            </iterate>
                        </isNotNull>
                        <isNotNull property = "xxBillToAcctNmSrchTxt_FL">
                            AND DCC.BILL_TO_CUST_ACCT_NM = #xxBillToAcctNmSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxBillToAcctCdSrchTxt_FL">
                            AND DCC.BILL_TO_CUST_ACCT_CD = #xxBillToAcctCdSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxBillToLocCdSrchTxt_FL">
                            AND DCC.BILL_TO_CUST_LOC_CD = #xxBillToLocCdSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxShipToAcctNmSrchTxt_FL">
                            AND DCC.SHIP_TO_CUST_ACCT_NM = #xxShipToAcctNmSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxShipToAcctCdSrchTxt_FL">
                            AND DCC.SHIP_TO_CUST_ACCT_CD = #xxShipToAcctCdSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxShipToLocCdSrchTxt_FL">
                            AND DCC.SHIP_TO_CUST_LOC_CD = #xxShipToLocCdSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxSoldToAcctNmSrchTxt_FL">
                            AND DCC.SOLD_TO_CUST_ACCT_NM = #xxSoldToAcctNmSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxSoldToAcctCdSrchTxt_FL">
                            AND DCC.SELL_TO_CUST_CD = #xxSoldToAcctCdSrchTxt_FL#
                        </isNotNull>
                        <isNotNull property = "xxSoldToLocCdSrchTxt_FL">
                            AND DCC.SOLD_TO_CUST_LOC_CD = #xxSoldToLocCdSrchTxt_FL#
                        </isNotNull>
                    </isEqual>

                    <isEqual property="xxLine_LineConfigFlg" compareValue="Y">
                        AND EXISTS (
                            SELECT 1
                            FROM
                                CPO_DTL_V DCD
                            WHERE
                                DCD.GLBL_CMPY_CD                = DCC.GLBL_CMPY_CD
                                AND DCD.DS_CPO_CONFIG_PK        = DCC.DS_CPO_CONFIG_PK
                                AND DCD.EZCANCELFLAG            = '0'

                                <isNotNull property = "xxLineNum_FL">
                                    AND DCD.DPLY_LINE_NUM = #xxLineNum_FL#
                                </isNotNull>
                                <isNotNull property = "xxLineStsSrchTxt_FL">
                                    AND (SELECT
                                            ORD_LINE_STS_NM
                                         FROM
                                            (SELECT
                                                 DOS.ORD_LINE_STS_NM
                                             FROM
                                                 DS_ORD_STS_V DOS
                                             WHERE
                                                     DOS.GLBL_CMPY_CD         = DCD.GLBL_CMPY_CD
                                                 AND DOS.CPO_ORD_NUM          = DCD.CPO_ORD_NUM
                                                 AND DOS.CPO_DTL_LINE_NUM     = DCD.CPO_DTL_LINE_NUM
                                                 AND DOS.CPO_DTL_LINE_SUB_NUM = DCD.CPO_DTL_LINE_SUB_NUM
                                                 AND DOS.EZCANCELFLAG         = '0'
                                             ORDER BY
                                                 DOS.SHPG_STS_CD NULLS FIRST)
                                         WHERE
                                             ROWNUM = 1
                                        ) IN
                                    <iterate property="xxLineStsSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                                        #elem[]#
                                    </iterate>
                                </isNotNull>
                                AND EXISTS (
                                    SELECT 1
                                    FROM (
                                        SELECT
                                             ORD_LINE_STS_NM
                                        FROM
                                            (SELECT
                                                 DOS.ORD_LINE_STS_NM
                                             FROM
                                                 DS_ORD_STS_V DOS
                                             WHERE
                                                     DOS.GLBL_CMPY_CD         = DCD.GLBL_CMPY_CD
                                                 AND DOS.CPO_ORD_NUM          = DCD.CPO_ORD_NUM
                                                 AND DOS.CPO_DTL_LINE_NUM     = DCD.CPO_DTL_LINE_NUM
                                                 AND DOS.CPO_DTL_LINE_SUB_NUM = DCD.CPO_DTL_LINE_SUB_NUM
                                                 AND DOS.EZCANCELFLAG         = '0'
                                             ORDER BY
                                                 DOS.SHPG_STS_CD NULLS FIRST)
                                        WHERE
                                            ROWNUM = 1
                                    ) A
                                    WHERE
                                        1 = 1
                                        <isEqual property="xxShowInclCloLineFlg_FL" compareValue="N">
                                            AND A.ORD_LINE_STS_NM <![CDATA[<>]]> 'CLOSED'
                                        </isEqual>
                                        <isEqual property="xxShowInclCancLineFlg_FL" compareValue="N">
                                            AND A.ORD_LINE_STS_NM <![CDATA[<>]]> 'CANCELLED'
                                        </isEqual>
                                        OR A.ORD_LINE_STS_NM IS NULL
                                )
                                <isNotNull property = "xxOrdItemSrchTxt_FL">
                                    AND (DCD.MDSE_CD IN
                                    <iterate property="xxOrdItemSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                                        #elem[]#
                                    </iterate>
                                        OR DCD.ORIG_MDSE_CD IN
                                    <iterate property="xxOrdItemSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                                        #elem[]#
                                    </iterate>
                                    )
                                </isNotNull>
                                <isNotNull property = "xxRtlWhSrchTxt_FL">
                                    AND DCD.RTL_WH_NM = #xxRtlWhSrchTxt_FL#
                                </isNotNull>
                                <isNotNull property = "xxRtlSwhSrchTxt_FL">
                                    AND DCD.RTL_SWH_NM IN
                                    <iterate property="xxRtlSwhSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                                        #elem[]#
                                    </iterate>
                                </isNotNull>
                                <isNotNull property = "xxCpoSrcTpSrchTxt_FL">
                                    AND DCD.ORD_LINE_SRC_CD = (
                                                          SELECT SRC.ORD_LINE_SRC_CD
                                                          FROM ORD_LINE_SRC SRC
                                                          WHERE SRC.GLBL_CMPY_CD = #glblCmpyCd#
                                                            AND SRC.ORD_LINE_SRC_NM  = #xxCpoSrcTpSrchTxt_FL#
                                                         )
                                </isNotNull>
                                <isNotNull property = "xxOrdSrcRefNumSrchTxt_FL">
                                    AND DCD.LINE_SRC_REF_NUM = #xxOrdSrcRefNumSrchTxt_FL#
                                </isNotNull>
                                <isNotNull property = "xxSbstItemSrchTxt_FL">
                                    AND DCD.SBST_MDSE_CD = #xxSbstItemSrchTxt_FL#
                                </isNotNull>
                                <isNotNull property = "xxSerNumSrchTxt_FL">
                                    AND DCD.SER_NUM = #xxSerNumSrchTxt_FL#
                                </isNotNull>
                        )
                    </isEqual>
                </isEqual>

                <isEqual property="xxDplyTab" compareValue="RMA">
                    AND DCC.CONFIG_CATG_CD = #xxConfigCatgCd_In#
                    <isEqual property="xxConfig_RmaFlg" compareValue="Y">
                        <isNotNull property = "dsOrdPosnNum_FR">
                            AND DCC.DS_ORD_POSN_NUM = #dsOrdPosnNum_FR#
                        </isNotNull>
                        <isNotNull property = "xxConfigIdSrchTxt_FR">
                            AND (DCC.SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FR#
                                OR DCC.PICK_SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FR#
                            )
                        </isNotNull>
                        <isNotNull property = "xxMdlSrchTxt_FR">
                            AND DCC.T_MDL_NM IN
                            <iterate property="xxMdlSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                                #elem[]#
                            </iterate>
                        </isNotNull>
                        <isNotNull property = "xxBillToAcctNmSrchTxt_FR">
                            AND DCC.BILL_TO_CUST_ACCT_NM = #xxBillToAcctNmSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxBillToAcctCdSrchTxt_FR">
                            AND DCC.BILL_TO_CUST_ACCT_CD = #xxBillToAcctCdSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxBillToLocCdSrchTxt_FR">
                            AND DCC.BILL_TO_CUST_LOC_CD = #xxBillToLocCdSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxShipToAcctNmSrchTxt_FR">
                            AND DCC.SHIP_TO_CUST_ACCT_NM = #xxShipToAcctNmSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxShipToAcctCdSrchTxt_FR">
                            AND DCC.SHIP_TO_CUST_ACCT_CD = #xxShipToAcctCdSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxShipToLocCdSrchTxt_FR">
                            AND DCC.SHIP_TO_CUST_LOC_CD = #xxShipToLocCdSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxSoldToAcctNmSrchTxt_FR">
                            AND DCC.SOLD_TO_CUST_ACCT_NM = #xxSoldToAcctNmSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxSoldToAcctCdSrchTxt_FR">
                            AND DCC.SELL_TO_CUST_CD = #xxSoldToAcctCdSrchTxt_FR#
                        </isNotNull>
                        <isNotNull property = "xxSoldToLocCdSrchTxt_FR">
                            AND DCC.SOLD_TO_CUST_LOC_CD = #xxSoldToLocCdSrchTxt_FR#
                        </isNotNull>
                    </isEqual>

                    <isEqual property="xxLine_RmaFlg" compareValue="Y">
                        AND EXISTS (
                            SELECT 1
                            FROM
                                  DS_CPO_RTRN_DTL_V   RD
                                , DS_ORD_STS_V        DOS
                            WHERE
                                RD.GLBL_CMPY_CD                     = DCC.GLBL_CMPY_CD
                                AND RD.DS_CPO_CONFIG_PK             = DCC.DS_CPO_CONFIG_PK
                                AND RD.EZCANCELFLAG                 = '0'
                                
                                AND RD.GLBL_CMPY_CD                 = DOS.GLBL_CMPY_CD
                                AND RD.CPO_ORD_NUM                  = DOS.CPO_ORD_NUM
                                AND RD.DS_CPO_RTRN_LINE_NUM         = DOS.DS_CPO_RTRN_LINE_NUM
                                AND RD.DS_CPO_RTRN_LINE_SUB_NUM     = DOS.DS_CPO_RTRN_LINE_SUB_NUM
                                AND DOS.EZCANCELFLAG                = '0'

                                <isNotNull property = "xxLineNum_FR">
                                    AND RD.DPLY_LINE_NUM = #xxLineNum_FR#
                                </isNotNull>
                                <isNotNull property = "xxLineStsSrchTxt_FR">
                                    AND DOS.ORD_LINE_STS_NM IN
                                    <iterate property="xxLineStsSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                                        #elem[]#
                                    </iterate>
                                </isNotNull>
                                AND (
                                     1 = 1
                                     <isEqual property="xxShowInclCloLineFlg_FR" compareValue="N">
                                         AND DOS.ORD_LINE_STS_NM <![CDATA[<>]]> 'CLOSED'
                                     </isEqual>
                                     <isEqual property="xxShowInclCancLineFlg_FR" compareValue="N">
                                         AND DOS.ORD_LINE_STS_NM <![CDATA[<>]]> 'CANCELLED'
                                     </isEqual>
                                     OR DOS.ORD_LINE_STS_NM IS NULL
                                )
                                <isNotNull property = "xxOrdItemSrchTxt_FR">
                                    AND RD.MDSE_CD IN
                                    <iterate property="xxOrdItemSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                                        #elem[]#
                                    </iterate>
                                </isNotNull>
                                <isNotNull property = "xxRtrnRsnSrchTxt_FR">
                                    AND RD.RTRN_RSN_CD = (
                                                          SELECT RSN.RTRN_RSN_CD
                                                          FROM RTRN_RSN RSN
                                                          WHERE RSN.GLBL_CMPY_CD = #glblCmpyCd#
                                                            AND RSN.RTRN_RSN_NM  = #xxRtrnRsnSrchTxt_FR#
                                                         )
                                </isNotNull>
                                <isNotNull property = "xxRtlWhSrchTxt_FR">
                                    AND RD.RTL_WH_NM = #xxRtlWhSrchTxt_FR#
                                </isNotNull>
                                <isNotNull property = "xxRtlSwhSrchTxt_FR">
                                    AND RD.RTL_SWH_NM IN
                                    <iterate property="xxRtlSwhSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                                        #elem[]#
                                    </iterate>
                                </isNotNull>
                                <isNotNull property = "xxOrdSrcRefNumSrchTxt_FR">
                                    AND RD.LINE_SRC_REF_NUM = #xxOrdSrcRefNumSrchTxt_FR#
                                </isNotNull>
                                <isNotNull property = "xxSerNumSrchTxt_FR">
                                    AND RD.SER_NUM = #xxSerNumSrchTxt_FR#
                                </isNotNull>
                        )
                    </isEqual>
                </isEqual>
            </isEqual>
            <!-- 2017/08/07 Sol#249 Add End -->

        ORDER BY
              <!-- DCC.CONFIG_CATG_CD         ASC For Performance QC#8166 Del -->
              TO_NUMBER(DCC.DS_ORD_POSN_NUM)  ASC
    </statement>

    <resultMap id="result.getConfigInfo" class="NWAL1500_JSMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod --><!-- 2018/01/29 S21_NA#19808 Mod -->
        <!-- Line Config Tab ** Config Level -->
        <result property="dsOrdPosnNum_JC"          column="DS_ORD_POSN_NUM"             javaType="EZDCStringItem"/>
        <result property="configTpCd_JC"            column="CONFIG_TP_CD"                javaType="EZDCStringItem"/>
        <result property="svcConfigMstrPk_JC"       column="SVC_CONFIG_MSTR_PK"          javaType="EZDCBigDecimalItem"/>
        <result property="mdlId_JC"                 column="MDL_ID"                      javaType="EZDCBigDecimalItem"/>
        <result property="mdlNm_JC"                 column="MDL_NM"                      javaType="EZDCStringItem"/>
        <result property="shipToCustAcctCd_JC"      column="SHIP_TO_CUST_ACCT_CD"        javaType="EZDCStringItem"/>
        <result property="shipToCustAcctNm_JC"      column="SHIP_TO_CUST_ACCT_NM"        javaType="EZDCStringItem"/>
        <result property="shipToCustCd_JC"          column="SHIP_TO_CUST_CD"             javaType="EZDCStringItem"/>
        <result property="shipToCustLocAddr_JC"     column="SHIP_TO_CUST_LOC_ADDR"       javaType="EZDCStringItem"/>
        <result property="billToCustAcctCd_JC"      column="BILL_TO_CUST_ACCT_CD"        javaType="EZDCStringItem"/>
        <result property="billToCustAcctNm_JC"      column="BILL_TO_CUST_ACCT_NM"        javaType="EZDCStringItem"/>
        <result property="billToCustCd_JC"          column="BILL_TO_CUST_CD"             javaType="EZDCStringItem"/>
        <result property="billToCustLocAddr_JC"     column="BILL_TO_CUST_LOC_ADDR"       javaType="EZDCStringItem"/>
        <result property="sellToCustCd_JC"          column="SELL_TO_CUST_CD"             javaType="EZDCStringItem"/>
        <result property="soldToCustLocCd_JC"       column="SOLD_TO_CUST_LOC_CD"         javaType="EZDCStringItem"/>
        <result property="soldToCustAcctNm_JC"      column="SOLD_TO_CUST_ACCT_NM"        javaType="EZDCStringItem"/>
        <result property="soldToCustLocAddr_JC"     column="SOLD_TO_CUST_LOC_ADDR"       javaType="EZDCStringItem"/>
        <result property="mdlDescTxt_JC"            column="MDL_DESC_TXT"                javaType="EZDCStringItem"/>
        <result property="mdlGrpDescTxt_JC"         column="MDL_GRP_DESC_TXT"            javaType="EZDCStringItem"/>
        <result property="svcSegDescTxt_JC"         column="SVC_SEG_DESC_TXT"            javaType="EZDCStringItem"/>
        <result property="svcIstlReqFlg_JC"         column="SVC_ISTL_REQ_FLG"            javaType="EZDCStringItem"/>
        <result property="siteSrvyReqFlg_JC"        column="SITE_SRVY_REQ_FLG"           javaType="EZDCStringItem"/>
        <result property="slsCrSplFlg_JC"           column="SLS_CR_SPL_FLG"              javaType="EZDCStringItem"/>
        <result property="dsCpoConfigHldFlg_JC"     column="DS_CPO_CONFIG_HLD_FLG"       javaType="EZDCStringItem"/>
        <result property="cratUsrNm_JC"             column="CRAT_USR_NM"                 javaType="EZDCStringItem"/>
        <result property="cratTsDplyTxt_JC"         column="CRAT_TS_DPLY_TXT"            javaType="EZDCStringItem"/>
        <result property="updUsrNm_JC"              column="UPD_USR_NM"                  javaType="EZDCStringItem"/>
        <result property="updTsDplyTxt_JC"          column="UPD_TS_DPLY_TXT"             javaType="EZDCStringItem"/>
        <result property="configTotDealNetAmt_JC"   column="CONFIG_TOT_DEAL_NET_AMT"     javaType="EZDCBigDecimalItem"/>
        <result property="configTotDealChrgAmt_JC"  column="CONFIG_TOT_DEAL_CHRG_AMT"    javaType="EZDCBigDecimalItem"/>
        <result property="configTotDealTaxAmt_JC"   column="CONFIG_TOT_DEAL_TAX_AMT"     javaType="EZDCBigDecimalItem"/>
        <result property="configSubTotDealAmt_JC"   column="CONFIG_SUB_TOT_DEAL_AMT"     javaType="EZDCBigDecimalItem"/>
        <result property="dropShipFlg_JC"           column="DROP_SHIP_FLG"               javaType="EZDCStringItem"/>
        <!-- Line Config Tab ** Config Level ** Hidden -->
        <result property="shipToLocNm_JC"           column="SHIP_TO_LOC_NM"              javaType="EZDCStringItem"/>
        <result property="shipToAddlLocNm_JC"       column="SHIP_TO_ADDL_LOC_NM"         javaType="EZDCStringItem"/>
        <result property="shipToFirstLineAddr_JC"   column="SHIP_TO_FIRST_LINE_ADDR"     javaType="EZDCStringItem"/>
        <result property="shipToScdLineAddr_JC"     column="SHIP_TO_SCD_LINE_ADDR"       javaType="EZDCStringItem"/>
        <result property="shipToThirdLineAddr_JC"   column="SHIP_TO_THIRD_LINE_ADDR"     javaType="EZDCStringItem"/>
        <result property="shipToFrthLineAddr_JC"    column="SHIP_TO_FRTH_LINE_ADDR"      javaType="EZDCStringItem"/>
        <result property="shipToFirstRefCmntTxt_JC" column="SHIP_TO_FIRST_REF_CMNT_TXT"  javaType="EZDCStringItem"/>
        <result property="shipToScdRefCmntTxt_JC"   column="SHIP_TO_SCD_REF_CMNT_TXT"    javaType="EZDCStringItem"/>
        <result property="shipToPostCd_JC"          column="SHIP_TO_POST_CD"             javaType="EZDCStringItem"/>
        <result property="shipToCtyAddr_JC"         column="SHIP_TO_CTY_ADDR"            javaType="EZDCStringItem"/>
        <result property="shipToStCd_JC"            column="SHIP_TO_ST_CD"               javaType="EZDCStringItem"/>
        <result property="shipToProvNm_JC"          column="SHIP_TO_PROV_NM"             javaType="EZDCStringItem"/>
        <result property="shipToCtryCd_JC"          column="SHIP_TO_CTRY_CD"             javaType="EZDCStringItem"/>
        <result property="shipToCntyNm_JC"          column="SHIP_TO_CNTY_NM"             javaType="EZDCStringItem"/>
        <result property="dsCpoConfigPk_JC"         column="DS_CPO_CONFIG_PK"            javaType="EZDCBigDecimalItem"/>
        <result property="pickSvcConfigMstrPk_JC"   column="PICK_SVC_CONFIG_MSTR_PK"     javaType="EZDCBigDecimalItem"/>
        <result property="xxYesNoCd_JC"             column="CTRL_INPUT"                  javaType="EZDCStringItem"/><!-- 2016/02/09 S21_NA#3398 Add -->
        <result property="configCatgCd_JC"          column="CONFIG_CATG_CD"              javaType="EZDCStringItem"/><!-- For Performance QC#8166 Add -->
        <result property="dclnSvcCd_JC"             column="DCLN_SVC_CD"                 javaType="EZDCStringItem"/><!-- 2016/08/09 S21_NA#8388 Add -->
        <!-- 2018/11/16 S21_NA#27299 Add -->
        <result property="origShipToCustCd_JC"      column="ORIG_SHIP_TO_CUST_CD"        javaType="EZDCStringItem"/>
        <result property="origShipToLocNm_JC"       column="ORIG_SHIP_TO_LOC_NM"         javaType="EZDCStringItem"/>
        <result property="origShipToAddlLocNm_JC"   column="ORIG_SHIP_TO_ADDL_LOC_NM"    javaType="EZDCStringItem"/>
        <result property="origShipFirstLineAddr_JC" column="ORIG_SHIP_FIRST_LINE_ADDR"   javaType="EZDCStringItem"/>
        <result property="origShipScdLineAddr_JC"   column="ORIG_SHIP_SCD_LINE_ADDR"     javaType="EZDCStringItem"/>
        <result property="origShipThirdLineAddr_JC" column="ORIG_SHIP_THIRD_LINE_ADDR"   javaType="EZDCStringItem"/>
        <result property="origShipFrthLineAddr_JC"  column="ORIG_SHIP_FRTH_LINE_ADDR"    javaType="EZDCStringItem"/>
        <result property="origShipToPostCd_JC"      column="ORIG_SHIP_TO_POST_CD"        javaType="EZDCStringItem"/>
        <result property="origShipToCtyAddr_JC"     column="ORIG_SHIP_TO_CTY_ADDR"       javaType="EZDCStringItem"/>
        <result property="origShipToStCd_JC"        column="ORIG_SHIP_TO_ST_CD"          javaType="EZDCStringItem"/>
        <result property="origShipToCtryCd_JC"      column="ORIG_SHIP_TO_CTRY_CD"        javaType="EZDCStringItem"/>
        <result property="origShipToCntyNm_JC"      column="ORIG_SHIP_TO_CNTY_NM"        javaType="EZDCStringItem"/>  
        <!-- 2018/11/16 S21_NA#27299 End -->  
    </resultMap>

<!-- For Performance QC#8166 Del Start
    <statement id="getConfigRtrnInfo" parameterClass="Map" resultMap="result.getConfigRtrnInfo">
        SELECT
              DCC.CPO_ORD_NUM                                        CPO_ORD_NUM
            , DCC.DS_ORD_POSN_NUM                                    DS_ORD_POSN_NUM
            , DCC.CONFIG_TP_CD                                       CONFIG_TP_CD
            , DCC.MDL_ID                                             MDL_ID
            , DCC.T_MDL_NM                                           MDL_NM
            , DCC.SHIP_TO_CUST_ACCT_CD                               SHIP_TO_CUST_ACCT_CD
            , DCC.SHIP_TO_CUST_ACCT_NM                               SHIP_TO_CUST_ACCT_NM
            , DCC.SHIP_TO_CUST_LOC_CD                                SHIP_TO_CUST_CD
            , DCC.SHIP_TO_CUST_LOC_ADDR                              SHIP_TO_CUST_LOC_ADDR
            , DCC.BILL_TO_CUST_ACCT_CD                               BILL_TO_CUST_ACCT_CD
            , DCC.BILL_TO_CUST_ACCT_NM                               BILL_TO_CUST_ACCT_NM
            , DCC.BILL_TO_CUST_LOC_CD                                BILL_TO_CUST_CD
            , DCC.BILL_TO_CUST_LOC_ADDR                              BILL_TO_CUST_LOC_ADDR
            , DCC.SELL_TO_CUST_CD                                    SELL_TO_CUST_CD
            , DCC.SOLD_TO_CUST_LOC_CD                                SOLD_TO_CUST_LOC_CD
            , DCC.SOLD_TO_CUST_ACCT_NM                               SOLD_TO_CUST_ACCT_NM
            , DCC.SOLD_TO_CUST_LOC_ADDR                              SOLD_TO_CUST_LOC_ADDR
            , DCC.MDL_DESC_TXT                                       MDL_DESC_TXT
            , DCC.MDL_GRP_DESC_TXT                                   MDL_GRP_DESC_TXT
            , DCC.SVC_SEG_DESC_TXT                                   SVC_SEG_DESC_TXT
            , DCC.SVC_ISTL_REQ_FLG                                   SVC_ISTL_REQ_FLG
            , DCC.SITE_SRVY_REQ_FLG                                  SITE_SRVY_REQ_FLG
            , DCC.SLS_CR_SPL_FLG                                     SLS_CR_SPL_FLG
            , DCC.DS_CPO_CONFIG_HLD_FLG                              DS_CPO_CONFIG_HLD_FLG
            , DCC.CRAT_USR_NM                                        CRAT_USR_NM
            , DCC.CRAT_TS_DPLY_TXT                                   CRAT_TS_DPLY_TXT
            , DCC.UPD_USR_NM                                         UPD_USR_NM
            , DCC.UPD_TS_DPLY_TXT                                    UPD_TS_DPLY_TXT
            , DCC.CONFIG_TOT_DEAL_NET_AMT                            CONFIG_TOT_DEAL_NET_AMT
            , DCC.CONFIG_TOT_DEAL_CHRG_AMT                           CONFIG_TOT_DEAL_CHRG_AMT
            , DCC.CONFIG_TOT_DEAL_TAX_AMT                            CONFIG_TOT_DEAL_TAX_AMT
            , DCC.CONFIG_SUB_TOT_DEAL_AMT                            CONFIG_SUB_TOT_DEAL_AMT
            , DCC.DROP_SHIP_FLG                                      DROP_SHIP_FLG
            [Line Config Tab ** Config Level ** Hidden]
            , DCC.SHIP_TO_LOC_NM                                     SHIP_TO_LOC_NM
            , DCC.SHIP_TO_ADDL_LOC_NM                                SHIP_TO_ADDL_LOC_NM
            , DCC.SHIP_TO_FIRST_LINE_ADDR                            SHIP_TO_FIRST_LINE_ADDR
            , DCC.SHIP_TO_SCD_LINE_ADDR                              SHIP_TO_SCD_LINE_ADDR
            , DCC.SHIP_TO_THIRD_LINE_ADDR                            SHIP_TO_THIRD_LINE_ADDR
            , DCC.SHIP_TO_FRTH_LINE_ADDR                             SHIP_TO_FRTH_LINE_ADDR
            , DCC.SHIP_TO_FIRST_REF_CMNT_TXT                         SHIP_TO_FIRST_REF_CMNT_TXT
            , DCC.SHIP_TO_SCD_REF_CMNT_TXT                           SHIP_TO_SCD_REF_CMNT_TXT
            , DCC.SHIP_TO_POST_CD                                    SHIP_TO_POST_CD
            , DCC.SHIP_TO_CTY_ADDR                                   SHIP_TO_CTY_ADDR
            , DCC.SHIP_TO_ST_CD                                      SHIP_TO_ST_CD
            , DCC.SHIP_TO_PROV_NM                                    SHIP_TO_PROV_NM
            , DCC.SHIP_TO_CTRY_CD                                    SHIP_TO_CTRY_CD
            , DCC.SHIP_TO_CNTY_NM                                    SHIP_TO_CNTY_NM
            , DCC.MDL_ID                                             MDL_ID
            , DCC.DS_CPO_CONFIG_PK                                   DS_CPO_CONFIG_PK
            , DECODE(DCC.PICK_SVC_CONFIG_MSTR_PK, null, DCC.SVC_CONFIG_MSTR_PK, DCC.PICK_SVC_CONFIG_MSTR_PK)    SVC_CONFIG_MSTR_PK
            , DCC.PICK_SVC_CONFIG_MSTR_PK                            PICK_SVC_CONFIG_MSTR_PK
            [2016/02/09 S21_NA#3398 Add Start]
            , CASE
                WHEN SCM.SVC_CONFIG_MSTR_PK IS NOT NULL THEN 'Y'
                ELSE 'N' END AS CTRL_INPUT
            [2016/02/09 S21_NA#3398 Add End]
        FROM
              DS_CPO_CONFIG_V    DCC
              , SVC_CONFIG_MSTR  SCM [2016/02/10 S21_NA#3398 Add]
        WHERE
                DCC.GLBL_CMPY_CD             = #glblCmpyCd#
            AND DCC.CPO_ORD_NUM              = #cpoOrdNum#
            AND DCC.CONFIG_CATG_CD           = #configCatgCd#
            AND DCC.EZCANCELFLAG             = '0'

            [2016/02/10 S21_NA#3398 Add Start]
            AND DCC.GLBL_CMPY_CD             = SCM.GLBL_CMPY_CD(+)
            AND DCC.SVC_CONFIG_MSTR_PK       = SCM.SVC_CONFIG_MSTR_PK(+)
            AND SCM.EZCANCELFLAG(+)          = '0'
            [2016/02/10 S21_NA#3398 Add End]
        ORDER BY
               DCC.CONFIG_CATG_CD              ASC
             , TO_NUMBER(DCC.DS_ORD_POSN_NUM)  ASC
    </statement>

    <resultMap id="result.getConfigRtrnInfo"     class="NWAL1500_CCMsg">
        [Line Config Tab ** Config Level]
        <result property="dsOrdPosnNum_RC"          column="DS_ORD_POSN_NUM"             javaType="EZDCStringItem"/>
        <result property="configTpCd_RC"            column="CONFIG_TP_CD"                javaType="EZDCStringItem"/>
        <result property="svcConfigMstrPk_RC"       column="SVC_CONFIG_MSTR_PK"          javaType="EZDCBigDecimalItem"/>
        <result property="mdlNm_RC"                 column="MDL_NM"                      javaType="EZDCStringItem"/>
        <result property="shipToCustAcctCd_RC"      column="SHIP_TO_CUST_ACCT_CD"        javaType="EZDCStringItem"/>
        <result property="shipToCustAcctNm_RC"      column="SHIP_TO_CUST_ACCT_NM"        javaType="EZDCStringItem"/>
        <result property="shipToCustCd_RC"          column="SHIP_TO_CUST_CD"             javaType="EZDCStringItem"/>
        <result property="shipToCustLocAddr_RC"     column="SHIP_TO_CUST_LOC_ADDR"       javaType="EZDCStringItem"/>
        <result property="billToCustAcctCd_RC"      column="BILL_TO_CUST_ACCT_CD"        javaType="EZDCStringItem"/>
        <result property="billToCustAcctNm_RC"      column="BILL_TO_CUST_ACCT_NM"        javaType="EZDCStringItem"/>
        <result property="billToCustCd_RC"          column="BILL_TO_CUST_CD"             javaType="EZDCStringItem"/>
        <result property="billToCustLocAddr_RC"     column="BILL_TO_CUST_LOC_ADDR"       javaType="EZDCStringItem"/>
        <result property="sellToCustCd_RC"          column="SELL_TO_CUST_CD"             javaType="EZDCStringItem"/>
        <result property="soldToCustLocCd_RC"       column="SOLD_TO_CUST_LOC_CD"         javaType="EZDCStringItem"/>
        <result property="soldToCustAcctNm_RC"      column="SOLD_TO_CUST_ACCT_NM"        javaType="EZDCStringItem"/>
        <result property="soldToCustLocAddr_RC"     column="SOLD_TO_CUST_LOC_ADDR"       javaType="EZDCStringItem"/>
        <result property="mdlDescTxt_RC"            column="MDL_DESC_TXT"                javaType="EZDCStringItem"/>
        <result property="mdlGrpDescTxt_RC"         column="MDL_GRP_DESC_TXT"            javaType="EZDCStringItem"/>
        <result property="svcSegDescTxt_RC"         column="SVC_SEG_DESC_TXT"            javaType="EZDCStringItem"/>
        <result property="svcIstlReqFlg_RC"         column="SVC_ISTL_REQ_FLG"            javaType="EZDCStringItem"/>
        <result property="siteSrvyReqFlg_RC"        column="SITE_SRVY_REQ_FLG"           javaType="EZDCStringItem"/>
        <result property="slsCrSplFlg_RC"           column="SLS_CR_SPL_FLG"              javaType="EZDCStringItem"/>
        <result property="dsCpoConfigHldFlg_RC"     column="DS_CPO_CONFIG_HLD_FLG"       javaType="EZDCStringItem"/>
        <result property="cratUsrNm_RC"             column="CRAT_USR_NM"                 javaType="EZDCStringItem"/>
        <result property="cratTsDplyTxt_RC"         column="CRAT_TS_DPLY_TXT"            javaType="EZDCStringItem"/>
        <result property="updUsrNm_RC"              column="UPD_USR_NM"                  javaType="EZDCStringItem"/>
        <result property="updTsDplyTxt_RC"          column="UPD_TS_DPLY_TXT"             javaType="EZDCStringItem"/>
        <result property="configTotDealNetAmt_RC"   column="CONFIG_TOT_DEAL_NET_AMT"     javaType="EZDCBigDecimalItem"/>
        <result property="configTotDealChrgAmt_RC"  column="CONFIG_TOT_DEAL_CHRG_AMT"    javaType="EZDCBigDecimalItem"/>
        <result property="configTotDealTaxAmt_RC"   column="CONFIG_TOT_DEAL_TAX_AMT"     javaType="EZDCBigDecimalItem"/>
        <result property="configSubTotDealAmt_RC"   column="CONFIG_SUB_TOT_DEAL_AMT"     javaType="EZDCBigDecimalItem"/>
        <result property="dropShipFlg_RC"           column="DROP_SHIP_FLG"               javaType="EZDCStringItem"/>
        [Line Config Tab ** Config Level ** Hidden]
        <result property="shipToLocNm_RC"           column="SHIP_TO_LOC_NM"              javaType="EZDCStringItem"/>
        <result property="shipToAddlLocNm_RC"       column="SHIP_TO_ADDL_LOC_NM"         javaType="EZDCStringItem"/>
        <result property="shipToFirstLineAddr_RC"   column="SHIP_TO_FIRST_LINE_ADDR"     javaType="EZDCStringItem"/>
        <result property="shipToScdLineAddr_RC"     column="SHIP_TO_SCD_LINE_ADDR"       javaType="EZDCStringItem"/>
        <result property="shipToThirdLineAddr_RC"   column="SHIP_TO_THIRD_LINE_ADDR"     javaType="EZDCStringItem"/>
        <result property="shipToFrthLineAddr_RC"    column="SHIP_TO_FRTH_LINE_ADDR"      javaType="EZDCStringItem"/>
        <result property="shipToFirstRefCmntTxt_RC" column="SHIP_TO_FIRST_REF_CMNT_TXT"  javaType="EZDCStringItem"/>
        <result property="shipToScdRefCmntTxt_RC"   column="SHIP_TO_SCD_REF_CMNT_TXT"    javaType="EZDCStringItem"/>
        <result property="shipToPostCd_RC"          column="SHIP_TO_POST_CD"             javaType="EZDCStringItem"/>
        <result property="shipToCtyAddr_RC"         column="SHIP_TO_CTY_ADDR"            javaType="EZDCStringItem"/>
        <result property="shipToStCd_RC"            column="SHIP_TO_ST_CD"               javaType="EZDCStringItem"/>
        <result property="shipToProvNm_RC"          column="SHIP_TO_PROV_NM"             javaType="EZDCStringItem"/>
        <result property="shipToCtryCd_RC"          column="SHIP_TO_CTRY_CD"             javaType="EZDCStringItem"/>
        <result property="shipToCntyNm_RC"          column="SHIP_TO_CNTY_NM"             javaType="EZDCStringItem"/>
        <result property="mdlId_RC"                 column="MDL_ID"                      javaType="EZDCBigDecimalItem"/>
        <result property="dsCpoConfigPk_RC"         column="DS_CPO_CONFIG_PK"            javaType="EZDCBigDecimalItem"/>
        <result property="pickSvcConfigMstrPk_RC"   column="PICK_SVC_CONFIG_MSTR_PK"     javaType="EZDCBigDecimalItem"/>
        <result property="xxYesNoCd_RC"             column="CTRL_INPUT"                  javaType="EZDCStringItem"/>[2016/02/09 S21_NA#3398 Add]
    </resultMap>
For Performance QC#8166 Del End -->


    <statement id="getCpoDtlViewInfo" parameterClass="Map"  resultMap="result.getCpoDtlInfo">
        SELECT  
            <!-- 2018/09/14 Add Start QC#28060 -->  
            /*+ LEADING(DCD.dcd.cd_m.CD1 DCD.dcd.cd_m.MV)
                LEADING(DCD.dcd.mdse_key_cd.CD1 DCD.dcd.mdse_key_cd.M1)
                LEADING(DCD.dcd.mdse_key_cd.CD2 DCD.dcd.mdse_key_cd.OTM DCD.dcd.mdse_key_cd.M2)
                USE_NL_WITH_INDEX(DCD.dcd.cd_m.MV MDSE_PK)
                USE_NL_WITH_INDEX(DCD.dcd.mdse_key_cd.M1 MDSE_PK)
                USE_NL_WITH_INDEX(DCD.dcd.mdse_key_cd.M2 MDSE_PK)
                INDEX(DCD.dcd.proc_log.biz_proc_log BIZ_PROC_LOG_I2)
                USE_NL_WITH_INDEX(SMM SVC_MACH_MSTR_PK)
            <!-- 2018/09/14 Add End QC#28060 -->  
            <!-- 2018/11/09 Add Start QC#28804 -->
                LEADING(DCD.dcd.cd_m.CD2 DCD.dcd.cd_m.OTMV)
                USE_NL_WITH_INDEX(DCD.dcd.cd_m.OTMV ORD_TAKE_MDSE_PK)
                USE_NL(DCD.dcd.mdse_key_cd.OTM)
                USE_NL(DCD.dcd.OTM2)
                USE_NL(DCD.dcd.INAP)
                USE_NL(DCD.dcd.RSW)
                USE_NL(SCM) */
            <!-- 2018/11/09 Add End QC#28804 -->  
            <!-- Line Config Tab ** Line Level -->
              DCD.DS_ORD_POSN_NUM                                           DS_ORD_POSN_NUM
            , DCD.DS_CPO_LINE_NUM                                           DS_CPO_LINE_NUM
            , DCD.DS_CPO_LINE_SUB_NUM                                       DS_CPO_LINE_SUB_NUM
            , DCD.CPO_DTL_LINE_NUM                                          CPO_DTL_LINE_NUM
            , DCD.CPO_DTL_LINE_SUB_NUM                                      CPO_DTL_LINE_SUB_NUM
            , DCD.DPLY_LINE_NUM                                             DPLY_LINE_NUM
            , DECODE(DCD.SBST_MDSE_CD, null, DCD.MDSE_CD, DCD.ORIG_MDSE_CD) MDSE_CD
            , DECODE(DCD.SBST_MDSE_CD, null, DCD.MDSE_NM, DCD.ORIG_MDSE_NM) MDSE_NM
            , DCD.MDSE_DESC_SHORT_TXT                                       MDSE_DESC_SHORT_TXT
            , DCD.ORD_CUST_UOM_QTY                                          ORD_CUST_UOM_QTY
            , NVL(DCD.CPO_DTL_DEAL_GRS_AMT, 0)                              CPO_DTL_DEAL_GRS_AMT
            , DCD.ENT_DEAL_NET_UNIT_PRC_AMT                                 ENT_DEAL_NET_UNIT_PRC_AMT
            , DCD.ORD_LINE_STS_CD                                           ORD_LINE_STS_CD <!-- 2016/01/28 S21_NA#3254 ADD -->
<!-- Mod Start NA QC#2757 -->
            , (SELECT
                   ORD_LINE_STS_NM
               FROM
                  (SELECT
                       DOS.ORD_LINE_STS_NM
                   FROM
                       DS_ORD_STS_V DOS
                   WHERE
                           DOS.GLBL_CMPY_CD         = DCD.GLBL_CMPY_CD
                       AND DOS.CPO_ORD_NUM          = DCD.CPO_ORD_NUM
                       AND DOS.CPO_DTL_LINE_NUM     = DCD.CPO_DTL_LINE_NUM
                       AND DOS.CPO_DTL_LINE_SUB_NUM = DCD.CPO_DTL_LINE_SUB_NUM
                       AND DOS.EZCANCELFLAG         = '0'
                   ORDER BY
                       DOS.SHPG_STS_CD NULLS FIRST)
               WHERE
                   ROWNUM = 1)                                              ORD_LINE_STS_DESC_TXT
<!-- Mod End   NA QC#2757 -->  
            <!-- 2016/08/10 S21_NA#12462 Add Start -->
            , CASE WHEN (DCD.SHIP_QTY + DCD.INV_QTY) > 0 AND DCD.ORD_QTY > (DCD.SHIP_QTY + DCD.INV_QTY)
                   THEN 'PARTIALLY SHIPPED'
                   WHEN DCD.ALLOC_QTY > 0 AND DCD.ORD_QTY > DCD.ALLOC_QTY
                   THEN 'PARTIALLY ALLOCATED'
                   END                                                      ORD_LINE_STS_DPLY_TXT
            <!-- 2016/08/10 S21_NA#12462 Add End -->
            , DCD.DS_ORD_LINE_CATG_CD                                       DS_ORD_LINE_CATG_CD
            , DCD.DS_ORD_LINE_CATG_DESC_TXT                                 DS_ORD_LINE_CATG_DESC_TXT
            , DCD.CR_REBIL_CD                                               CR_REBIL_CD
<!-- Add Start NA QC#12599 -->  
            , DCD.CR_REBIL_DESC_TXT                                         CR_REBIL_DESC_TXT
<!-- Add End   NA QC#12599 -->  
            , DCD.RTL_WH_CD                                                 RTL_WH_CD <!-- 2016/10/05 S21_NA#14939 ADD -->
            , DCD.RTL_WH_NM                                                 RTL_WH_NM
            , DCD.RTL_SWH_CD                                                RTL_SWH_CD <!-- 2016/10/05 S21_NA#14939 ADD -->
            <!-- Add Start QC#58230 -->
            , NVL(DCD.RTL_SWH_NM, SWH.RTL_SWH_NM)                           RTL_SWH_NM
            <!-- Add End QC#58230 -->
            , DCD.ORD_LINE_SRC_CD                                           ORD_LINE_SRC_CD
            , PU.PKG_UOM_CD                                                 PKG_UOM_CD
            , DCD.PRC_CATG_CD                                               PRC_CATG_CD <!-- 2016/10/05 S21_NA#14939 ADD -->
            , DCD.PRC_CATG_NM                                               PRC_CATG_NM
            , DCD.FL_PRC_LIST_CD                                            FL_PRC_LIST_CD
            , DCD.FL_PRC_LIST_NM                                            FL_PRC_LIST_NM
            , DCD.DEAL_PRC_LIST_PRC_AMT                                     DEAL_PRC_LIST_PRC_AMT
            , DCD.SER_NUM                                                   SER_NUM
            , DCD.SBST_MDSE_CD                                              SBST_MDSE_CD 
            , DCD.CUST_MDSE_CD                                              CUST_MDSE_CD
            , DCD.RDD_DT                                                    RDD_DT
            , DCD.PRC_BASE_DT                                               PRC_BASE_DT
            , DCD.CRAT_TS_DPLY_TXT                                          CRAT_TS_DPLY_TXT
            , DCD.ORD_BOOK_TS_DPLY_TXT                                      ORD_BOOK_TS_DPLY_TXT
            , DCD.SHIP_DT_TS_DPLY_TXT                                       SHIP_DT_TS_DPLY_TXT
            , DCD.SCHD_DELY_TS_DPLY_TXT                                     SCHD_DELY_TS_DPLY_TXT
            , DCD.ALLOC_QTY                                                 ALLOC_QTY
            , DCD.SHIP_QTY                                                  SHIP_QTY
            , DCD.INV_QTY                                                   INV_QTY
            , DCD.CANC_QTY                                                  CANC_QTY
            , DCD.CANC_RSN_DESC_TXT                                         CANC_RSN_DESC_TXT
            , DCD.SUPD_LOCK_FLG                                             SUPD_LOCK_FLG
            , DCD.PRC_LIST_EQUIP_CONFIG_NUM                                 PRC_LIST_EQUIP_CONFIG_NUM
            <!--, DCD.PRC_LIST_EQUIP_CONFIG_NM                                  PRC_LIST_EQUIP_CONFIG_NM--><!-- 2018/07/12 S21_NA#24256 Mod -->
            ,(SELECT PRC_LIST_EQUIP_CONFIG_NM
                FROM 
                   (SELECT PLE.PRC_LIST_EQUIP_CONFIG_NM
                      FROM PRC_LIST_EQUIP PLE
                          ,CPO C
                     WHERE     1 = 1
                          AND DCD.GLBL_CMPY_CD = PLE.GLBL_CMPY_CD
                          AND DCD.PRC_LIST_EQUIP_CONFIG_NUM =
                              PLE.PRC_LIST_EQUIP_CONFIG_NUM
                          AND DCD.PRC_CATG_CD = PLE.PRC_CATG_CD
                          AND PLE.PRC_QLFY_TP_CD = '01'
                          AND DCD.MDSE_CD = PLE.PRC_QLFY_VAL_TXT
                          AND DCD.CUST_UOM_CD = PLE.PKG_UOM_CD
                          AND DCD.GLBL_CMPY_CD = C.GLBL_CMPY_CD
                          AND DCD.CPO_ORD_NUM = C.CPO_ORD_NUM
                          AND PLE.EZCANCELFLAG = '0'
                          AND PLE.DEL_FLG = 'N'
                          AND PLE.EFF_FROM_DT <![CDATA[<=]]> NVL(DCD.CPO_ORD_TS, C.CPO_ORD_TS)
                          AND NVL (PLE.EFF_THRU_DT, '99991231') <![CDATA[>=]]> NVL(DCD.CPO_ORD_TS, C.CPO_ORD_TS)
                    UNION ALL
                    SELECT PLE.PRC_LIST_EQUIP_CONFIG_NM
                      FROM PRC_LIST_EQUIP PLE
                          ,ORD_TAKE_MDSE OTM
                          ,CPO C
                    WHERE     1 = 1
                          AND DCD.GLBL_CMPY_CD = PLE.GLBL_CMPY_CD
                          AND DCD.PRC_LIST_EQUIP_CONFIG_NUM = PLE.PRC_LIST_EQUIP_CONFIG_NUM
                          AND DCD.PRC_CATG_CD = PLE.PRC_CATG_CD
                          AND PLE.PRC_QLFY_TP_CD = '01'
                          AND DCD.GLBL_CMPY_CD = OTM.GLBL_CMPY_CD
                          AND SUBSTR (DCD.MDSE_CD,1,8) = OTM.ORD_TAKE_MDSE_CD
                          AND OTM.EZCANCELFLAG = '0'
                          AND OTM.ORD_TAKE_MDSE_CD = PLE.PRC_QLFY_VAL_TXT
                          AND DCD.CUST_UOM_CD = PLE.PKG_UOM_CD
                          AND DCD.GLBL_CMPY_CD = C.GLBL_CMPY_CD
                          AND DCD.CPO_ORD_NUM = C.CPO_ORD_NUM
                          AND PLE.EZCANCELFLAG = '0'
                          AND PLE.DEL_FLG = 'N'
                          AND PLE.EFF_FROM_DT <![CDATA[<=]]> NVL(DCD.CPO_ORD_TS, C.CPO_ORD_TS)
                          AND NVL(PLE.EFF_THRU_DT, '99991231') <![CDATA[>=]]> NVL(DCD.CPO_ORD_TS, C.CPO_ORD_TS)
             ) WHERE ROWNUM <![CDATA[<=]]> 1)
                  AS PRC_LIST_EQUIP_CONFIG_NM
            , DCD.COA_MDSE_TP_DESC_TXT                                      COA_MDSE_TP_DESC_TXT
            , DCD.COA_PROD_DESC_TXT                                         COA_PROD_DESC_TXT
            , DCD.MDSE_ITEM_CLS_TP_DESC_TXT                                 MDSE_ITEM_CLS_TP_DESC_TXT
            , DCD.MNF_ITEM_CD                                               MNF_ITEM_CD
            , DCD.DPLY_LINE_REF_NUM                                         DPLY_LINE_REF_NUM
            , DCD.CUST_ISS_PO_NUM                                           CUST_ISS_PO_NUM
            , DCD.CUST_ISS_PO_DT                                            CUST_ISS_PO_DT
            , DCD.CPO_SRC_TP_DESC_TXT                                       CPO_SRC_TP_DESC_TXT
            , NVL(DCD.ORD_UPLD_REF_NUM, DCD.ORD_SRC_REF_NUM)                ORD_SRC_REF_NUM <!-- 2016/07/29 S21_NA#11852 MOD -->
            , DCD.LINE_SRC_REF_NUM                                          LINE_SRC_REF_NUM
            , DCD.SET_PRNT_LINE_NUM                                         SET_PRNT_LINE_NUM
            , DCD.CMPSN_REVN_NUM                                            CMPSN_REVN_NUM
            , DCD.SET_MDSE_CD                                               SET_MDSE_CD
            , DCD.CRAT_USR_NM                                               CRAT_USR_NM
            , DCD.UPD_TS_DPLY_TXT                                           UPD_TS_DPLY_TXT
            , DCD.UPD_USR_NM                                                UPD_USR_NM
            , NVL(DCD.LINE_DEAL_SUB_TOT_AMT,0)                              LINE_DEAL_SUB_TOT_AMT
            , NVL(DCD.LINE_DEAL_CHRG_AMT,0)                                 LINE_DEAL_CHRG_AMT
            , NVL(DCD.LINE_DEAL_TAX_AMT,0)                                  LINE_DEAL_TAX_AMT
            , NVL(DCD.LINE_DEAL_TOT_AMT,0)                                  LINE_DEAL_TOT_AMT

            <!-- Line Config Tab ** Line Level ** Hidden -->
            , DCD.ORD_QTY                                                   ORD_QTY
            , DCD.CPO_DTL_DEAL_TAX_AMT                                      CPO_DTL_DEAL_TAX_AMT
            <!--   , DCD.ENT_DEAL_NET_UNIT_PRC_AMT*DCD.ORD_QTY                     CPO_LINE_TOT_AMT-->
            , DCD.ISTL_QTY                                                  ISTL_QTY
            , DCD.SHOP_ITEM_FLG                                             SHOP_ITEM_FLG
            , DCD.DS_CPO_CONFIG_PK                                          DS_CPO_CONFIG_PK
            , DCD.BASE_CMPT_FLG                                             BASE_CMPT_FLG
            , DCD.DS_CONTR_NUM                                              DS_CONTR_NUM              <!-- 2016/10/10 S21_NA#15614 Add-->
            , DCD.DS_CONTR_SQ_NUM                                           DS_CONTR_SQ_NUM           <!-- 2016/10/10 S21_NA#15614 Add-->
            , DCD.BLLG_ATTRB_CUST_ACCT_CD                                   BLLG_ATTRB_CUST_ACCT_CD
            , DCD.FIRST_BLLG_ATTRB_NM                                       FIRST_BLLG_ATTRB_NM
            , DCD.FIRST_BLLG_ATTRB_VAL_TXT                                  FIRST_BLLG_ATTRB_VAL_TXT
            , DCD.SCD_BLLG_ATTRB_NM                                         SCD_BLLG_ATTRB_NM
            , DCD.SCD_BLLG_ATTRB_VAL_TXT                                    SCD_BLLG_ATTRB_VAL_TXT
            , DCD.THIRD_BLLG_ATTRB_NM                                       THIRD_BLLG_ATTRB_NM
            , DCD.THIRD_BLLG_ATTRB_VAL_TXT                                  THIRD_BLLG_ATTRB_VAL_TXT
            , DCD.FRTH_BLLG_ATTRB_NM                                        FRTH_BLLG_ATTRB_NM
            , DCD.FRTH_BLLG_ATTRB_VAL_TXT                                   FRTH_BLLG_ATTRB_VAL_TXT
            , DCD.FIFTH_BLLG_ATTRB_NM                                       FIFTH_BLLG_ATTRB_NM
            , DCD.FIFTH_BLLG_ATTRB_VAL_TXT                                  FIFTH_BLLG_ATTRB_VAL_TXT
            , DCD.SIXTH_BLLG_ATTRB_NM                                       SIXTH_BLLG_ATTRB_NM
            , DCD.SIXTH_BLLG_ATTRB_VAL_TXT                                  SIXTH_BLLG_ATTRB_VAL_TXT
            , DCD.SPLY_TP_CD                                                SPLY_TP_CD
            , DCD.SPLY_NM                                                   SPLY_NM
            , DCD.SPLY_FIRST_ADDR                                           SPLY_FIRST_ADDR
            , DCD.SPLY_CTY_ADDR                                             SPLY_CTY_ADDR
            , DCD.SPLY_ST_CD                                                SPLY_ST_CD
            , DCD.SPLY_POST_CD                                              SPLY_POST_CD
            <!-- 2016/02/10 S21_NA#9326 Modify Start -->
            <!-- 2016/02/09 S21_NA#3398 Add Start -->
            , CASE
                <!-- 2018/09/27 S21_NA#28482 Mod Start -->
                <!-- WHEN SMM.SVC_MACH_MSTR_PK IS NOT NULL THEN 'Y' -->
                WHEN SMM.SVC_MACH_MSTR_PK IS NOT NULL AND SMM.SVC_MACH_MSTR_STS_CD != 'W4R' THEN 'Y'
                <!-- 2018/09/27 S21_NA#28482 Mod End -->
                ELSE 'N' END AS CTRL_INPUT
            <!-- 2016/02/09 S21_NA#3398 Add End -->
            <!-- 2016/02/10 S21_NA#9326 Modify End -->
            , DCD.CSMP_PRC_LIST_CD                                          CSMP_PRC_LIST_CD    <!-- 2016/03/01 Order Entry #7 Add -->
            , DCD.CHILD_MDSE_QTY                                            CHILD_MDSE_QTY
            , DCD.LOAN_BAL_QTY                                              LOAN_BAL_QTY  <!-- 2016/04/15 NA QC#7099 ADD -->
            <!-- 2016/05/10 S21_NA#7706 Add Start -->
            , DCD.FUNC_SVC_REV_TRNSF_AMT                                    FUNC_SVC_REV_TRNSF_AMT
            , DCD.DEAL_SVC_REV_TRNSF_AMT                                    DEAL_SVC_REV_TRNSF_AMT
            , DCD.FUNC_SVC_COST_TRNSF_AMT                                   FUNC_SVC_COST_TRNSF_AMT
            , DCD.DEAL_SVC_COST_TRNSF_AMT                                   DEAL_SVC_COST_TRNSF_AMT
            , DCD.FUNC_MAN_FL_ADJ_AMT                                       FUNC_MAN_FL_ADJ_AMT
            , DCD.DEAL_MAN_FL_ADJ_AMT                                       DEAL_MAN_FL_ADJ_AMT
            , DCD.FUNC_MAN_REP_REV_ADJ_AMT                                  FUNC_MAN_REP_REV_ADJ_AMT
            , DCD.DEAL_MAN_REP_REV_ADJ_AMT                                  DEAL_MAN_REP_REV_ADJ_AMT
            <!-- 2016/05/10 S21_NA#7706 Add End -->
            <!-- S21_NA#7606 ADD Start -->
            , DCD.ORIG_CPO_ORD_NUM                                          ORIG_CPO_ORD_NUM
            , DCD.ORIG_CPO_DTL_LINE_NUM                                     ORIG_CPO_DTL_LINE_NUM
            , DCD.ORIG_CPO_DTL_LINE_SUB_NUM                                 ORIG_CPO_DTL_LINE_SUB_NUM
            , DCD.ORD_SRC_REF_LINE_NUM                                      ORD_SRC_REF_LINE_NUM
            , DCD.ORD_SRC_REF_LINE_SUB_NUM                                  ORD_SRC_REF_LINE_SUB_NUM
            <!-- S21_NA#7606 ADD End -->
            , DCD.SVC_MACH_MSTR_PK                                          SVC_MACH_MSTR_PK
            <!-- 2016/06/10 S21_NA#8912 Add Start -->
            , DCD.CSMP_CONTR_NUM                                            CSMP_CONTR_NUM
            , DCD.DLR_REF_NUM                                               DLR_REF_NUM
            <!-- 2016/06/10 S21_NA#8912 Add Start -->
            , DCD.ORIG_INV_NUM                                              ORIG_INV_NUM <!-- 2016/06/02 S21_NA#10893 Add -->
            <!-- 2016/07/04 S21_NA#7645 Add Start -->
            , DCD.RTL_WH_CD                                                 RTL_WH_CD
            , DCD.RTL_SWH_CD                                                RTL_SWH_CD
            <!-- 2016/07/04 S21_NA#7645 Add End -->
            , DCD.ORD_UPLD_REF_NUM                                          ORD_UPLD_REF_NUM <!-- 2016/07/29 S21_NA#11852 Add -->
            , DCD.CPO_DTL_DEAL_GRS_AMT                                      CPO_DTL_DEAL_GRS_AMT <!-- 2016/09/27 S21_NA#12598 Add -->
            , DCD.ORIG_MDSE_CD                                              ORIG_MDSE_CD         <!-- 2016/09/29 S21_NA#14805 Add -->
            , NVL(BV.BO_QTY,0)                                              BO_QTY <!-- 2016/10/05 S21_NA#7645-3 Add Start -->
            , DCD.COA_MDSE_TP_CD                                            COA_MDSE_TP_CD <!-- 2017/01/04 S21_NA#13768 Add -->
            , DCD.ORIG_INVTY_LOC_CD                                         ORIG_INVTY_LOC_CD <!-- 2017/10/18 S21_NA#21730 Add -->
            , DCD.FUNC_UNIT_FL_PRC_AMT                                      FUNC_UNIT_FL_PRC_AMT <!-- 2018/01/10 S21_NA#22372 Add -->
            <!-- 2018/08/06 S21_NA#27642 Add Start -->
            , DCD.DS_CPO_DTL_UPD_USR_ID
            <!-- 2018/08/06 S21_NA#27642 Add End -->
            <!-- 2019/10/04 S21_NA#51372 Add Start -->
            , DCD.PRNT_VND_NM                                               PRNT_VND_NM
            <!-- 2019/10/04 S21_NA#51372 Add End -->
            <!-- QC#55731 2020/03/27 Add Start -->
            , DCD.DROP_SHIP_FLG                                             DROP_SHIP_FLG
            , DCD.SHIP_TO_CUST_CD                                           SHIP_TO_CUST_CD
            , DCD.SHIP_TO_LOC_NM                                            SHIP_TO_LOC_NM
            , DCD.SHIP_TO_ADDL_LOC_NM                                       SHIP_TO_ADDL_LOC_NM
            , DCD.SHIP_TO_FIRST_LINE_ADDR                                   SHIP_TO_FIRST_LINE_ADDR
            , DCD.SHIP_TO_SCD_LINE_ADDR                                     SHIP_TO_SCD_LINE_ADDR
            , DCD.SHIP_TO_THIRD_LINE_ADDR                                   SHIP_TO_THIRD_LINE_ADDR
            , DCD.SHIP_TO_FRTH_LINE_ADDR                                    SHIP_TO_FRTH_LINE_ADDR
            , DCD.SHIP_TO_FIRST_REF_CMNT_TXT                                SHIP_TO_FIRST_REF_CMNT_TXT
            , DCD.SHIP_TO_SCD_REF_CMNT_TXT                                  SHIP_TO_SCD_REF_CMNT_TXT
            , DCD.SHIP_TO_SCD_REF_CMNT_TXT                                  SHIP_TO_SCD_REF_CMNT_TXT
            , DCD.SHIP_TO_CTY_ADDR                                          SHIP_TO_CTY_ADDR
            , DCD.SHIP_TO_ST_CD                                             SHIP_TO_ST_CD
            , DCD.SHIP_TO_PROV_NM                                           SHIP_TO_PROV_NM
            , DCD.SHIP_TO_CNTY_NM                                           SHIP_TO_CNTY_NM
            , DCD.SHIP_TO_POST_CD                                           SHIP_TO_POST_CD
            , DCD.SHIP_TO_CNTY_NM                                           SHIP_TO_CNTY_NM
            , DCD.SHIP_TO_POST_CD                                           SHIP_TO_POST_CD
            , DCD.SHIP_TO_CTRY_CD                                           SHIP_TO_CTRY_CD
            <!-- QC#55731 2020/03/27 Add End -->
        FROM
              CPO_DTL_V                   DCD
            , DS_CPO_CONFIG               DCC <!-- 2016/02/09 S21_NA#3398 Add -->
            , PKG_UOM                     PU
            , SVC_CONFIG_MSTR             SCM <!-- 2016/02/10 S21_NA#3398 Add -->
            , SVC_MACH_MSTR               SMM <!-- 2016/02/10 S21_NA#9326 Add -->
            <!-- 2016/10/05 S21_NA#7645-3 Add Start -->
            , (
                SELECT
                    <!-- 2018/11/09 Add Start QC#28804 -->
                    /*+ USE_NL(DOSV.SP)
                        INDEX(DOSV.SP SHPG_PLN_I12) */
                    <!-- 2018/11/09 Add End QC#28804 -->  
                    SP.GLBL_CMPY_CD
                    ,SP.TRX_HDR_NUM         CPO_ORD_NUM
                    ,SP.TRX_LINE_NUM        CPO_DTL_LINE_NUM
                    ,SP.TRX_LINE_SUB_NUM    CPO_DTL_LINE_SUB_NUM
                    ,SUM(SP.ORD_QTY) AS BO_QTY
                FROM
                    SHPG_PLN SP
                    ,DS_ORD_STS_V DOSV
                WHERE
                    SP.GLBL_CMPY_CD = #glblCmpyCd#
                    AND SP.TRX_HDR_NUM = #cpoOrdNum#
                    AND SP.EZCANCELFLAG = '0'

                    AND SP.GLBL_CMPY_CD = DOSV.GLBL_CMPY_CD
                    AND SP.TRX_HDR_NUM = DOSV.CPO_ORD_NUM
                    AND SP.TRX_LINE_NUM = DOSV.CPO_DTL_LINE_NUM
                    AND SP.TRX_LINE_SUB_NUM = DOSV.CPO_DTL_LINE_SUB_NUM
                    AND SP.SHPG_PLN_NUM = DOSV.SHPG_PLN_NUM
                    AND DOSV.ORD_LINE_STS_NM = #backOrder#
                    AND DOSV.EZCANCELFLAG = '0'
                GROUP BY
                    SP.GLBL_CMPY_CD
                    ,SP.TRX_HDR_NUM
                    ,SP.TRX_LINE_NUM
                    ,SP.TRX_LINE_SUB_NUM
            ) BV
            <!-- 2016/10/05 S21_NA#7645-3 Add End -->
            <!-- Add Start QC#58230 -->
            , SWH SWH
            <!-- Add End QC#58230 -->
        WHERE
                DCD.GLBL_CMPY_CD                = #glblCmpyCd#
            AND DCD.CPO_ORD_NUM                 = #cpoOrdNum#
            AND DCD.EZCANCELFLAG                = '0'

            <!-- 2016/02/09 S21_NA#3398 Add Start -->
            AND DCD.GLBL_CMPY_CD                = DCC.GLBL_CMPY_CD
            AND DCD.DS_CPO_CONFIG_PK            = DCC.DS_CPO_CONFIG_PK
            AND DCC.EZCANCELFLAG                = '0'
            <!-- 2016/02/09 S21_NA#3398 Add End -->

            AND DCD.GLBL_CMPY_CD                = PU.GLBL_CMPY_CD
            AND DCD.CUST_UOM_CD                 = PU.PKG_UOM_CD
            AND PU.EZCANCELFLAG                 = '0'

            <!-- 2016/06/09 S21_NA#9326 Mod Start -->
            <!-- 2016/02/10 S21_NA#3398 Add Start -->
            AND DCC.GLBL_CMPY_CD                = SCM.GLBL_CMPY_CD(+)
            <!-- 2018/05/17 S21_NA#22988 Mod Start -->
            <!-- AND DCC.PICK_SVC_CONFIG_MSTR_PK     = SCM.SVC_CONFIG_MSTR_PK(+) -->
            AND NVL(DCC.PICK_SVC_CONFIG_MSTR_PK, DCC.SVC_CONFIG_MSTR_PK) = SCM.SVC_CONFIG_MSTR_PK(+)
            <!-- 2018/05/17 S21_NA#22988 Mod Start -->
            AND SCM.EZCANCELFLAG(+)             = '0'
            <!-- 2016/02/10 S21_NA#3398 Add End -->
            <!-- 2016/06/09 S21_NA#9326 Mod End -->

            <!-- 2016/06/01 S21_NA#9326 Add Start -->
            AND DCD.GLBL_CMPY_CD                = SMM.GLBL_CMPY_CD(+)
            AND DCD.SVC_MACH_MSTR_PK            = SMM.SVC_MACH_MSTR_PK(+)
            AND SMM.EZCANCELFLAG(+)             = '0'
            AND SCM.GLBL_CMPY_CD                = SMM.GLBL_CMPY_CD(+)
            AND SCM.SVC_CONFIG_MSTR_PK          = SMM.SVC_CONFIG_MSTR_PK(+)
            <!-- 2016/06/01 S21_NA#9326 Add End -->
            <!-- 2016/10/05 S21_NA#7645-3 Add Start -->
            AND DCD.GLBL_CMPY_CD                = BV.GLBL_CMPY_CD(+)
            AND DCD.CPO_ORD_NUM                 = BV.CPO_ORD_NUM(+)
            AND DCD.CPO_DTL_LINE_NUM            = BV.CPO_DTL_LINE_NUM(+)
            AND DCD.CPO_DTL_LINE_SUB_NUM        = BV.CPO_DTL_LINE_SUB_NUM(+)
            <!-- 2016/10/05 S21_NA#7645-3 Add End -->
            <!-- Add Start QC#58230 -->
            AND DCD.GLBL_CMPY_CD                = SWH.GLBL_CMPY_CD(+)
            AND DCD.RTL_SWH_CD                  = SWH.RTL_SWH_CD(+)
            AND SWH.EZCANCELFLAG(+)             = '0'
            <!-- Add End QC#58230 -->

            <!-- 2017/08/07 Sol#249 Add Start -->
            <isEqual property="xxResFltrFlg" compareValue="Y">
                <isNotNull property = "xxLineNum_FL">
                    AND DCD.DPLY_LINE_NUM = #xxLineNum_FL#
                </isNotNull>
                <isNotNull property = "xxLineStsSrchTxt_FL">
                    AND (SELECT
                             ORD_LINE_STS_NM
                         FROM
                            (SELECT
                                 DOS.ORD_LINE_STS_NM
                             FROM
                                 DS_ORD_STS_V DOS
                             WHERE
                                     DOS.GLBL_CMPY_CD         = DCD.GLBL_CMPY_CD
                                 AND DOS.CPO_ORD_NUM          = DCD.CPO_ORD_NUM
                                 AND DOS.CPO_DTL_LINE_NUM     = DCD.CPO_DTL_LINE_NUM
                                 AND DOS.CPO_DTL_LINE_SUB_NUM = DCD.CPO_DTL_LINE_SUB_NUM
                                 AND DOS.EZCANCELFLAG         = '0'
                             ORDER BY
                                 DOS.SHPG_STS_CD NULLS FIRST)
                         WHERE
                             ROWNUM = 1
                        ) IN
                    <iterate property="xxLineStsSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                        #elem[]#
                    </iterate>
                </isNotNull>
                AND EXISTS (
                    SELECT 1
                    FROM (
                        SELECT
                             ORD_LINE_STS_NM
                        FROM
                            (SELECT
                                 DOS.ORD_LINE_STS_NM
                             FROM
                                 DS_ORD_STS_V DOS
                             WHERE
                                     DOS.GLBL_CMPY_CD         = DCD.GLBL_CMPY_CD
                                 AND DOS.CPO_ORD_NUM          = DCD.CPO_ORD_NUM
                                 AND DOS.CPO_DTL_LINE_NUM     = DCD.CPO_DTL_LINE_NUM
                                 AND DOS.CPO_DTL_LINE_SUB_NUM = DCD.CPO_DTL_LINE_SUB_NUM
                                 AND DOS.EZCANCELFLAG         = '0'
                             ORDER BY
                                 DOS.SHPG_STS_CD NULLS FIRST)
                        WHERE
                            ROWNUM = 1
                    ) A
                    WHERE
                        1 = 1
                        <isEqual property="xxShowInclCloLineFlg_FL" compareValue="N">
                            AND A.ORD_LINE_STS_NM <![CDATA[<>]]> 'CLOSED'
                        </isEqual>
                        <isEqual property="xxShowInclCancLineFlg_FL" compareValue="N">
                            AND A.ORD_LINE_STS_NM <![CDATA[<>]]> 'CANCELLED'
                        </isEqual>
                        OR A.ORD_LINE_STS_NM IS NULL
                )
                <isNotNull property = "xxOrdItemSrchTxt_FL">
                    AND (DCD.MDSE_CD IN
                    <iterate property="xxOrdItemSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                        #elem[]#
                    </iterate>
                        OR DCD.ORIG_MDSE_CD IN
                    <iterate property="xxOrdItemSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                        #elem[]#
                    </iterate>
                    )
                </isNotNull>
                <isNotNull property = "xxRtlWhSrchTxt_FL">
                    AND DCD.RTL_WH_NM = #xxRtlWhSrchTxt_FL#
                </isNotNull>
                <isNotNull property = "xxRtlSwhSrchTxt_FL">
                    AND DCD.RTL_SWH_NM IN
                    <iterate property="xxRtlSwhSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                        #elem[]#
                    </iterate>
                </isNotNull>
                <isNotNull property = "xxCpoSrcTpSrchTxt_FL">
                    AND DCD.ORD_LINE_SRC_CD = (
                                          SELECT SRC.ORD_LINE_SRC_CD
                                          FROM ORD_LINE_SRC SRC
                                          WHERE SRC.GLBL_CMPY_CD = #glblCmpyCd#
                                            AND SRC.ORD_LINE_SRC_NM  = #xxCpoSrcTpSrchTxt_FL#
                                         )
                </isNotNull>
                <isNotNull property = "xxOrdSrcRefNumSrchTxt_FL">
                    AND DCD.LINE_SRC_REF_NUM = #xxOrdSrcRefNumSrchTxt_FL#
                </isNotNull>
                <isNotNull property = "xxSbstItemSrchTxt_FL">
                    AND DCD.SBST_MDSE_CD = #xxSbstItemSrchTxt_FL#
                </isNotNull>
                <isNotNull property = "xxSerNumSrchTxt_FL">
                    AND DCD.SER_NUM = #xxSerNumSrchTxt_FL#
                </isNotNull>

                <isEqual property="xxConfig_LineConfigFlg" compareValue="Y">
                    AND EXISTS (
                        SELECT 1
                        FROM
                            DS_CPO_CONFIG_V DCCV
                        WHERE
                            DCCV.GLBL_CMPY_CD                = DCC.GLBL_CMPY_CD
                            AND DCCV.DS_CPO_CONFIG_PK        = DCC.DS_CPO_CONFIG_PK
                            AND DCCV.EZCANCELFLAG            = '0'

                            <isNotNull property = "dsOrdPosnNum_FL">
                                AND DCCV.DS_ORD_POSN_NUM = #dsOrdPosnNum_FL#
                            </isNotNull>
                            <isNotNull property = "xxConfigIdSrchTxt_FL">
                                AND (DCCV.SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FL#
                                    OR DCCV.PICK_SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FL#
                                )
                            </isNotNull>
                            <isNotNull property = "xxMdlSrchTxt_FL">
                                AND DCCV.T_MDL_NM IN
                                <iterate property="xxMdlSrchTxt_FL" var="elem[]" open="(" close=")" conjunction=",">
                                    #elem[]#
                                </iterate>
                            </isNotNull>
                            <isNotNull property = "xxBillToAcctNmSrchTxt_FL">
                                AND DCCV.BILL_TO_CUST_ACCT_NM = #xxBillToAcctNmSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxBillToAcctCdSrchTxt_FL">
                                AND DCCV.BILL_TO_CUST_ACCT_CD = #xxBillToAcctCdSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxBillToLocCdSrchTxt_FL">
                                AND DCCV.BILL_TO_CUST_LOC_CD = #xxBillToLocCdSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxShipToAcctNmSrchTxt_FL">
                                AND DCCV.SHIP_TO_CUST_ACCT_NM = #xxShipToAcctNmSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxShipToAcctCdSrchTxt_FL">
                                AND DCCV.SHIP_TO_CUST_ACCT_CD = #xxShipToAcctCdSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxShipToLocCdSrchTxt_FL">
                                AND DCCV.SHIP_TO_CUST_LOC_CD = #xxShipToLocCdSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxSoldToAcctNmSrchTxt_FL">
                                AND DCCV.SOLD_TO_CUST_ACCT_NM = #xxSoldToAcctNmSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxSoldToAcctCdSrchTxt_FL">
                                AND DCCV.SELL_TO_CUST_CD = #xxSoldToAcctCdSrchTxt_FL#
                            </isNotNull>
                            <isNotNull property = "xxSoldToLocCdSrchTxt_FL">
                                AND DCCV.SOLD_TO_CUST_LOC_CD = #xxSoldToLocCdSrchTxt_FL#
                            </isNotNull>
                    )
                </isEqual>
            </isEqual>
            <!-- 2017/08/07 Sol#249 Add End -->

        ORDER BY  
              DCD.CPO_ORD_NUM
             ,TO_NUMBER(DCD.DS_ORD_POSN_NUM)
             ,DCD.DS_CPO_LINE_NUM
             ,DCD.DS_CPO_LINE_SUB_NUM NULLS FIRST
    </statement>

    <resultMap id="result.getCpoDtlInfo" class="NWAL1500_BSMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod -->
        <!-- Line Config Tab ** Line Level -->
        <result property="dsOrdPosnNum_LL"             column="DS_ORD_POSN_NUM"                 javaType="EZDCStringItem"/>
        <result property="dsCpoLineNum_LL"             column="DS_CPO_LINE_NUM"                 javaType="EZDCStringItem"/>
        <result property="dsCpoLineSubNum_LL"          column="DS_CPO_LINE_SUB_NUM"             javaType="EZDCStringItem"/>
        <result property="cpoDtlLineNum_LL"            column="CPO_DTL_LINE_NUM"                javaType="EZDCStringItem"/>
        <result property="cpoDtlLineSubNum_LL"         column="CPO_DTL_LINE_SUB_NUM"            javaType="EZDCStringItem"/>
        <result property="xxLineNum_LL"                column="DPLY_LINE_NUM"                   javaType="EZDCStringItem"/>
        <result property="mdseCd_LL"                   column="MDSE_CD"                         javaType="EZDCStringItem"/>
        <result property="mdseNm_LL"                   column="MDSE_NM"                         javaType="EZDCStringItem"/>
        <result property="mdseDescShortTxt_LL"         column="MDSE_DESC_SHORT_TXT"             javaType="EZDCStringItem"/>
        <result property="ordCustUomQty_LL"            column="ORD_CUST_UOM_QTY"                javaType="EZDCBigDecimalItem"/>
        <result property="entCpoDtlDealSlsAmt_LL"      column="CPO_DTL_DEAL_GRS_AMT"            javaType="EZDCBigDecimalItem"/>
        <result property="entDealNetUnitPrcAmt_LL"     column="ENT_DEAL_NET_UNIT_PRC_AMT"       javaType="EZDCBigDecimalItem"/>
        <result property="ordLineStsCd_LL"             column="ORD_LINE_STS_CD"                 javaType="EZDCStringItem"/> <!-- 2016/01/28 S21_NA#3254 ADD -->
        <result property="ordLineStsDescTxt_LL"        column="ORD_LINE_STS_DESC_TXT"           javaType="EZDCStringItem"/> <!-- 2016/10/08 S21_NA#12462 ADD -->
        <result property="ordLineStsDescTxt_LD"        column="ORD_LINE_STS_DPLY_TXT"           javaType="EZDCStringItem"/>
        <result property="dsOrdLineCatgCd_LL"          column="DS_ORD_LINE_CATG_CD"             javaType="EZDCStringItem"/>
        <result property="dsOrdLineCatgDescTxt_LL"     column="DS_ORD_LINE_CATG_DESC_TXT"       javaType="EZDCStringItem"/>
        <result property="crRebilCd_LL"                column="CR_REBIL_CD"                     javaType="EZDCStringItem"/>
        <result property="crRebilDescTxt_LL"           column="CR_REBIL_DESC_TXT"               javaType="EZDCStringItem"/>
        <result property="rtlWhCd_LL"                  column="RTL_WH_CD"                       javaType="EZDCStringItem"/> <!-- 2016/10/05 S21_NA#14939 ADD -->
        <result property="rtlWhNm_LL"                  column="RTL_WH_NM"                       javaType="EZDCStringItem"/>
        <result property="rtlSwhCd_LL"                 column="RTL_SWH_CD"                      javaType="EZDCStringItem"/> <!-- 2016/10/05 S21_NA#14939 ADD -->
        <result property="rtlSwhNm_LL"                 column="RTL_SWH_NM"                      javaType="EZDCStringItem"/>
        <result property="ordLineSrcCd_LL"             column="ORD_LINE_SRC_CD"                 javaType="EZDCStringItem"/>
        <result property="custUomCd_LL"                column="PKG_UOM_CD"                      javaType="EZDCStringItem"/>
        <result property="prcCatgCd_LL"                column="PRC_CATG_CD"                     javaType="EZDCStringItem"/> <!-- 2016/10/05 S21_NA#14939 ADD -->
        <result property="prcCatgNm_LL"                column="PRC_CATG_NM"                     javaType="EZDCStringItem"/>
        <result property="flPrcListCd_LL"              column="FL_PRC_LIST_CD"                  javaType="EZDCStringItem"/>
        <result property="flPrcListNm_LL"              column="FL_PRC_LIST_NM"                  javaType="EZDCStringItem"/>
        <result property="dealPrcListPrcAmt_LL"        column="DEAL_PRC_LIST_PRC_AMT"           javaType="EZDCBigDecimalItem"/>
        <result property="serNum_LL"                   column="SER_NUM"                         javaType="EZDCStringItem"/>
        <result property="sbstMdseCd_LL"               column="SBST_MDSE_CD"                    javaType="EZDCStringItem"/>
        <result property="custMdseCd_LL"               column="CUST_MDSE_CD"                    javaType="EZDCStringItem"/>
        <result property="rddDt_LL"                    column="RDD_DT"                          javaType="EZDCStringItem"/>
        <result property="prcBaseDt_LL"                column="PRC_BASE_DT"                     javaType="EZDCStringItem"/>
        <result property="cratTsDplyTxt_LL"            column="CRAT_TS_DPLY_TXT"                javaType="EZDCStringItem"/>
        <result property="ordBookTsDplyTxt_LL"         column="ORD_BOOK_TS_DPLY_TXT"            javaType="EZDCStringItem"/>
        <result property="shipDtTsDplyTxt_LL"          column="SHIP_DT_TS_DPLY_TXT"             javaType="EZDCStringItem"/>
        <result property="schdDelyTsDplyTxt_LL"        column="SCHD_DELY_TS_DPLY_TXT"           javaType="EZDCStringItem"/>
        <result property="allocQty_LL"                 column="ALLOC_QTY"                       javaType="EZDCStringItem"/>
        <result property="shipQty_LL"                  column="SHIP_QTY"                        javaType="EZDCStringItem"/>
        <result property="invQty_LL"                   column="INV_QTY"                         javaType="EZDCStringItem"/>
        <result property="cancQty_LL"                  column="CANC_QTY"                        javaType="EZDCStringItem"/>
        <result property="cancRsnDescTxt_LL"           column="CANC_RSN_DESC_TXT"               javaType="EZDCStringItem"/>
        <result property="supdLockFlg_LL"              column="SUPD_LOCK_FLG"                   javaType="EZDCStringItem"/>
        <result property="prcListEquipConfigNum_LL"    column="PRC_LIST_EQUIP_CONFIG_NUM"       javaType="EZDCStringItem"/>
        <result property="prcListEquipConfigNm_LL"     column="PRC_LIST_EQUIP_CONFIG_NM"        javaType="EZDCStringItem"/>
        <result property="coaMdseTpDescTxt_LL"         column="COA_MDSE_TP_DESC_TXT"            javaType="EZDCStringItem"/>
        <result property="coaProdDescTxt_LL"           column="COA_PROD_DESC_TXT"               javaType="EZDCStringItem"/>
        <result property="mdseItemClsTpDescTxt_LL"     column="MDSE_ITEM_CLS_TP_DESC_TXT"       javaType="EZDCStringItem"/>
        <result property="mnfItemCd_LL"                column="MNF_ITEM_CD"                     javaType="EZDCStringItem"/>
        <result property="dplyLineRefNum_LL"           column="DPLY_LINE_REF_NUM"               javaType="EZDCStringItem"/>
        <result property="custIssPoNum_LL"             column="CUST_ISS_PO_NUM"                 javaType="EZDCStringItem"/>
        <result property="custIssPoDt_LL"              column="CUST_ISS_PO_DT"                  javaType="EZDCStringItem"/>
        <result property="cpoSrcTpDescTxt_LL"          column="CPO_SRC_TP_DESC_TXT"             javaType="EZDCStringItem"/>
        <result property="lineSrcRefNum_LL"            column="LINE_SRC_REF_NUM"                javaType="EZDCStringItem"/>
        <result property="ordSrcRefNum_LL"             column="ORD_SRC_REF_NUM"                 javaType="EZDCStringItem"/>
        <result property="setPrntLineNum_LL"           column="SET_PRNT_LINE_NUM"               javaType="EZDCStringItem"/>
        <result property="cmpsnRevnNum_LL"             column="CMPSN_REVN_NUM"                  javaType="EZDCStringItem"/>
        <result property="setMdseCd_LL"                column="SET_MDSE_CD"                     javaType="EZDCStringItem"/>
        <result property="cratUsrNm_LL"                column="CRAT_USR_NM"                     javaType="EZDCStringItem"/>
        <result property="updTsDplyTxt_LL"             column="UPD_TS_DPLY_TXT"                 javaType="EZDCStringItem"/>
        <result property="updUsrNm_LL"                 column="UPD_USR_NM"                      javaType="EZDCStringItem"/>
        <result property="lineDealSubTotAmt_LL"        column="LINE_DEAL_SUB_TOT_AMT"           javaType="EZDCBigDecimalItem"/>
        <result property="lineDealChrgAmt_LL"          column="LINE_DEAL_CHRG_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="lineDealTaxAmt_LL"           column="LINE_DEAL_TAX_AMT"               javaType="EZDCBigDecimalItem"/>
        <result property="lineDealTotAmt_LL"           column="LINE_DEAL_TOT_AMT"               javaType="EZDCBigDecimalItem"/>

        <!-- Line Config Tab ** Line Level ** Hidden -->
        <result property="ordQty_LL"                   column="ORD_QTY"                         javaType="EZDCBigDecimalItem"/>
        <result property="cpoDtlDealTaxAmt_LL"         column="CPO_DTL_DEAL_TAX_AMT"            javaType="EZDCBigDecimalItem"/>
        <result property="istlQty_LL"                  column="ISTL_QTY"                        javaType="EZDCStringItem"/>
        <result property="shopItemFlg_LL"              column="SHOP_ITEM_FLG"                   javaType="EZDCStringItem"/>
        <result property="dsCpoConfigPk_LL"            column="DS_CPO_CONFIG_PK"                javaType="EZDCBigDecimalItem"/>
        <result property="baseCmptFlg_LL"              column="BASE_CMPT_FLG"                   javaType="EZDCStringItem"/>
        <result property="dsContrNum_LL"               column="DS_CONTR_NUM"                    javaType="EZDCStringItem"/>
        <result property="dsContrSqNum_LL"             column="DS_CONTR_SQ_NUM"                 javaType="EZDCStringItem"/>
        <result property="bllgAttrbCustAcctCd_LL"      column="BLLG_ATTRB_CUST_ACCT_CD"         javaType="EZDCStringItem"/>
        <result property="firstBllgAttrbNm_LL"         column="FIRST_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="firstBllgAttrbValTxt_LL"     column="FIRST_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="scdBllgAttrbNm_LL"           column="SCD_BLLG_ATTRB_NM"               javaType="EZDCStringItem"/>
        <result property="scdBllgAttrbValTxt_LL"       column="SCD_BLLG_ATTRB_VAL_TXT"          javaType="EZDCStringItem"/>
        <result property="thirdBllgAttrbNm_LL"         column="THIRD_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="thirdBllgAttrbValTxt_LL"     column="THIRD_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="frthBllgAttrbNm_LL"          column="FRTH_BLLG_ATTRB_NM"              javaType="EZDCStringItem"/>
        <result property="frthBllgAttrbValTxt_LL"      column="FRTH_BLLG_ATTRB_VAL_TXT"         javaType="EZDCStringItem"/>
        <result property="fifthBllgAttrbNm_LL"         column="FIFTH_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="fifthBllgAttrbValTxt_LL"     column="FIFTH_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="sixthBllgAttrbNm_LL"         column="SIXTH_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="sixthBllgAttrbValTxt_LL"     column="SIXTH_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="splyTpCd_LL"                 column="SPLY_TP_CD"                      javaType="EZDCStringItem"/>
        <result property="splyNm_LL"                   column="SPLY_NM"                         javaType="EZDCStringItem"/>
        <result property="splyFirstAddr_LL"            column="SPLY_FIRST_ADDR"                 javaType="EZDCStringItem"/>
        <result property="splyCtyAddr_LL"              column="SPLY_CTY_ADDR"                   javaType="EZDCStringItem"/>
        <result property="splyStCd_LL"                 column="SPLY_ST_CD"                      javaType="EZDCStringItem"/>
        <result property="splyPostCd_LL"               column="SPLY_POST_CD"                    javaType="EZDCStringItem"/>
        <result property="xxYesNoCd_LL"                column="CTRL_INPUT"                      javaType="EZDCStringItem"/><!-- 2016/02/09 S21_NA#3398 Add -->
        <result property="csmpPrcListCd_LL"            column="CSMP_PRC_LIST_CD"                javaType="EZDCStringItem"/> <!-- 2016/03/01 Order Entry #7 Add -->
        <result property="childMdseQty_LL"             column="CHILD_MDSE_QTY"                  javaType="EZDCBigDecimalItem"/>
        <result property="loanBalQty_LL"               column="LOAN_BAL_QTY"                    javaType="EZDCBigDecimalItem"/><!-- 2016/04/15 NA QC#7099 ADD -->
        <!-- 2016/05/10 S21_NA#7706 Add Start -->
        <result property="funcSvcRevTrnsfAmt_LL"       column="FUNC_SVC_REV_TRNSF_AMT"          javaType="EZDCBigDecimalItem"/>
        <result property="dealSvcRevTrnsfAmt_LL"       column="DEAL_SVC_REV_TRNSF_AMT"          javaType="EZDCBigDecimalItem"/>
        <result property="funcSvcCostTrnsfAmt_LL"      column="FUNC_SVC_COST_TRNSF_AMT"         javaType="EZDCBigDecimalItem"/>
        <result property="dealSvcCostTrnsfAmt_LL"      column="DEAL_SVC_COST_TRNSF_AMT"         javaType="EZDCBigDecimalItem"/>
        <result property="funcManFlAdjAmt_LL"          column="FUNC_MAN_FL_ADJ_AMT"             javaType="EZDCBigDecimalItem"/>
        <result property="dealManFlAdjAmt_LL"          column="DEAL_MAN_FL_ADJ_AMT"             javaType="EZDCBigDecimalItem"/>
        <result property="funcManRepRevAdjAmt_LL"      column="FUNC_MAN_REP_REV_ADJ_AMT"        javaType="EZDCBigDecimalItem"/>
        <result property="dealManRepRevAdjAmt_LL"      column="DEAL_MAN_REP_REV_ADJ_AMT"        javaType="EZDCBigDecimalItem"/>
        <!-- 2016/05/10 S21_NA#7706 Add End -->
        <!-- S21_NA#7606 ADD Start -->
        <result property="origCpoOrdNum_LL"            column="ORIG_CPO_ORD_NUM"                javaType="EZDCStringItem"/>
        <result property="origCpoDtlLineNum_LL"        column="ORIG_CPO_DTL_LINE_NUM"           javaType="EZDCStringItem"/>
        <result property="origCpoDtlLineSubNum_LL"     column="ORIG_CPO_DTL_LINE_SUB_NUM"       javaType="EZDCStringItem"/>
        <result property="ordSrcRefLineNum_LL"         column="ORD_SRC_REF_LINE_NUM"            javaType="EZDCStringItem"/>
        <result property="ordSrcRefLineSubNum_LL"      column="ORD_SRC_REF_LINE_SUB_NUM"        javaType="EZDCStringItem"/>
        <!-- S21_NA#7606 ADD End -->
        <result property="svcMachMstrPk_LL"            column="SVC_MACH_MSTR_PK"                javaType="EZDCBigDecimalItem"/>
        <!-- 2016/06/10 S21_NA#8912 Add Start -->
        <result property="csmpContrNum_LL"             column="CSMP_CONTR_NUM"                  javaType="EZDCStringItem"/>
        <result property="dlrRefNum_LL"                column="DLR_REF_NUM"                     javaType="EZDCStringItem"/>
        <!-- 2016/06/10 S21_NA#8912 Add Start -->
        <result property="origInvNum_LL"               column="ORIG_INV_NUM"                    javaType="EZDCStringItem"/> <!-- 2016/06/02 S21_NA#10893 Add -->
        <!-- 2016/07/04 S21_NA#7645 Add Start -->
        <result property="rtlWhCd_LL"                  column="RTL_WH_CD"                       javaType="EZDCStringItem"/>
        <result property="rtlSwhCd_LL"                 column="RTL_SWH_CD"                      javaType="EZDCStringItem"/>
        <!-- 2016/07/04 S21_NA#7645 Add End -->
        <!-- 2016/07/29 S21_NA#11852 Add Start -->
        <result property="ordUpldRefNum_LL"            column="ORD_UPLD_REF_NUM"                javaType="EZDCStringItem"/>
        <!-- 2016/07/29 S21_NA#11852 Add End -->
        <!-- 2016/09/27 S21_NA#12598 Add Start -->
        <result property="cpoDtlDealGrsAmt_LL"         column="CPO_DTL_DEAL_GRS_AMT"            javaType="EZDCBigDecimalItem"/>
        <!-- 2016/09/27 S21_NA#12598 Add End -->
        <!-- 2016/09/21 S21_NA#10274 Add Start -->
        <result property="mdseCd_LB"                   column="MDSE_CD"                         javaType="EZDCStringItem"/>
        <result property="cpoDtlLineNum_LB"            column="CPO_DTL_LINE_NUM"                javaType="EZDCStringItem"/>
        <result property="cpoDtlLineSubNum_LB"         column="CPO_DTL_LINE_SUB_NUM"            javaType="EZDCStringItem"/>
        <!-- 2016/09/21 S21_NA#10274 Add End -->
        <result property="origMdseCd_LL"               column="ORIG_MDSE_CD"                    javaType="EZDCStringItem"/>  <!-- 2016/09/29 S21_NA#14805 Add -->
        <result property="boQty_LL"                    column="BO_QTY"                          javaType="EZDCBigDecimalItem"/> <!-- 2016/10/05 S21_NA#7645-3 Add Start -->
        <result property="coaMdseTpCd_LL"              column="COA_MDSE_TP_CD"                  javaType="EZDCStringItem"/>  <!-- 2017/01/04 S21_NA#13768 Add -->
        <result property="origInvtyLocCd_LL"           column="ORIG_INVTY_LOC_CD"               javaType="EZDCStringItem"/> <!-- 2017/10/18 S21_NA#21730 Add -->
        <result property="funcUnitFlPrcAmt_LL"         column="FUNC_UNIT_FL_PRC_AMT"            javaType="EZDCBigDecimalItem"/> <!-- 2018/01/10 S21_NA#22372 Add -->
        <!-- 2018/08/06 S21_NA#27642 Add Start -->
        <result property="dsCpoDtlUpdUsrId_LL"            column="DS_CPO_DTL_UPD_USR_ID"           javaType="EZDCStringItem"/>
        <!-- 2018/08/06 S21_NA#27642 Add End -->
        <!-- 2019/10/04 S21_NA#51372 Add Start -->
        <result property="prntVndNm_LL"                column="PRNT_VND_NM"                     javaType="EZDCStringItem"/>
        <!-- 2019/10/04 S21_NA#51372 Add End -->
        <!-- QC#55731 2020/03/27 Add Start -->
        <result property="prntVndNm_LL"                column="PRNT_VND_NM"                     javaType="EZDCStringItem"/>
        <result property="dropShipFlg_LL"              column="DROP_SHIP_FLG"                   javaType="EZDCStringItem"/>
        <result property="shipToCustCd_LL"             column="SHIP_TO_CUST_CD"                 javaType="EZDCStringItem"/>
        <result property="shipToLocNm_LL"              column="SHIP_TO_LOC_NM"                  javaType="EZDCStringItem"/>
        <result property="shipToAddlLocNm_LL"          column="SHIP_TO_ADDL_LOC_NM"             javaType="EZDCStringItem"/>
        <result property="shipToFirstLineAddr_LL"      column="SHIP_TO_FIRST_LINE_ADDR"         javaType="EZDCStringItem"/>
        <result property="shipToScdLineAddr_LL"        column="SHIP_TO_SCD_LINE_ADDR"           javaType="EZDCStringItem"/>
        <result property="shipToThirdLineAddr_LL"      column="SHIP_TO_THIRD_LINE_ADDR"         javaType="EZDCStringItem"/>
        <result property="shipToFrthLineAddr_LL"       column="SHIP_TO_FRTH_LINE_ADDR"          javaType="EZDCStringItem"/>
        <result property="shipToFirstRefCmntTxt_LL"    column="SHIP_TO_FIRST_REF_CMNT_TXT"      javaType="EZDCStringItem"/>
        <result property="shipToScdRefCmntTxt_LL"      column="SHIP_TO_SCD_REF_CMNT_TXT"        javaType="EZDCStringItem"/>
        <result property="shipToCtyAddr_LL"            column="SHIP_TO_CTY_ADDR"                javaType="EZDCStringItem"/>
        <result property="shipToStCd_LL"               column="SHIP_TO_ST_CD"                   javaType="EZDCStringItem"/>
        <result property="shipToProvNm_LL"             column="SHIP_TO_PROV_NM"                 javaType="EZDCStringItem"/>
        <result property="shipToCntyNm_LL"             column="SHIP_TO_CNTY_NM"                 javaType="EZDCStringItem"/>
        <result property="shipToPostCd_LL"             column="SHIP_TO_POST_CD"                 javaType="EZDCStringItem"/>
        <result property="shipToCtryCd_LL"             column="SHIP_TO_CTRY_CD"                 javaType="EZDCStringItem"/>
        <!-- QC#55731 2020/03/27 Add End -->
    </resultMap>

    <statement id="getCpoRtrnDtlViewInfo" parameterClass="Map"  resultMap="result.getCpoRtrnDtlInfo">
        SELECT  
            <!-- 2018/11/09 Add Start QC#28804 -->
            /*+ USE_NL(DOS.SP)
                INDEX(DOS.SP SHPG_PLN_I12)
                USE_NL(SCM)
                USE_NL(RD.RSW)
                USE_NL(DCC)
                USE_NL(RD.FPC)
                USE_NL(RD.PC)
                USE_NL(RD.INAP)
                USE_NL(RD.UPAP)            */
            <!-- 2018/11/09 Add End QC#28804 -->  
            <!-- RMA Tab ** Line Level -->
              RD.DS_ORD_POSN_NUM                                            DS_ORD_POSN_NUM
            , RD.DS_CPO_LINE_NUM                                            DS_CPO_LINE_NUM
            , RD.DS_CPO_LINE_SUB_NUM                                        DS_CPO_LINE_SUB_NUM
            , RD.DS_CPO_RTRN_LINE_NUM                                       DS_CPO_RTRN_LINE_NUM
            , RD.DS_CPO_RTRN_LINE_SUB_NUM                                   DS_CPO_RTRN_LINE_SUB_NUM
            , RD.DPLY_LINE_NUM                                              DPLY_LINE_NUM
            , RD.MDSE_CD                                                    MDSE_CD
            , RD.MDSE_NM                                                    MDSE_NM
            , RD.MDSE_DESC_SHORT_TXT                                        MDSE_DESC_SHORT_TXT
            , RD.ORIG_MDSE_CD                                               ORIG_MDSE_CD <!-- QC#26415 2018/06/07 Add -->
            , RD.ORD_CUST_UOM_QTY                                           ORD_CUST_UOM_QTY
            , RD.RTRN_RSN_CD                                                RTRN_RSN_CD
            , NVL(RD.CPO_DTL_DEAL_GRS_AMT, 0)                               CPO_DTL_DEAL_GRS_AMT
            , RD.ENT_DEAL_NET_UNIT_PRC_AMT                                  ENT_DEAL_NET_UNIT_PRC_AMT
            , RD.RTRN_LINE_STS_CD                                           ORD_LINE_STS_CD <!-- 2016/01/28 S21_NA#3254 ADD -->
            , DOS.ORD_LINE_STS_NM                                           RTRN_LINE_STS_DESC_TXT
            , RD.DS_ORD_LINE_CATG_DESC_TXT                                  DS_ORD_LINE_CATG_DESC_TXT
            , RD.DS_ORD_LINE_CATG_CD                                        DS_ORD_LINE_CATG_CD
            , RD.RTL_WH_CD                                                  RTL_WH_CD <!-- 2016/10/05 S21_NA#14939 ADD -->
            , RD.RTL_WH_NM                                                  RTL_WH_NM
            , RD.RTL_SWH_CD                                                 RTL_SWH_CD <!-- 2016/10/05 S21_NA#14939 ADD -->
            , RD.RTL_SWH_NM                                                 RTL_SWH_NM
            , RD.CUST_UOM_CD                                                CUST_UOM_CD
            , RD.PRC_CATG_CD                                                PRC_CATG_CD <!-- 2016/10/05 S21_NA#14939 ADD -->
            , RD.PRC_CATG_NM                                                PRC_CATG_NM
            , RD.FL_PRC_LIST_NM                                             FL_PRC_LIST_NM
            , RD.DEAL_PRC_LIST_PRC_AMT                                      DEAL_PRC_LIST_PRC_AMT
            , RD.SER_NUM                                                    SER_NUM
            , RD.CUST_MDSE_CD                                               CUST_MDSE_CD
            , RD.RQST_PICK_UP_DT                                            RQST_PICK_UP_DT
            , RD.PRC_BASE_DT                                                PRC_BASE_DT
            , RD.CRAT_TS_DPLY_TXT                                           CRAT_TS_DPLY_TXT
            , RD.ORD_BOOK_TS_DPLY_TXT                                       ORD_BOOK_TS_DPLY_TXT
            , RD.SCHD_PICK_UP_DT_DPLY_TXT                                   SCHD_PICK_UP_DT_DPLY_TXT
            , RD.RCV_TS_DPLY_TXT                                            RCV_TS_DPLY_TXT
            , RD.RTRN_QTY                                                   RTRN_QTY
            , RD.CANC_QTY                                                   CANC_QTY
            , RD.CANC_RSN_DESC_TXT                                          CANC_RSN_DESC_TXT
            , RD.COA_MDSE_TP_DESC_TXT                                       COA_MDSE_TP_DESC_TXT
            , RD.COA_PROD_DESC_TXT                                          COA_PROD_DESC_TXT
            , RD.MDSE_ITEM_CLS_TP_DESC_TXT                                  MDSE_ITEM_CLS_TP_DESC_TXT
            , RD.MNF_ITEM_CD                                                MNF_ITEM_CD
            , RD.DPLY_LINE_REF_NUM                                          DPLY_LINE_REF_NUM
            , RD.CUST_ISS_PO_NUM                                            CUST_ISS_PO_NUM
            , RD.CUST_ISS_PO_DT                                             CUST_ISS_PO_DT
            , RD.CPO_SRC_TP_DESC_TXT                                        CPO_SRC_TP_DESC_TXT
            , NVL(RD.ORD_UPLD_REF_NUM, RD.ORD_SRC_REF_NUM)                  ORD_SRC_REF_NUM <!-- 2016/07/29 S21_NA#11852 MOD -->
            , RD.LINE_SRC_REF_NUM                                           LINE_SRC_REF_NUM
            , RD.SET_PRNT_LINE_NUM                                          SET_PRNT_LINE_NUM
            , RD.CMPSN_REVN_NUM                                             CMPSN_REVN_NUM
            , RD.SET_MDSE_CD                                                SET_MDSE_CD
            , RD.CRAT_USR_NM                                                CRAT_USR_NM
            , RD.UPD_TS_DPLY_TXT                                            UPD_TS_DPLY_TXT
            , RD.UPD_USR_NM                                                 UPD_USR_NM
            , NVL(RD.LINE_DEAL_SUB_TOT_AMT,0)                               LINE_DEAL_SUB_TOT_AMT
            , NVL(RD.LINE_DEAL_CHRG_AMT,0)                                  LINE_DEAL_CHRG_AMT
            , NVL(RD.LINE_DEAL_TAX_AMT,0)                                   LINE_DEAL_TAX_AMT
            , NVL(RD.LINE_DEAL_TOT_AMT,0)                                   LINE_DEAL_TOT_AMT
            , RD.HDD_RMV_CD                                                 HDD_RMV_CD
            <!-- RMA Tab ** Line Level ** Hidden -->
            , RD.ORD_QTY                                                    ORD_QTY
            , RD.DS_CPO_RTRN_LINE_NUM                                       DS_CPO_RTRN_LINE_NUM
            , RD.DS_CPO_RTRN_LINE_SUB_NUM                                   DS_CPO_RTRN_LINE_SUB_NUM
            , RD.CPO_DTL_DEAL_TAX_AMT                                       CPO_DTL_DEAL_TAX_AMT
            , RD.ENT_DEAL_NET_UNIT_PRC_AMT * RD.ORD_QTY                     CPO_LINE_TOT_AMT
            , RD.DS_CPO_CONFIG_PK                                           DS_CPO_CONFIG_PK
            , RD.EZUPTIME                                                   EZUPTIME
            , RD.EZUPTIMEZONE                                               EZUPTIMEZONE
            , RD.BLLG_ATTRB_CUST_ACCT_CD                                    BLLG_ATTRB_CUST_ACCT_CD
            , RD.FIRST_BLLG_ATTRB_NM                                        FIRST_BLLG_ATTRB_NM
            , RD.FIRST_BLLG_ATTRB_VAL_TXT                                   FIRST_BLLG_ATTRB_VAL_TXT
            , RD.SCD_BLLG_ATTRB_NM                                          SCD_BLLG_ATTRB_NM
            , RD.SCD_BLLG_ATTRB_VAL_TXT                                     SCD_BLLG_ATTRB_VAL_TXT
            , RD.THIRD_BLLG_ATTRB_NM                                        THIRD_BLLG_ATTRB_NM
            , RD.THIRD_BLLG_ATTRB_VAL_TXT                                   THIRD_BLLG_ATTRB_VAL_TXT
            , RD.FRTH_BLLG_ATTRB_NM                                         FRTH_BLLG_ATTRB_NM
            , RD.FRTH_BLLG_ATTRB_VAL_TXT                                    FRTH_BLLG_ATTRB_VAL_TXT
            , RD.FIFTH_BLLG_ATTRB_NM                                        FIFTH_BLLG_ATTRB_NM
            , RD.FIFTH_BLLG_ATTRB_VAL_TXT                                   FIFTH_BLLG_ATTRB_VAL_TXT
            , RD.SIXTH_BLLG_ATTRB_NM                                        SIXTH_BLLG_ATTRB_NM
            , RD.SIXTH_BLLG_ATTRB_VAL_TXT                                   SIXTH_BLLG_ATTRB_VAL_TXT
            <!-- 2016/02/09 S21_NA#3398 Add Start -->
            , CASE
                WHEN SCM.SVC_CONFIG_MSTR_PK IS NOT NULL THEN 'Y'
                ELSE 'N' END AS CTRL_INPUT
            <!-- 2016/02/09 S21_NA#3398 Add End -->
            , RD.CHILD_MDSE_QTY                                             CHILD_MDSE_QTY
            <!-- 2016/05/10 S21_NA#7706 Add Start -->
            , RD.FUNC_SVC_REV_TRNSF_AMT                                     FUNC_SVC_REV_TRNSF_AMT
            , RD.DEAL_SVC_REV_TRNSF_AMT                                     DEAL_SVC_REV_TRNSF_AMT
            , RD.FUNC_SVC_COST_TRNSF_AMT                                    FUNC_SVC_COST_TRNSF_AMT
            , RD.DEAL_SVC_COST_TRNSF_AMT                                    DEAL_SVC_COST_TRNSF_AMT
            , RD.FUNC_MAN_FL_ADJ_AMT                                        FUNC_MAN_FL_ADJ_AMT
            , RD.DEAL_MAN_FL_ADJ_AMT                                        DEAL_MAN_FL_ADJ_AMT
            , RD.FUNC_MAN_REP_REV_ADJ_AMT                                   FUNC_MAN_REP_REV_ADJ_AMT
            , RD.DEAL_MAN_REP_REV_ADJ_AMT                                   DEAL_MAN_REP_REV_ADJ_AMT
            <!-- 2016/05/10 S21_NA#7706 Add End -->
            <!-- S21_NA#7606 ADD Start -->
            , RD.ORIG_CPO_ORD_NUM                                           ORIG_CPO_ORD_NUM
            , RD.ORIG_CPO_DTL_LINE_NUM                                      ORIG_CPO_DTL_LINE_NUM
            , RD.ORIG_CPO_DTL_LINE_SUB_NUM                                  ORIG_CPO_DTL_LINE_SUB_NUM
            , RD.ORD_SRC_REF_LINE_NUM                                       ORD_SRC_REF_LINE_NUM
            , RD.ORD_SRC_REF_LINE_SUB_NUM                                   ORD_SRC_REF_LINE_SUB_NUM
            <!-- S21_NA#7606 ADD End -->
            , RD.SVC_MACH_MSTR_PK                                           SVC_MACH_MSTR_PK
            <!-- 2016/06/10 S21_NA#8912 Add Start -->
            , RD.CSMP_CONTR_NUM                                             CSMP_CONTR_NUM
            , RD.DLR_REF_NUM                                                DLR_REF_NUM
            <!-- 2016/06/10 S21_NA#8912 Add End -->
            , RD.DS_CONTR_NUM                                               DS_CONTR_NUM <!-- 2016/10/10 S21_NA#15614 Add-->
            , RD.DS_CONTR_SQ_NUM                                            DS_CONTR_SQ_NUM<!-- 2016/10/10 S21_NA#15614 Add-->
            , RD.ORD_UPLD_REF_NUM                                           ORD_UPLD_REF_NUM <!-- 2016/07/29 S21_NA#11852 Add -->
            , RD.CR_REBIL_CD                                                CR_REBIL_CD <!-- 2016/08/02 S21_NA#12607 Add -->
            , RD.ORIG_INV_NUM                                               ORIG_INV_NUM <!-- 2016/08/04 S21_NA#12685 Add -->
            , RD.REF_CPO_DTL_LINE_NUM                                       REF_CPO_DTL_LINE_NUM <!-- 2016/08/04 S21_NA#12685 Add -->
            , RD.REF_CPO_DTL_LINE_SUB_NUM                                   REF_CPO_DTL_LINE_SUB_NUM <!-- 2016/08/04 S21_NA#12685 Add -->
            , RD.THIRD_PTY_DSP_TP_CD                                        THIRD_PTY_DSP_TP_CD <!-- S21_NA#12685 Add -->
            , RD.CPO_DTL_DEAL_GRS_AMT                                       CPO_DTL_DEAL_GRS_AMT <!-- 2016/09/27 S21_NA#12598 Add -->
            , RD.BASE_CMPT_FLG                                              BASE_CMPT_FLG <!-- 2016/12/06 S21_NA#15898 Add -->
            <!-- 2018/08/14 S21_NA#27718 Mod Start -->
            , RD.ORIG_INV_LINE_NUM                                          INV_LINE_NUM
            , RD.ORIG_INV_LINE_SUB_NUM                                      INV_LINE_SUB_NUM
            , RD.ORIG_INV_NUM                                               INV_REF_NUM
            , RD.ORIG_INV_LINE_NUM
              || DECODE(RD.ORIG_INV_LINE_NUM, NULL, '', '.')
              || RD.ORIG_INV_LINE_SUB_NUM                                   INV_LINE_REF_NUM
            <!-- 2017/12/05 S21_NA#21702 Add Start -->
            <!-- , IL.INV_LINE_NUM                                               INV_LINE_NUM -->
            <!-- , IL.INV_LINE_SUB_NUM                                           INV_LINE_SUB_NUM -->
            <!-- , IL.INV_NUM                                                    INV_REF_NUM -->
            <!-- , IL.INV_LINE_NUM -->
            <!--   || DECODE(IL.INV_LINE_NUM, NULL, '', '.') -->
            <!--   || IL.INV_LINE_SUB_NUM                                         INV_LINE_REF_NUM-->
            <!-- 2017/12/05 S21_NA#21702 Add End -->
            <!-- 2018/08/14 S21_NA#27718 Mod End -->
            , RD.FUNC_UNIT_FL_PRC_AMT                                       FUNC_UNIT_FL_PRC_AMT <!-- 2018/01/10 S21_NA#22372 Add -->
            , NVL2(RWS.RWS_NUM, 'Y', 'N')                                   RWS_OPEN_FLG <!-- 2018/10/25 S21_NA#28897 Add -->
            , RD.ORIG_INVTY_LOC_CD                                          ORIG_INVTY_LOC_CD <!-- 2018/11/16 S21_NA#27299 Add -->
        FROM
              DS_CPO_RTRN_DTL_V            RD
            , DS_CPO_CONFIG                DCC <!-- 2016/02/09 S21_NA#3398 Add -->
            , PKG_UOM                      PU
            , SVC_CONFIG_MSTR              SCM <!-- 2016/02/10 S21_NA#3398 Add -->
            , DS_ORD_STS_V                 DOS
            <!-- 2018/08/14 S21_NA#27718 Del Start -->
            <!-- 2017/12/05 S21_NA#21702 Add Start -->
            <!-- , INV_LINE                     IL -->
            <!-- 2017/12/05 S21_NA#21702 Add End -->
            <!-- 2018/08/14 S21_NA#27718 Del End -->
            <!-- 2018/10/25 S21_NA#28897 Add Start -->
            , (
                 SELECT
                     RH.GLBL_CMPY_CD
                     ,RH.RWS_NUM
                     ,RH.TRX_ORD_NUM
                     ,RD.TRX_LINE_NUM
                     ,RD.TRX_LINE_SUB_NUM
                     <!-- 2019/03/14 S21_NA#30700 Add Start -->
                     ,ROW_NUMBER() OVER(PARTITION BY RH.TRX_ORD_NUM, RD.TRX_LINE_NUM, RD.TRX_LINE_SUB_NUM ORDER BY RH.RWS_NUM) AS ROW_NUM
                     <!-- 2019/03/14 S21_NA#30700 Add End -->
                 FROM
                     RWS_HDR RH
                    ,RWS_DTL RD
                 WHERE
                     RH.GLBL_CMPY_CD             = #glblCmpyCd#
                     AND RH.TRX_ORD_NUM          = #cpoOrdNum#
                     AND RH.RWS_STS_CD           <![CDATA[<>]]> #rwsCanceled#
                     AND RH.EZCANCELFLAG         = '0'
                     AND RH.GLBL_CMPY_CD         = RD.GLBL_CMPY_CD
                     AND RH.RWS_NUM              = RD.RWS_NUM
                     AND RD.RWS_STS_CD           <![CDATA[<>]]> #rwsCanceled#
                     AND RD.EZCANCELFLAG         = '0'
               ) RWS
            <!-- 2018/10/25 S21_NA#28897 Add End -->
        WHERE
                RD.GLBL_CMPY_CD                 = #glblCmpyCd#
            AND RD.CPO_ORD_NUM                  = #cpoOrdNum#
            AND RD.EZCANCELFLAG                 = '0'

            <!-- 2016/02/09 S21_NA#3398 Add Start -->
            AND RD.GLBL_CMPY_CD                 = DCC.GLBL_CMPY_CD
            AND RD.DS_CPO_CONFIG_PK             = DCC.DS_CPO_CONFIG_PK
            AND DCC.EZCANCELFLAG                = '0'
            <!-- 2016/02/09 S21_NA#3398 Add End -->

            AND RD.GLBL_CMPY_CD                 = PU.GLBL_CMPY_CD
            AND RD.CUST_UOM_CD                  = PU.PKG_UOM_CD
            AND PU.EZCANCELFLAG                 = '0'

            <!-- 2016/02/10 S21_NA#3398 Add Start -->
            AND DCC.GLBL_CMPY_CD             = SCM.GLBL_CMPY_CD(+)
            AND DCC.SVC_CONFIG_MSTR_PK       = SCM.SVC_CONFIG_MSTR_PK(+)
            AND SCM.EZCANCELFLAG(+)          = '0'
            <!-- 2016/02/10 S21_NA#3398 Add End -->

            AND RD.GLBL_CMPY_CD                 = DOS.GLBL_CMPY_CD
            AND RD.CPO_ORD_NUM                  = DOS.CPO_ORD_NUM
            AND RD.DS_CPO_RTRN_LINE_NUM         = DOS.DS_CPO_RTRN_LINE_NUM
            AND RD.DS_CPO_RTRN_LINE_SUB_NUM     = DOS.DS_CPO_RTRN_LINE_SUB_NUM
            AND DOS.EZCANCELFLAG                = '0'

            <!-- 2018/08/14 S21_NA#27718 Del Start -->
            <!-- 2017/12/05 S21_NA#21702 Add Start -->
            <!-- AND RD.GLBL_CMPY_CD                 = IL.GLBL_CMPY_CD(+) -->
            <!-- AND RD.ORIG_INV_NUM                 = IL.INV_NUM(+) -->
            <!-- AND RD.ORD_SRC_REF_LINE_NUM         = IL.CPO_DTL_LINE_NUM(+) -->
            <!-- AND RD.ORD_SRC_REF_LINE_SUB_NUM     = IL.CPO_DTL_LINE_SUB_NUM(+) -->
            <!-- AND IL.EZCANCELFLAG(+)              = '0' -->
            <!-- 2018/07/31 S21_NA#27478 Add Start -->
            <!-- AND (IL.INV_LINE_CATG_CD IS NULL -->
            <!--    OR IL.INV_LINE_CATG_CD             = #invLineCatgCd#) -->
            <!-- 2018/07/31 S21_NA#27478 Add End -->
            <!-- 2018/08/14 S21_NA#27718 Del End -->
            <!-- 2017/12/05 S21_NA#21702 Add End -->

            <!-- 2018/10/25 S21_NA#28897 Add Start -->
            AND RD.GLBL_CMPY_CD               = RWS.GLBL_CMPY_CD(+)
            AND RD.CPO_ORD_NUM                = RWS.TRX_ORD_NUM(+)
            AND RD.DS_CPO_RTRN_LINE_NUM       = RWS.TRX_LINE_NUM(+)
            AND RD.DS_CPO_RTRN_LINE_SUB_NUM   = RWS.TRX_LINE_SUB_NUM(+)
            <!-- 2018/10/25 S21_NA#28897 Add End -->
            <!-- 2019/03/14 S21_NA#30700 Add Start -->
            AND RWS.ROW_NUM(+)                = 1
            <!-- 2019/03/14 S21_NA#30700 Add End -->

            <!-- 2017/08/07 Sol#249 Add Start -->
            <isEqual property="xxResFltrFlg" compareValue="Y">
                <isNotNull property = "xxLineNum_FR">
                    AND RD.DPLY_LINE_NUM = #xxLineNum_FR#
                </isNotNull>
                <isNotNull property = "xxLineStsSrchTxt_FR">
                    AND DOS.ORD_LINE_STS_NM IN
                    <iterate property="xxLineStsSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                        #elem[]#
                    </iterate>
                </isNotNull>
                AND (
                     1 = 1
                     <isEqual property="xxShowInclCloLineFlg_FR" compareValue="N">
                         AND DOS.ORD_LINE_STS_NM <![CDATA[<>]]> 'CLOSED'
                     </isEqual>
                     <isEqual property="xxShowInclCancLineFlg_FR" compareValue="N">
                         AND DOS.ORD_LINE_STS_NM <![CDATA[<>]]> 'CANCELLED'
                     </isEqual>
                     OR DOS.ORD_LINE_STS_NM IS NULL
                )
                <isNotNull property = "xxOrdItemSrchTxt_FR">
                    AND RD.MDSE_CD IN
                    <iterate property="xxOrdItemSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                        #elem[]#
                    </iterate>
                </isNotNull>
                <isNotNull property = "xxRtrnRsnSrchTxt_FR">
                    AND RD.RTRN_RSN_CD = (
                                          SELECT RSN.RTRN_RSN_CD
                                          FROM RTRN_RSN RSN
                                          WHERE RSN.GLBL_CMPY_CD = #glblCmpyCd#
                                            AND RSN.RTRN_RSN_NM  = #xxRtrnRsnSrchTxt_FR#
                                         )
                </isNotNull>
                <isNotNull property = "xxRtlWhSrchTxt_FR">
                    AND RD.RTL_WH_NM = #xxRtlWhSrchTxt_FR#
                </isNotNull>
                <isNotNull property = "xxRtlSwhSrchTxt_FR">
                    AND RD.RTL_SWH_NM IN
                    <iterate property="xxRtlSwhSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                        #elem[]#
                    </iterate>
                </isNotNull>
                <isNotNull property = "xxOrdSrcRefNumSrchTxt_FR">
                    AND RD.LINE_SRC_REF_NUM = #xxOrdSrcRefNumSrchTxt_FR#
                </isNotNull>
                <isNotNull property = "xxSerNumSrchTxt_FR">
                    AND RD.SER_NUM = #xxSerNumSrchTxt_FR#
                </isNotNull>

                <isEqual property="xxConfig_RmaFlg" compareValue="Y">
                    AND EXISTS (
                        SELECT 1
                        FROM
                            DS_CPO_CONFIG_V DCCV
                        WHERE
                            DCCV.GLBL_CMPY_CD                = RD.GLBL_CMPY_CD
                            AND DCCV.DS_CPO_CONFIG_PK        = RD.DS_CPO_CONFIG_PK
                            AND DCCV.EZCANCELFLAG            = '0'

                            <isNotNull property = "dsOrdPosnNum_FR">
                                AND DCCV.DS_ORD_POSN_NUM = #dsOrdPosnNum_FR#
                            </isNotNull>
                            <isNotNull property = "xxConfigIdSrchTxt_FR">
                                AND (DCCV.SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FR#
                                    OR DCCV.PICK_SVC_CONFIG_MSTR_PK = #xxConfigIdSrchTxt_FR#
                                )
                            </isNotNull>
                            <isNotNull property = "xxMdlSrchTxt_FR">
                                AND DCCV.T_MDL_NM IN
                                <iterate property="xxMdlSrchTxt_FR" var="elem[]" open="(" close=")" conjunction=",">
                                    #elem[]#
                                </iterate>
                            </isNotNull>
                            <isNotNull property = "xxBillToAcctNmSrchTxt_FR">
                                AND DCCV.BILL_TO_CUST_ACCT_NM = #xxBillToAcctNmSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxBillToAcctCdSrchTxt_FR">
                                AND DCCV.BILL_TO_CUST_ACCT_CD = #xxBillToAcctCdSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxBillToLocCdSrchTxt_FR">
                                AND DCCV.BILL_TO_CUST_LOC_CD = #xxBillToLocCdSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxShipToAcctNmSrchTxt_FR">
                                AND DCCV.SHIP_TO_CUST_ACCT_NM = #xxShipToAcctNmSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxShipToAcctCdSrchTxt_FR">
                                AND DCCV.SHIP_TO_CUST_ACCT_CD = #xxShipToAcctCdSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxShipToLocCdSrchTxt_FR">
                                AND DCCV.SHIP_TO_CUST_LOC_CD = #xxShipToLocCdSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxSoldToAcctNmSrchTxt_FR">
                                AND DCCV.SOLD_TO_CUST_ACCT_NM = #xxSoldToAcctNmSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxSoldToAcctCdSrchTxt_FR">
                                AND DCCV.SELL_TO_CUST_CD = #xxSoldToAcctCdSrchTxt_FR#
                            </isNotNull>
                            <isNotNull property = "xxSoldToLocCdSrchTxt_FR">
                                AND DCCV.SOLD_TO_CUST_LOC_CD = #xxSoldToLocCdSrchTxt_FR#
                            </isNotNull>
                    )
                </isEqual>
            </isEqual>
            <!-- 2017/08/07 Sol#249 Add End -->

        ORDER BY  
               TO_NUMBER(RD.DS_ORD_POSN_NUM)
             , RD.DS_CPO_RTRN_LINE_NUM
             , RD.DS_CPO_RTRN_LINE_SUB_NUM NULLS FIRST
    </statement>


    <resultMap id="result.getCpoRtrnDtlInfo" class="NWAL1500_DSMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod -->
        <result property="dsOrdPosnNum_RL"             column="DS_ORD_POSN_NUM"                 javaType="EZDCStringItem"/>
        <result property="dsCpoLineNum_RL"             column="DS_CPO_LINE_NUM"                 javaType="EZDCBigDecimalItem"/>
        <result property="dsCpoLineSubNum_RL"          column="DS_CPO_LINE_SUB_NUM"             javaType="EZDCBigDecimalItem"/>
        <result property="cpoDtlLineNum_RL"            column="DS_CPO_RTRN_LINE_NUM"            javaType="EZDCStringItem"/>
        <result property="cpoDtlLineSubNum_RL"         column="DS_CPO_RTRN_LINE_SUB_NUM"        javaType="EZDCStringItem"/>
        <result property="xxLineNum_RL"                column="DPLY_LINE_NUM"                   javaType="EZDCStringItem"/>
        <result property="mdseCd_RL"                   column="MDSE_CD"                         javaType="EZDCStringItem"/>
        <result property="mdseNm_RL"                   column="MDSE_NM"                         javaType="EZDCStringItem"/>
        <result property="mdseDescShortTxt_RL"         column="MDSE_DESC_SHORT_TXT"             javaType="EZDCStringItem"/>
        <result property="origMdseCd_RL"               column="ORIG_MDSE_CD"                    javaType="EZDCStringItem"/>
        <result property="ordCustUomQty_RL"            column="ORD_CUST_UOM_QTY"                javaType="EZDCBigDecimalItem"/>
        <result property="rtrnRsnCd_RL"                column="RTRN_RSN_CD"                     javaType="EZDCStringItem"/>
        <result property="entCpoDtlDealSlsAmt_RL"      column="CPO_DTL_DEAL_GRS_AMT"            javaType="EZDCBigDecimalItem"/>
        <result property="entDealNetUnitPrcAmt_RL"     column="ENT_DEAL_NET_UNIT_PRC_AMT"       javaType="EZDCBigDecimalItem"/>
        <result property="ordLineStsCd_RL"             column="ORD_LINE_STS_CD"                 javaType="EZDCStringItem"/>  <!-- 2016/01/28 S21_NA#3254 ADD -->
        <result property="rtrnLineStsDescTxt_RL"       column="RTRN_LINE_STS_DESC_TXT"          javaType="EZDCStringItem"/>
        <result property="dsOrdLineCatgDescTxt_RL"     column="DS_ORD_LINE_CATG_DESC_TXT"       javaType="EZDCStringItem"/>
        <result property="dsOrdLineCatgCd_RL"          column="DS_ORD_LINE_CATG_CD"             javaType="EZDCStringItem"/>
        <result property="rtlWhCd_RL"                  column="RTL_WH_CD"                       javaType="EZDCStringItem"/> <!-- 2016/10/05 S21_NA#14939 ADD -->
        <result property="rtlWhNm_RL"                  column="RTL_WH_NM"                       javaType="EZDCStringItem"/>
        <result property="rtlSwhCd_RL"                 column="RTL_SWH_CD"                      javaType="EZDCStringItem"/> <!-- 2016/10/05 S21_NA#14939 ADD -->
        <result property="rtlSwhNm_RL"                 column="RTL_SWH_NM"                      javaType="EZDCStringItem"/>
        <result property="custUomCd_RL"                column="CUST_UOM_CD"                     javaType="EZDCStringItem"/>
        <result property="pkgUomDescTxt_RL"            column="PKG_UOM_DESC_TXT"                javaType="EZDCStringItem"/>
        <result property="prcCatgCd_RL"                column="PRC_CATG_CD"                     javaType="EZDCStringItem"/> <!-- 2016/10/05 S21_NA#14939 ADD -->
        <result property="prcCatgNm_RL"                column="PRC_CATG_NM"                     javaType="EZDCStringItem"/>
        <result property="flPrcListNm_RL"              column="FL_PRC_LIST_NM"                  javaType="EZDCStringItem"/>
        <result property="dealPrcListPrcAmt_RL"        column="DEAL_PRC_LIST_PRC_AMT"           javaType="EZDCBigDecimalItem"/>
        <result property="serNum_RL"                   column="SER_NUM"                         javaType="EZDCStringItem"/>
        <result property="custMdseCd_RL"               column="CUST_MDSE_CD"                    javaType="EZDCStringItem"/>
        <result property="rqstPickUpDt_RL"             column="RQST_PICK_UP_DT"                 javaType="EZDCStringItem"/>
        <result property="prcBaseDt_RL"                column="PRC_BASE_DT"                     javaType="EZDCStringItem"/>
        <result property="cratTsDplyTxt_RL"            column="CRAT_TS_DPLY_TXT"                javaType="EZDCStringItem"/>
        <result property="ordBookTsDplyTxt_RL"         column="ORD_BOOK_TS_DPLY_TXT"            javaType="EZDCStringItem"/>
        <result property="schdPickUpDtDplyTxt_RL"      column="SCHD_PICK_UP_DT_DPLY_TXT"        javaType="EZDCStringItem"/>
        <result property="rcvTsDplyTxt_RL"             column="RCV_TS_DPLY_TXT"                 javaType="EZDCStringItem"/>
        <result property="rtrnQty_RL"                  column="RTRN_QTY"                        javaType="EZDCStringItem"/>
        <result property="cancQty_RL"                  column="CANC_QTY"                        javaType="EZDCStringItem"/>
        <result property="cancRsnDescTxt_RL"           column="CANC_RSN_DESC_TXT"               javaType="EZDCStringItem"/>
        <result property="coaMdseTpDescTxt_RL"         column="COA_MDSE_TP_DESC_TXT"            javaType="EZDCStringItem"/>
        <result property="coaProdDescTxt_RL"           column="COA_PROD_DESC_TXT"               javaType="EZDCStringItem"/>
        <result property="mdseItemClsTpDescTxt_RL"     column="MDSE_ITEM_CLS_TP_DESC_TXT"       javaType="EZDCStringItem"/>
        <result property="mnfItemCd_RL"                column="MNF_ITEM_CD"                     javaType="EZDCStringItem"/>
        <result property="dplyLineRefNum_RL"           column="DPLY_LINE_REF_NUM"               javaType="EZDCStringItem"/>
        <result property="custIssPoNum_RL"             column="CUST_ISS_PO_NUM"                 javaType="EZDCStringItem"/>
        <result property="custIssPoDt_RL"              column="CUST_ISS_PO_DT"                  javaType="EZDCStringItem"/>
        <result property="cpoSrcTpDescTxt_RL"          column="CPO_SRC_TP_DESC_TXT"             javaType="EZDCStringItem"/>
        <result property="lineSrcRefNum_RL"            column="LINE_SRC_REF_NUM"                javaType="EZDCStringItem"/>
        <result property="ordSrcRefNum_RL"             column="ORD_SRC_REF_NUM"                 javaType="EZDCStringItem"/>
        <result property="setPrntLineNum_RL"           column="SET_PRNT_LINE_NUM"               javaType="EZDCStringItem"/>
        <result property="cmpsnRevnNum_RL"             column="CMPSN_REVN_NUM"                  javaType="EZDCStringItem"/>
        <result property="setMdseCd_RL"                column="SET_MDSE_CD"                     javaType="EZDCStringItem"/>
        <result property="cratUsrNm_RL"                column="CRAT_USR_NM"                     javaType="EZDCStringItem"/>
        <result property="updTsDplyTxt_RL"             column="UPD_TS_DPLY_TXT"                 javaType="EZDCStringItem"/>
        <result property="updUsrNm_RL"                 column="UPD_USR_NM"                      javaType="EZDCStringItem"/>
        <result property="lineDealSubTotAmt_RL"        column="LINE_DEAL_SUB_TOT_AMT"           javaType="EZDCBigDecimalItem"/>
        <result property="lineDealChrgAmt_RL"          column="LINE_DEAL_CHRG_AMT"              javaType="EZDCBigDecimalItem"/>
        <result property="lineDealTaxAmt_RL"           column="LINE_DEAL_TAX_AMT"               javaType="EZDCBigDecimalItem"/>
        <result property="lineDealTotAmt_RL"           column="LINE_DEAL_TOT_AMT"               javaType="EZDCBigDecimalItem"/>
        <!-- RMA Tab ** Line Level ** Hidden -->
        <result property="ordQty_RL"                   column="ORD_QTY"                         javaType="EZDCBigDecimalItem"/>
        <result property="prcListEquipConfigNum_RL"    column="PRC_LIST_EQUIP_CONFIG_NUM"       javaType="EZDCStringItem"/>
        <result property="cpoDtlLineNum_RL"            column="DS_CPO_RTRN_LINE_NUM"            javaType="EZDCStringItem"/>
        <result property="cpoDtlLineSubNum_RL"         column="DS_CPO_RTRN_LINE_SUB_NUM"        javaType="EZDCStringItem"/>
        <result property="cpoDtlDealTaxAmt_RL"         column="CPO_DTL_DEAL_TAX_AMT"            javaType="EZDCBigDecimalItem"/>
        <result property="hddRmvCd_RL"                 column="HDD_RMV_CD"                      javaType="EZDCStringItem"/>
        <result property="xxLineTotPrcAmt_RL"            column="CPO_LINE_TOT_AMT"                javaType="EZDCBigDecimalItem"/>
        <result property="ezUpTime_RL"                 column="EZUPTIME"                        javaType="EZDCStringItem"/>
        <result property="ezUpTimeZone_RL"             column="EZUPTIMEZONE"                    javaType="EZDCStringItem"/>
        <result property="dsCpoConfigPk_RL"            column="DS_CPO_CONFIG_PK"                javaType="EZDCBigDecimalItem"/>
        <result property="bllgAttrbCustAcctCd_RL"      column="BLLG_ATTRB_CUST_ACCT_CD"         javaType="EZDCStringItem"/>
        <result property="firstBllgAttrbNm_RL"         column="FIRST_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="firstBllgAttrbValTxt_RL"     column="FIRST_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="scdBllgAttrbNm_RL"           column="SCD_BLLG_ATTRB_NM"               javaType="EZDCStringItem"/>
        <result property="scdBllgAttrbValTxt_RL"       column="SCD_BLLG_ATTRB_VAL_TXT"          javaType="EZDCStringItem"/>
        <result property="thirdBllgAttrbNm_RL"         column="THIRD_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="thirdBllgAttrbValTxt_RL"     column="THIRD_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="frthBllgAttrbNm_RL"          column="FRTH_BLLG_ATTRB_NM"              javaType="EZDCStringItem"/>
        <result property="frthBllgAttrbValTxt_RL"      column="FRTH_BLLG_ATTRB_VAL_TXT"         javaType="EZDCStringItem"/>
        <result property="fifthBllgAttrbNm_RL"         column="FIFTH_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="fifthBllgAttrbValTxt_RL"     column="FIFTH_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="sixthBllgAttrbNm_RL"         column="SIXTH_BLLG_ATTRB_NM"             javaType="EZDCStringItem"/>
        <result property="sixthBllgAttrbValTxt_RL"     column="SIXTH_BLLG_ATTRB_VAL_TXT"        javaType="EZDCStringItem"/>
        <result property="xxYesNoCd_RL"                column="CTRL_INPUT"                      javaType="EZDCStringItem"/><!-- 2016/02/09 S21_NA#3398 Add -->
        <result property="childMdseQty_RL"             column="CHILD_MDSE_QTY"                  javaType="EZDCBigDecimalItem"/>
        <!-- 2016/05/10 S21_NA#7706 Add Start -->
        <result property="funcSvcRevTrnsfAmt_RL"       column="FUNC_SVC_REV_TRNSF_AMT"          javaType="EZDCBigDecimalItem"/>
        <result property="dealSvcRevTrnsfAmt_RL"       column="DEAL_SVC_REV_TRNSF_AMT"          javaType="EZDCBigDecimalItem"/>
        <result property="funcSvcCostTrnsfAmt_RL"      column="FUNC_SVC_COST_TRNSF_AMT"         javaType="EZDCBigDecimalItem"/>
        <result property="dealSvcCostTrnsfAmt_RL"      column="DEAL_SVC_COST_TRNSF_AMT"         javaType="EZDCBigDecimalItem"/>
        <result property="funcManFlAdjAmt_RL"          column="FUNC_MAN_FL_ADJ_AMT"             javaType="EZDCBigDecimalItem"/>
        <result property="dealManFlAdjAmt_RL"          column="DEAL_MAN_FL_ADJ_AMT"             javaType="EZDCBigDecimalItem"/>
        <result property="funcManRepRevAdjAmt_RL"      column="FUNC_MAN_REP_REV_ADJ_AMT"        javaType="EZDCBigDecimalItem"/>
        <result property="dealManRepRevAdjAmt_RL"      column="DEAL_MAN_REP_REV_ADJ_AMT"        javaType="EZDCBigDecimalItem"/>
        <!-- 2016/05/10 S21_NA#7706 Add End -->
        <!-- S21_NA#7606 ADD Start -->
        <result property="origCpoOrdNum_RL"            column="ORIG_CPO_ORD_NUM"                javaType="EZDCStringItem"/>
        <result property="origCpoDtlLineNum_RL"        column="ORIG_CPO_DTL_LINE_NUM"           javaType="EZDCStringItem"/>
        <result property="origCpoDtlLineSubNum_RL"     column="ORIG_CPO_DTL_LINE_SUB_NUM"       javaType="EZDCStringItem"/>
        <result property="ordSrcRefLineNum_RL"         column="ORD_SRC_REF_LINE_NUM"            javaType="EZDCStringItem"/>
        <result property="ordSrcRefLineSubNum_RL"      column="ORD_SRC_REF_LINE_SUB_NUM"        javaType="EZDCStringItem"/>
        <!-- S21_NA#7606 ADD End -->
        <result property="svcMachMstrPk_RL"            column="SVC_MACH_MSTR_PK"                javaType="EZDCBigDecimalItem"/>
        <!-- 2016/06/10 S21_NA#8912 Add Start -->
        <result property="csmpContrNum_RL"             column="CSMP_CONTR_NUM"                  javaType="EZDCStringItem"/>
        <result property="dlrRefNum_RL"                column="DLR_REF_NUM"                     javaType="EZDCStringItem"/>
        <!-- 2016/06/10 S21_NA#8912 Add End -->
        <result property="dsContrNum_RL"               column="DS_CONTR_NUM"                    javaType="EZDCStringItem"/>
        <result property="dsContrSqNum_RL"             column="DS_CONTR_SQ_NUM"                 javaType="EZDCStringItem"/>
        <result property="origInvNum_RL"               column="ORIG_INV_NUM"                    javaType="EZDCStringItem"/> <!-- 2016/06/28 S21_NA#10893 Add -->
        <!-- 2016/07/29 S21_NA#11852 Add Start -->
        <result property="ordUpldRefNum_RL"            column="ORD_UPLD_REF_NUM"                javaType="EZDCStringItem"/>
        <!-- 2016/07/29 S21_NA#11852 Add End -->
        <result property="crRebilCd_RL"                column="CR_REBIL_CD"                     javaType="EZDCStringItem"/> <!-- 2016/08/02 S21_NA#12607 Add -->
        <result property="refCpoDtlLineNum_RL"         column="REF_CPO_DTL_LINE_NUM"            javaType="EZDCStringItem"/> <!-- 2016/08/04 S21_NA#12685 Add -->
        <result property="refCpoDtlLineSubNum_RL"      column="REF_CPO_DTL_LINE_SUB_NUM"        javaType="EZDCStringItem"/> <!-- 2016/08/04 S21_NA#12685 Add -->
        <result property="thirdPtyDspTpCd_RL"          column="THIRD_PTY_DSP_TP_CD"             javaType="EZDCStringItem"/> <!-- S21_NA#12685 Add -->
        <!-- 2016/09/27 S21_NA#12598 Add Start -->
        <result property="cpoDtlDealGrsAmt_RL"         column="CPO_DTL_DEAL_GRS_AMT"            javaType="EZDCBigDecimalItem"/>
        <!-- 2016/09/27 S21_NA#12598 Add End -->
        <!-- 2016/09/21 S21_NA#10274 Add Start -->
        <result property="mdseCd_RB"                   column="MDSE_CD"                         javaType="EZDCStringItem"/>
        <result property="cpoDtlLineNum_RB"            column="DS_CPO_RTRN_LINE_NUM"            javaType="EZDCStringItem"/>
        <result property="cpoDtlLineSubNum_RB"         column="DS_CPO_RTRN_LINE_SUB_NUM"        javaType="EZDCStringItem"/>
        <!-- 2016/09/21 S21_NA#10274 Add End -->
        <result property="baseCmptFlg_RL"              column="BASE_CMPT_FLG"                   javaType="EZDCStringItem"/> <!-- 2016/12/06 S21_NA#15898 Add -->
        <!-- 2017/12/05 S21_NA#21702 Add Start -->
        <result property="origInvLineNum_RL"           column="INV_LINE_NUM"                    javaType="EZDCStringItem"/>
        <result property="origInvLineSubNum_RL"        column="INV_LINE_SUB_NUM"                javaType="EZDCStringItem"/>
        <result property="xxInvRefNum_RL"              column="INV_REF_NUM"                     javaType="EZDCStringItem"/>
        <result property="xxInvLineRefNum_RL"          column="INV_LINE_REF_NUM"                javaType="EZDCStringItem"/>
        <!-- 2017/12/05 S21_NA#21702 Add End -->
        <result property="funcUnitFlPrcAmt_RL"         column="FUNC_UNIT_FL_PRC_AMT"            javaType="EZDCBigDecimalItem"/> <!-- 2018/01/10 S21_NA#22372 Add -->
        <result property="rwsOpenFlg_RL"               column="RWS_OPEN_FLG"                    javaType="EZDCStringItem"/> <!-- 2018/10/25 S21_NA#28897 Add -->
        <result property="origInvtyLocCd_RL"           column="ORIG_INVTY_LOC_CD"               javaType="EZDCStringItem"/> <!-- 2018/11/16 S21_NA#27299 Add -->
    </resultMap>


    <statement id="getSalesCreditForHeader" parameterClass="Map" resultMap="result.getSalesCreditHeadInfo">
        SELECT
              CSC.DS_CPO_SLS_CR_PK
            , CSC.DS_ORD_POSN_NUM
            , CSC.DS_CPO_CONFIG_PK
            , CSC.SLS_REP_TOC_CD
            , CSC.SLS_REP_ROLE_TP_CD
            , CSC.SLS_REP_CR_PCT
            , CSC.SLS_CR_QUOT_FLG
        FROM
               DS_CPO_SLS_CR     CSC
        WHERE
                CSC.GLBL_CMPY_CD             = #glblCmpyCd#
            AND CSC.CPO_ORD_NUM              = #cpoOrdNum#
            AND CSC.EZCANCELFLAG             = '0'
            AND CSC.DS_CPO_CONFIG_PK         IS NULL
        ORDER BY
            CSC.DS_CPO_SLS_CR_PK    ASC
    </statement>

    <resultMap id="result.getSalesCreditHeadInfo" class="NWAL1500_FCMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod -->
        <result property="dsCpoSlsCrPk_FS"            column="DS_CPO_SLS_CR_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="dsOrdPosnNum_FS"            column="DS_ORD_POSN_NUM"              javaType="EZDCStringItem"/>
        <result property="dsCpoConfigPk_FS"           column="DS_CPO_CONFIG_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="slsRepTocCd_FS"             column="SLS_REP_TOC_CD"               javaType="EZDCStringItem"/>
        <result property="slsRepRoleTpCd_FS"          column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="lineBizRoleTpCd_FS"         column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="slsRepCrPct_FS"             column="SLS_REP_CR_PCT"               javaType="EZDCBigDecimalItem"/>
        <result property="slsCrQuotFlg_FS"            column="SLS_CR_QUOT_FLG"              javaType="EZDCStringItem"/>
    </resultMap>

<!-- For Performance QC#8166 Add Start -->
    <statement id="getSalesCreditForConfig" parameterClass="Map" resultMap="result.getSalesCreditForConfig">
        SELECT
              CSC.DS_CPO_SLS_CR_PK
            , CSC.DS_ORD_POSN_NUM
            , CSC.DS_CPO_CONFIG_PK
            , CSC.SLS_REP_TOC_CD
            , CSC.SLS_REP_ROLE_TP_CD
            , CSC.SLS_REP_CR_PCT
            , CSC.SLS_CR_QUOT_FLG
            , DCC.CONFIG_CATG_CD
        FROM
              DS_CPO_SLS_CR     CSC
            , DS_CPO_CONFIG     DCC
        WHERE
                CSC.GLBL_CMPY_CD             = #glblCmpyCd#
            AND CSC.CPO_ORD_NUM              = #cpoOrdNum#
            AND CSC.EZCANCELFLAG             = '0'
            AND CSC.GLBL_CMPY_CD             = DCC.GLBL_CMPY_CD
            AND CSC.CPO_ORD_NUM              = DCC.CPO_ORD_NUM
            AND CSC.DS_CPO_CONFIG_PK         = DCC.DS_CPO_CONFIG_PK
            AND DCC.EZCANCELFLAG             = '0'
        ORDER BY
              TO_NUMBER(DCC.DS_ORD_POSN_NUM)     ASC
            , CSC.DS_CPO_SLS_CR_PK               ASC
    </statement>

    <resultMap id="result.getSalesCreditForConfig" class="NWAL1500_KSMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod --><!-- 2018/01/29 S21_NA#19808 Mod -->
        <result property="dsCpoSlsCrPk_KS"            column="DS_CPO_SLS_CR_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="dsOrdPosnNum_KS"            column="DS_ORD_POSN_NUM"              javaType="EZDCStringItem"/>
        <result property="dsCpoConfigPk_KS"           column="DS_CPO_CONFIG_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="slsRepTocCd_KS"             column="SLS_REP_TOC_CD"               javaType="EZDCStringItem"/>
        <result property="slsRepRoleTpCd_KS"          column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="lineBizRoleTpCd_KS"         column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="slsRepCrPct_KS"             column="SLS_REP_CR_PCT"               javaType="EZDCBigDecimalItem"/>
        <result property="slsCrQuotFlg_KS"            column="SLS_CR_QUOT_FLG"              javaType="EZDCStringItem"/>
        <result property="configCatgCd_KS"            column="CONFIG_CATG_CD"               javaType="EZDCStringItem"/>
    </resultMap>
<!-- For Performance QC#8166 Add End -->

<!-- For Performance QC#8166 Del Start
    <statement id="getSalesCreditForConfigOut" parameterClass="Map" resultMap="result.getSalesCreditOutBound">
        SELECT
              CSC.DS_CPO_SLS_CR_PK
            , CSC.DS_ORD_POSN_NUM
            , CSC.DS_CPO_CONFIG_PK
            , CSC.SLS_REP_TOC_CD
            , CSC.SLS_REP_ROLE_TP_CD
            , CSC.SLS_REP_CR_PCT
            , CSC.SLS_CR_QUOT_FLG
            , DCC.CONFIG_CATG_CD

        FROM
               DS_CPO_SLS_CR     CSC
             , DS_CPO_CONFIG     DCC

        WHERE
                CSC.GLBL_CMPY_CD             = #glblCmpyCd#
            AND CSC.CPO_ORD_NUM              = #cpoOrdNum#
            AND CSC.GLBL_CMPY_CD             = DCC.GLBL_CMPY_CD
            AND CSC.CPO_ORD_NUM              = DCC.CPO_ORD_NUM
            AND CSC.DS_CPO_CONFIG_PK         = DCC.DS_CPO_CONFIG_PK
            AND DCC.CONFIG_CATG_CD           = #configCatgCd#
            AND CSC.EZCANCELFLAG             = '0'
            AND DCC.EZCANCELFLAG             = '0'
        ORDER BY
               TO_NUMBER(DCC.DS_ORD_POSN_NUM)     ASC
             , CSC.DS_CPO_SLS_CR_PK               ASC
    </statement>

    <resultMap id="result.getSalesCreditOutBound" class="NWAL1500_GCMsg">
        <result property="dsCpoSlsCrPk_GS"            column="DS_CPO_SLS_CR_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="dsOrdPosnNum_GS"            column="DS_ORD_POSN_NUM"              javaType="EZDCStringItem"/>
        <result property="dsCpoConfigPk_GS"           column="DS_CPO_CONFIG_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="slsRepTocCd_GS"             column="SLS_REP_TOC_CD"               javaType="EZDCStringItem"/>
        <result property="slsRepRoleTpCd_GS"          column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="lineBizRoleTpCd_GS"         column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="slsRepCrPct_GS"             column="SLS_REP_CR_PCT"               javaType="EZDCBigDecimalItem"/>
        <result property="slsCrQuotFlg_GS"            column="SLS_CR_QUOT_FLG"              javaType="EZDCStringItem"/>
        [result property="configCatgCd_GS"            column="CONFIG_CATG_CD"               javaType="EZDCStringItem"/]
    </resultMap>

    <statement id="getSalesCreditForConfigIn" parameterClass="Map" resultMap="result.getSalesCreditInBound">
        SELECT
              CSC.DS_CPO_SLS_CR_PK
            , CSC.DS_ORD_POSN_NUM
            , CSC.DS_CPO_CONFIG_PK
            , CSC.SLS_REP_TOC_CD
            , CSC.SLS_REP_ROLE_TP_CD
            , CSC.SLS_REP_CR_PCT
            , CSC.SLS_CR_QUOT_FLG
            , DCC.CONFIG_CATG_CD

        FROM
               DS_CPO_SLS_CR     CSC
             , DS_CPO_CONFIG     DCC

        WHERE
                CSC.GLBL_CMPY_CD             = #glblCmpyCd#
            AND CSC.CPO_ORD_NUM              = #cpoOrdNum#
            AND CSC.GLBL_CMPY_CD             = DCC.GLBL_CMPY_CD
            AND CSC.CPO_ORD_NUM              = DCC.CPO_ORD_NUM
            AND CSC.DS_CPO_CONFIG_PK         = DCC.DS_CPO_CONFIG_PK
            AND DCC.CONFIG_CATG_CD           = #configCatgCd#
            AND CSC.EZCANCELFLAG             = '0'
            AND DCC.EZCANCELFLAG             = '0'
        ORDER BY
               TO_NUMBER(DCC.DS_ORD_POSN_NUM)     ASC
             , CSC.DS_CPO_SLS_CR_PK               ASC
    </statement>

    <resultMap id="result.getSalesCreditInBound" class="NWAL1500_HCMsg">
        <result property="dsCpoSlsCrPk_HS"            column="DS_CPO_SLS_CR_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="dsOrdPosnNum_HS"            column="DS_ORD_POSN_NUM"              javaType="EZDCStringItem"/>
        <result property="dsCpoConfigPk_HS"           column="DS_CPO_CONFIG_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="slsRepTocCd_HS"             column="SLS_REP_TOC_CD"               javaType="EZDCStringItem"/>
        <result property="slsRepRoleTpCd_HS"          column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="lineBizRoleTpCd_HS"         column="SLS_REP_ROLE_TP_CD"           javaType="EZDCStringItem"/>
        <result property="slsRepCrPct_HS"             column="SLS_REP_CR_PCT"               javaType="EZDCBigDecimalItem"/>
        <result property="slsCrQuotFlg_HS"            column="SLS_CR_QUOT_FLG"              javaType="EZDCStringItem"/>
        [result property="configCatgCd_HS"            column="CONFIG_CATG_CD"               javaType="EZDCStringItem"/]
    </resultMap>
For Performance QC#8166 Del End -->

    <statement id="getPriceInfo" parameterClass="Map" resultMap="result.getPriceInfo">
        SELECT
              OP.ORD_PRC_CALC_BASE_PK
            , OP.CPO_ORD_NUM
            , OP.CPO_DTL_LINE_NUM
            , OP.CPO_DTL_LINE_SUB_NUM
            , #configCatgCdOutbound#             CONFIG_CATG_CD
            , OP.PRC_COND_TP_CD
            , OP.PRC_DTL_GRP_CD
            , OP.PRC_JRNL_GRP_CD
            , OP.PKG_UOM_CD
            , OP.PRC_COND_UNIT_CD
            , OP.PRC_CALC_METH_CD
            , OP.DS_MDSE_PRC_PK
            , OP.SPEC_COND_PRC_PK
            , OP.FRT_PER_WT_PK
            , OP.PRC_COND_MAN_ENTRY_FLG
            , OP.PRC_COND_MAN_ADD_FLG
            , OP.PRC_COND_MAN_DEL_FLG
            , OP.AUTO_PRC_AMT_RATE
            , OP.MAX_PRC_AMT_RATE
            , OP.MIN_PRC_AMT_RATE
            , OP.MAN_PRC_AMT_RATE
            , OP.CALC_PRC_AMT_RATE
            , OP.UNIT_PRC_AMT
            , OP.AUTO_PRC_CCY_CD
            , OP.PRC_RULE_APPLY_FLG
            , OP.PRC_RULE_PRCD_PK
            , PCT.PRC_COND_TP_DESC_TXT
        FROM
              ORD_PRC_CALC_BASE     OP
            , PRC_COND_TP           PCT
        WHERE
                OP.GLBL_CMPY_CD             = #glblCmpyCd#
            AND OP.CPO_ORD_NUM              = #cpoOrdNum#
            AND OP.EZCANCELFLAG             = '0'
            AND OP.GLBL_CMPY_CD             = PCT.GLBL_CMPY_CD (+)
            AND OP.PRC_COND_TP_CD           = PCT.PRC_COND_TP_CD (+)
            AND PCT.EZCANCELFLAG (+)        = '0'
        UNION
        SELECT
              OP.CPO_RTRN_PRC_CALC_BASE_PK
            , OP.CPO_ORD_NUM
            , OP.DS_CPO_RTRN_LINE_NUM
            , OP.DS_CPO_RTRN_LINE_SUB_NUM
            , #configCatgCdInbound#             CONFIG_CATG_CD
            , OP.PRC_COND_TP_CD
            , OP.PRC_DTL_GRP_CD
            , OP.PRC_JRNL_GRP_CD
            , OP.PKG_UOM_CD
            , OP.PRC_COND_UNIT_CD
            , OP.PRC_CALC_METH_CD
            , OP.DS_MDSE_PRC_PK
            , OP.SPEC_COND_PRC_PK
            , OP.FRT_PER_WT_PK
            , OP.PRC_COND_MAN_ENTRY_FLG
            , OP.PRC_COND_MAN_ADD_FLG
            , OP.PRC_COND_MAN_DEL_FLG
            , OP.AUTO_PRC_AMT_RATE
            , OP.MAX_PRC_AMT_RATE
            , OP.MIN_PRC_AMT_RATE
            , OP.MAN_PRC_AMT_RATE
            , OP.CALC_PRC_AMT_RATE
            , OP.UNIT_PRC_AMT
            , OP.AUTO_PRC_CCY_CD
            , OP.PRC_RULE_APPLY_FLG
            , OP.PRC_RULE_PRCD_PK
            , PCT.PRC_COND_TP_DESC_TXT
        FROM
              CPO_RTRN_PRC_CALC_BASE   OP
            , PRC_COND_TP           PCT
        WHERE
                OP.GLBL_CMPY_CD             = #glblCmpyCd#
            AND OP.CPO_ORD_NUM              = #cpoOrdNum#
            AND OP.EZCANCELFLAG             = '0'
            AND OP.GLBL_CMPY_CD             = PCT.GLBL_CMPY_CD (+)
            AND OP.PRC_COND_TP_CD           = PCT.PRC_COND_TP_CD (+)
            AND PCT.EZCANCELFLAG (+)        = '0'
        ORDER BY
               CONFIG_CATG_CD
             , CPO_DTL_LINE_NUM          ASC
             , CPO_DTL_LINE_SUB_NUM      ASC
             , ORD_PRC_CALC_BASE_PK      ASC
    </statement>


    <resultMap id="result.getPriceInfo" class="NWAL1500_ISMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod -->
        <result property="ordPrcCalcBasePk_LP"         column="ORD_PRC_CALC_BASE_PK"          javaType="EZDCBigDecimalItem"/>
        <result property="cpoOrdNum_LP"                column="CPO_ORD_NUM"                   javaType="EZDCStringItem"/>
        <result property="cpoDtlLineNum_LP"            column="CPO_DTL_LINE_NUM"              javaType="EZDCStringItem"/>
        <result property="cpoDtlLineSubNum_LP"         column="CPO_DTL_LINE_SUB_NUM"          javaType="EZDCStringItem"/>
        <result property="configCatgCd_LP"             column="CONFIG_CATG_CD"                javaType="EZDCStringItem"/>
        <result property="prcCondTpCd_LP"              column="PRC_COND_TP_CD"                javaType="EZDCStringItem"/>
        <result property="prcDtlGrpCd_LP"              column="PRC_DTL_GRP_CD"                javaType="EZDCStringItem"/>
        <result property="prcJrnlGrpCd_LP"             column="PRC_JRNL_GRP_CD"               javaType="EZDCStringItem"/>
        <result property="pkgUomCd_LP"                 column="PKG_UOM_CD"                    javaType="EZDCStringItem"/>
        <result property="prcCondUnitCd_LP"            column="PRC_COND_UNIT_CD"              javaType="EZDCStringItem"/>
        <result property="prcCalcMethCd_LP"            column="PRC_CALC_METH_CD"              javaType="EZDCStringItem"/>
        <result property="dsMdsePrcPk_LP"              column="DS_MDSE_PRC_PK"                javaType="EZDCBigDecimalItem"/>
        <result property="specCondPrcPk_LP"            column="SPEC_COND_PRC_PK"              javaType="EZDCBigDecimalItem"/>
        <result property="frtPerWtPk_LP"               column="FRT_PER_WT_PK"                 javaType="EZDCBigDecimalItem"/>
        <result property="prcCondManEntryFlg_LP"       column="PRC_COND_MAN_ENTRY_FLG"        javaType="EZDCStringItem"/>
        <result property="prcCondManAddFlg_LP"         column="PRC_COND_MAN_ADD_FLG"          javaType="EZDCStringItem"/>
        <result property="prcCondManDelFlg_LP"         column="PRC_COND_MAN_DEL_FLG"          javaType="EZDCStringItem"/>
        <result property="autoPrcAmtRate_LP"           column="AUTO_PRC_AMT_RATE"             javaType="EZDCBigDecimalItem"/>
        <result property="maxPrcAmtRate_LP"            column="MAX_PRC_AMT_RATE"              javaType="EZDCBigDecimalItem"/>
        <result property="minPrcAmtRate_LP"            column="MIN_PRC_AMT_RATE"              javaType="EZDCBigDecimalItem"/>
        <result property="manPrcAmtRate_LP"            column="MAN_PRC_AMT_RATE"              javaType="EZDCBigDecimalItem"/>
        <result property="calcPrcAmtRate_LP"           column="CALC_PRC_AMT_RATE"             javaType="EZDCBigDecimalItem"/>
        <result property="unitPrcAmt_LP"               column="UNIT_PRC_AMT"                  javaType="EZDCBigDecimalItem"/>
        <result property="autoPrcCcyCd_LP"             column="AUTO_PRC_CCY_CD"               javaType="EZDCStringItem"/>
        <result property="prcRuleApplyFlg_LP"          column="PRC_RULE_APPLY_FLG"            javaType="EZDCStringItem"/>
        <result property="prcRulePrcdPk_LP"            column="PRC_RULE_PRCD_PK"              javaType="EZDCBigDecimalItem"/>
        <result property="prcCondTpDescTxt_LP"         column="PRC_COND_TP_DESC_TXT"          javaType="EZDCStringItem"/>

        <!-- 2018/03/15 S21_NA#19808 (For Compare DB Data) Add Start -->
        <result property="cpoDtlLineNum_DB"            column="CPO_DTL_LINE_NUM"              javaType="EZDCStringItem"/>
        <result property="cpoDtlLineSubNum_DB"         column="CPO_DTL_LINE_SUB_NUM"          javaType="EZDCStringItem"/>
        <result property="configCatgCd_DB"             column="CONFIG_CATG_CD"                javaType="EZDCStringItem"/>
        <result property="prcCondTpCd_DB"              column="PRC_COND_TP_CD"                javaType="EZDCStringItem"/>
        <result property="prcDtlGrpCd_DB"              column="PRC_DTL_GRP_CD"                javaType="EZDCStringItem"/>
        <result property="prcJrnlGrpCd_DB"             column="PRC_JRNL_GRP_CD"               javaType="EZDCStringItem"/>
        <result property="pkgUomCd_DB"                 column="PKG_UOM_CD"                    javaType="EZDCStringItem"/>
        <result property="prcCondUnitCd_DB"            column="PRC_COND_UNIT_CD"              javaType="EZDCStringItem"/>
        <result property="prcCalcMethCd_DB"            column="PRC_CALC_METH_CD"              javaType="EZDCStringItem"/>
        <result property="dsMdsePrcPk_DB"              column="DS_MDSE_PRC_PK"                javaType="EZDCBigDecimalItem"/>
        <result property="prcCondManEntryFlg_DB"       column="PRC_COND_MAN_ENTRY_FLG"        javaType="EZDCStringItem"/>
        <result property="prcCondManAddFlg_DB"         column="PRC_COND_MAN_ADD_FLG"          javaType="EZDCStringItem"/>
        <result property="prcCondManDelFlg_DB"         column="PRC_COND_MAN_DEL_FLG"          javaType="EZDCStringItem"/>
        <result property="autoPrcAmtRate_DB"           column="AUTO_PRC_AMT_RATE"             javaType="EZDCBigDecimalItem"/>
        <result property="maxPrcAmtRate_DB"            column="MAX_PRC_AMT_RATE"              javaType="EZDCBigDecimalItem"/>
        <result property="minPrcAmtRate_DB"            column="MIN_PRC_AMT_RATE"              javaType="EZDCBigDecimalItem"/>
        <result property="manPrcAmtRate_DB"            column="MAN_PRC_AMT_RATE"              javaType="EZDCBigDecimalItem"/>
        <result property="calcPrcAmtRate_DB"           column="CALC_PRC_AMT_RATE"             javaType="EZDCBigDecimalItem"/>
        <result property="unitPrcAmt_DB"               column="UNIT_PRC_AMT"                  javaType="EZDCBigDecimalItem"/>
        <result property="autoPrcCcyCd_DB"             column="AUTO_PRC_CCY_CD"               javaType="EZDCStringItem"/>
        <!-- 2018/03/15 S21_NA#19808 (For Compare DB Data) Add End -->
    </resultMap>

    <statement id="getShippingPlanInfo" parameterClass="Map" resultMap="result.getShippingPlanInfo">
        SELECT
                SP.SHPG_PLN_NUM
              , SP.EZUPTIME
              , SP.EZUPTIMEZONE
        FROM
                SHPG_PLN SP
        WHERE
                SP.GLBL_CMPY_CD             = #glblCmpyCd#
            AND SP.TRX_HDR_NUM              = #cpoOrdNum#
            AND SP.EZCANCELFLAG             = '0'
    </statement>

    <resultMap id="result.getShippingPlanInfo" class="NWAL1500_SSMsg" noCheckSet="True"><!-- For Performance QC#11619,13026 Mod -->
        <result property="shpgPlnNum_SP"               column="SHPG_PLN_NUM"                    javaType="EZDSStringItem"/>
        <result property="ezUpTime_SP"                 column="EZUPTIME"                        javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_SP"             column="EZUPTIMEZONE"                    javaType="EZDSStringItem"/>
    </resultMap>

    <statement id="getOrderEntryEditFlag" parameterClass="Map" resultClass="Map">
        SELECT
               CST.ORD_ENTRY_SCR_EDTBL_FLG
        FROM
               CPO_SRC_TP CST
        WHERE
                CST.GLBL_CMPY_CD             = #glblCmpyCd#
            AND CST.CPO_SRC_TP_CD            = #cpoSrcTpCd#
            AND CST.EZCANCELFLAG             = '0'
    </statement>

    <statement id="isExistOrder" parameterClass="Map" resultClass="String">
        SELECT
            CPO.ORD_HDR_STS_CD
        FROM
            CPO CPO
        WHERE
            CPO.GLBL_CMPY_CD     = #glblCmpyCd#
            AND CPO.CPO_ORD_NUM  = #cpoOrdNum#
            AND CPO.EZCANCELFLAG = '0'
    </statement>
 
    <statement id="cntCreditRebillOrder" parameterClass="Map" resultClass="Map">
        SELECT 
             CD.CNT_CD AS CD_CNT
            ,CR.CNT_CR AS CR_CNT
        FROM (
            SELECT 
                COUNT(DCD.CR_REBIL_CD) AS CNT_CD
            FROM 
                CPO_DTL DCD
            WHERE 
                    DCD.GLBL_CMPY_CD  = #glblCmpyCd#
                AND DCD.CPO_ORD_NUM   = #cpoOrdNum#
                AND DCD.CR_REBIL_CD   IN (#crRebilCdCredit#, #crRebilCdRebill#)
                AND DCD.EZCANCELFLAG  = '0' ) CD
            ,(
            SELECT 
                COUNT(DCR.CR_REBIL_CD) as CNT_CR
            FROM 
                DS_CPO_RTRN_DTL DCR
            WHERE 
                    DCR.GLBL_CMPY_CD  = #glblCmpyCd#
                AND DCR.CPO_ORD_NUM   = #cpoOrdNum#
                AND DCR.CR_REBIL_CD   IN (#crRebilCdCredit#, #crRebilCdRebill#)
                AND DCR.EZCANCELFLAG  = '0' ) CR
    </statement>

    <!-- START 2016/08/08 S21_NA#11592 Add -->
    <statement id="getOrdLineValSetInfo" parameterClass="Map" resultMap="result.getOrdLineValSetInfo">
        SELECT
                O.ORD_LINE_CTX_TP_CD
               ,O.DS_ORD_LINE_CATG_CD
               ,D.DS_ORD_LINE_CATG_NM
               ,D.DS_ORD_LINE_CATG_DESC_TXT
               ,O.SCD_BIZ_CTX_ATTRB_TXT AS RTL_WH_CD
               ,R.RTL_WH_NM
               ,R.RTL_WH_DESC_TXT
        FROM 
                ORD_LINE_VAL_SET O
               ,DS_ORD_LINE_CATG D
               ,RTL_WH           R
        WHERE
                O.GLBL_CMPY_CD          = #glblCmpyCd#
            AND O.ORD_LINE_CTX_TP_CD    = #ordLineCtxTpCd#
            AND O.EZCANCELFLAG          = '0'
            AND O.GLBL_CMPY_CD          = D.GLBL_CMPY_CD
            AND O.DS_ORD_LINE_CATG_CD   = D.DS_ORD_LINE_CATG_CD
            AND D.EZCANCELFLAG          = '0'
            AND O.GLBL_CMPY_CD          = R.GLBL_CMPY_CD
            AND O.SCD_BIZ_CTX_ATTRB_TXT = R.RTL_WH_CD
            AND R.EZCANCELFLAG          = '0'
    </statement>

    <resultMap id="result.getOrdLineValSetInfo" class="NWAL1500_PCMsg" noCheckSet="True">
        <result property="ordLineCtxTpCd_P"        column="ORD_LINE_CTX_TP_CD"          javaType="EZDSStringItem"/>
        <result property="dsOrdLineCatgCd_P"       column="DS_ORD_LINE_CATG_CD"         javaType="EZDSStringItem"/>
        <result property="dsOrdLineCatgNm_P"       column="DS_ORD_LINE_CATG_NM"         javaType="EZDSStringItem"/>
        <result property="dsOrdLineCatgDescTxt_P"  column="DS_ORD_LINE_CATG_DESC_TXT"   javaType="EZDSStringItem"/>
        <result property="rtlWhCd_P"               column="RTL_WH_CD"                   javaType="EZDSStringItem"/>
        <result property="rtlWhNm_P"               column="RTL_WH_NM"                   javaType="EZDSStringItem"/>
        <result property="rtlWhDescTxt_P"          column="RTL_WH_DESC_TXT"             javaType="EZDSStringItem"/>
    </resultMap>
    <!-- END   2016/08/08 S21_NA#11592 Add -->

    <!-- 2016/08/26 S21_NA#9806 Add Start -->
    <statement id="getOutboundConfigCsmpInfo" parameterClass="Map" resultClass="Map">
        SELECT
            DCD.CSMP_CONTR_NUM
            , DCD.DLR_REF_NUM
            , DCD.CSMP_PRC_LIST_CD
            , PC.PRC_CATG_NM 
        FROM
            CPO_DTL DCD
            , PRC_CATG PC 
        WHERE
            DCD.GLBL_CMPY_CD            = #glblCmpyCd# 
            AND DCD.CPO_ORD_NUM         = #cpoOrdNum#
            AND DCD.DS_ORD_POSN_NUM     = #dsOrdPosnNum#
            AND DCD.EZCANCELFLAG        = '0' 
            AND (DCD.CSMP_CONTR_NUM      IS NOT NULL OR DCD.DLR_REF_NUM IS NOT NULL OR DCD.CSMP_PRC_LIST_CD IS NOT NULL )
            AND DCD.GLBL_CMPY_CD        = PC.GLBL_CMPY_CD(+) 
            AND DCD.CSMP_PRC_LIST_CD    = PC.PRC_CATG_CD(+) 
            AND PC.EZCANCELFLAG(+)      = '0' 
            AND ROWNUM <![CDATA[<=]]> 1
    </statement>
    <statement id="getInboundConfigCsmpInfo" parameterClass="Map" resultClass="Map">
        SELECT
            DCRD.CSMP_CONTR_NUM
            , DCRD.DLR_REF_NUM
            , DCRD.CSMP_PRC_LIST_CD
            , PC.PRC_CATG_NM 
        FROM
            DS_CPO_RTRN_DTL DCRD
            , PRC_CATG PC 
        WHERE
            DCRD.GLBL_CMPY_CD           = #glblCmpyCd# 
            AND DCRD.CPO_ORD_NUM        = #cpoOrdNum#
            AND DCRD.DS_ORD_POSN_NUM    = #dsOrdPosnNum#
            AND DCRD.EZCANCELFLAG       = '0' 
            AND (DCRD.CSMP_CONTR_NUM      IS NOT NULL OR DCRD.DLR_REF_NUM IS NOT NULL OR DCRD.CSMP_PRC_LIST_CD IS NOT NULL )
            AND DCRD.GLBL_CMPY_CD       = PC.GLBL_CMPY_CD(+) 
            AND DCRD.CSMP_PRC_LIST_CD   = PC.PRC_CATG_CD(+) 
            AND PC.EZCANCELFLAG(+)      = '0' 
            AND ROWNUM <![CDATA[<=]]> 1
    </statement>
    <!-- 2016/08/26 S21_NA#9806 Add End -->
    <!-- 2019/08/01 S21_NA#52156 Add Start -->
    <statement id="getApprovedPRLineNum" parameterClass="Map" resultClass="Map">
    SELECT 
        CD.CPO_ORD_NUM          AS TRX_HDR_NUM
       ,CD.CPO_DTL_LINE_NUM     AS TRX_LINE_NUM
       ,CD.CPO_DTL_LINE_SUB_NUM AS TRX_LINE_SUB_NUM
    FROM 
        CPO_DTL CD
    WHERE 
            CD.GLBL_CMPY_CD = #glblCmpyCd#
        AND CD.CPO_ORD_NUM  = #cpoOrdNum#
        AND CD.EZCANCELFLAG = '0'
        AND CD.ORD_LINE_DPLY_STS_CD IN
            <iterate property="stsList" var="elem[]" open="(" close=")" conjunction=",">
                #elem[]#
            </iterate>
        AND (
            EXISTS (
                SELECT 
                    1
                FROM 
                    SHPG_PLN SP
                WHERE
                        SP.GLBL_CMPY_CD     = CD.GLBL_CMPY_CD 
                    AND SP.TRX_HDR_NUM      = CD.CPO_ORD_NUM
                    AND SP.TRX_LINE_NUM     = CD.CPO_DTL_LINE_NUM
                    AND SP.TRX_LINE_SUB_NUM = CD.CPO_DTL_LINE_SUB_NUM
                    AND SP.EZCANCELFLAG     = '0'
                    AND SP.SHPG_STS_CD      = #shpgStsCd#
                    AND (
                        EXISTS (
                            SELECT
                                1
                            FROM 
                                PRCH_REQ PR
                               ,PRCH_REQ_DTL      PRD
                               ,PRCH_REQ_APVL_STS PRAS
                        WHERE
                                SP.GLBL_CMPY_CD         = #glblCmpyCd#
                            AND PRD.SHPG_PLN_NUM        = SP.SHPG_PLN_NUM
                            AND PRD.EZCANCELFLAG        = '0'
                            AND PRD.PRCH_REQ_NUM        = PR.PRCH_REQ_NUM
                            AND PR.EZCANCELFLAG         = '0'
                            AND PR.PRCH_REQ_APVL_STS_CD = PRAS.PRCH_REQ_APVL_STS_CD
                            AND PRAS.PRCH_REQ_APVL_FLG  = 'Y'
                            AND PR.PRCH_REQ_STS_CD      &lt;&gt; #prchReqStsCancel#
                            AND PRD.PRCH_REQ_LINE_STS_CD &lt;&gt; #prchReqLineStsCancel#
                            AND NOT EXISTS (
                                SELECT
                                    1
                                FROM 
                                    PO_DTL PD
                                WHERE
                                        PD.GLBL_CMPY_CD = PRD.GLBL_CMPY_CD
                                    AND PD.PO_ORD_NUM   = PRD.PO_ORD_NUM
                                    AND PD.EZCANCELFLAG = '0'
                            )
                        )
                        OR EXISTS (
                            SELECT
                                1
                            FROM 
                                PO_DTL PD
                            WHERE
                                    PD.GLBL_CMPY_CD     = SP.GLBL_CMPY_CD
                                AND PD.SHPG_PLN_NUM     = SP.SHPG_PLN_NUM
                                AND PD.PO_STS_CD        &lt;&gt; #poStsCancel#
                                AND PD.EZCANCELFLAG     = '0'
                        )
                    )
                )
            OR EXISTS (
                SELECT 
                    1
                FROM
                    SHPG_PLN SP
                WHERE
                        SP.GLBL_CMPY_CD     = CD.GLBL_CMPY_CD
                    AND SP.TRX_HDR_NUM      = CD.CPO_ORD_NUM
                    AND SP.TRX_LINE_NUM     = CD.CPO_DTL_LINE_NUM
                    AND SP.TRX_LINE_SUB_NUM = CD.CPO_DTL_LINE_SUB_NUM
                    AND SP.EZCANCELFLAG     = '0'
                    AND SP.PO_REQ_FLG       = 'Y'
                    AND NOT EXISTS (
                        SELECT 
                            1
                        FROM 
                            SHPG_PLN SPA
                        WHERE
                                SPA.GLBL_CMPY_CD = SP.GLBL_CMPY_CD
                            AND SPA.SHPG_PLN_NUM = SP.SHPG_PLN_NUM
                            AND SPA.SHPG_STS_CD  = #shpgStsCd#
                        )
                    )
                )
    </statement>
    <!-- 2019/08/01 S21_NA#52156 Add End -->
    <!-- 2020/01/07 S21_NA#54996 Add Start -->
    <statement id="getOpenSO" parameterClass="Map" resultClass="Integer">
        SELECT
            COUNT(*)
        FROM
            SHPG_ORD SO
        WHERE
                SO.GLBL_CMPY_CD = #glblCmpyCd#
            AND SO.TRX_HDR_NUM  = #trxHdrNum#
            AND SO.SHPG_STS_CD NOT IN
            <iterate property="stsList" var="elem[]" open="(" close=")" conjunction=",">
                #elem[]#
            </iterate>
            AND SO.EZCANCELFLAG = '0'

    </statement>
    <!-- 2020/01/07 S21_NA#54996 Add End -->
</sqlMap>
