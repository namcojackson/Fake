<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZZOL0130Query">

	<typeAlias alias="ZZOL0130CMsg"		type="business.blap.ZZOL0130.ZZOL0130CMsg"/>
	<typeAlias alias="ZZOL0130_ASMsg"	type="business.blap.ZZOL0130.ZZOL0130_ASMsg"/>

	<statement id="getDelTblList" parameterClass="Map" resultMap="result.getDelTblList">
		SELECT
		        DEL_TBL_CONFIG_PK
		    ,   DEL_TBL_ID
		    ,   SPEC_EFF_CANC_CD
		    ,   SPEC_EFF_MTH_AOT
		    ,   DEL_TBL_CMNT_TXT
		    ,	DEL_EXEC_DT
		    ,   EZUPTIME
		    ,   EZUPTIMEZONE
		FROM
		        DEL_TBL_CONFIG
		WHERE
			    EZCANCELFLAG  = '0'
			AND GLBL_CMPY_CD  = #cMsg.glblCmpyCd#
				
		<!-- cpoOrdNum -->
		<isNotNull property="cMsg.delTblId_A0">
			AND DEL_TBL_ID LIKE #cMsg.delTblId_A0#
		</isNotNull>

			AND ROWNUM &lt;= #rowNum#
		ORDER BY
		        DEL_TBL_ID,
		        SPEC_EFF_MTH_AOT
	</statement>
	
	<statement id="getDuplicateCount" parameterClass="ZZOL0130CMsg" resultClass="Integer">
		SELECT
		        count(*)
		FROM
		        DEL_TBL_CONFIG
		WHERE
			    EZCANCELFLAG        = '0'
			AND GLBL_CMPY_CD        = #glblCmpyCd#
			AND DEL_TBL_ID          = #delTblId#
			AND SPEC_EFF_MTH_AOT    = #specEffMthAot#
	</statement>

	<statement id="isTableExist" parameterClass="ZZOL0130CMsg" resultClass="Integer">
		SELECT
		        count(*)
		FROM
		        #delTblId#
	</statement>
	
	<resultMap id="result.getDelTblList"          class="ZZOL0130_ASMsg">
		<result property="delTblConfigPk_A1"      column="DEL_TBL_CONFIG_PK"	javaType="EZDSBigDecimalItem"/>
		<result property="delTblId_A1"            column="DEL_TBL_ID"	        javaType="EZDSStringItem"/>
		<result property="specEffCancCd_A1"       column="SPEC_EFF_CANC_CD"	    javaType="EZDSStringItem"/>
		<result property="specEffMthAot_A1"       column="SPEC_EFF_MTH_AOT"	    javaType="EZDSBigDecimalItem"/>
		<result property="delTblCmntTxt_A1"       column="DEL_TBL_CMNT_TXT"	    javaType="EZDSStringItem"/>
		<result property="delExecDt_A1"           column="DEL_EXEC_DT"	        javaType="EZDSDateItem"/>
		<result property="ezUpTime_A1"            column="EZUPTIME"	            javaType="EZDCStringItem"/>
		<result property="ezUpTimeZone_A1"        column="EZUPTIMEZONE"	        javaType="EZDCStringItem"/>
	</resultMap>

</sqlMap>
