<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NMXC105001PriceListCheckUtil">
    <statement id="getEquipWrk" parameterClass="Map" resultClass="Integer">
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_EQUIP_WRK PLEW
        WHERE
                PLEW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLEW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLEW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLEW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLEW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLEW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#
            <isNotNull property="prcListEquipConfigNum">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NUM = #prcListEquipConfigNum#
            </isNotNull>
            <isNull property = "prcListEquipConfigNum">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NUM IS NULL
            </isNull>
            <isNotNull property="prcListEquipConfigNm">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NM  = #prcListEquipConfigNm#
            </isNotNull>
            <isNull property = "prcListEquipConfigNm">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NM  IS NULL
            </isNull>
            <isNotNull property="prcQlfyTpDescTxt">
            AND PLEW.PRC_QLFY_TP_DESC_TXT            = #prcQlfyTpDescTxt#
            </isNotNull>
            <isNull property = "prcQlfyTpDescTxt">
            AND PLEW.PRC_QLFY_TP_DESC_TXT            IS NULL
            </isNull>
            <isNotNull property="prcQlfyValTxt">
            AND PLEW.PRC_QLFY_VAL_TXT          = #prcQlfyValTxt#
            </isNotNull>
            <isNull property = "prcQlfyValTxt">
            AND PLEW.PRC_QLFY_VAL_TXT          IS NULL
            </isNull>
            <isNotNull property="pkgUomDescTxt">
            AND PLEW.PKG_UOM_DESC_TXT                = #pkgUomDescTxt#
            </isNotNull>
            <isNull property = "pkgUomDescTxt">
            AND PLEW.PKG_UOM_DESC_TXT                IS NULL
            </isNull>
            <isNotNull property="prcTermUomDescTxt">
            AND PLEW.PRC_TERM_UOM_DESC_TXT           = #prcTermUomDescTxt#
            </isNotNull>
            <isNull property = "prcTermUomDescTxt">
            AND PLEW.PRC_TERM_UOM_DESC_TXT           IS NULL
            </isNull>
            <isNotNull property="prcTermAot">
            AND PLEW.PRC_TERM_AOT              = #prcTermAot#
            </isNotNull>
            <isNull property = "prcTermAot">
            AND PLEW.PRC_TERM_AOT              IS NULL
            </isNull>
            AND ((PLEW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLEW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLEW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLEW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLEW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                        &lt;= 1
    </statement>

    <!-- START 2017/08/28 H.Sugawara [QC#19873,ADD] -->
    <statement id="getEquip" parameterClass="Map" resultClass="Map">
        SELECT
            PLE.PRC_LIST_EQUIP_PK
          , PLE.EFF_FROM_DT
          , PLE.EFF_THRU_DT
        FROM
            PRC_LIST_EQUIP PLE
        WHERE
                PLE.GLBL_CMPY_CD              = #glblCmpyCd#
            AND PLE.EZCANCELFLAG              = '0'
            AND PLE.PRC_CATG_CD               = #prcCatgCd#
            AND PLE.DEL_FLG                   = 'N'

            <isNotNull property="prcListEquipConfigNum">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NUM = #prcListEquipConfigNum#
            </isNotNull>
            <isNull property = "prcListEquipConfigNum">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NUM IS NULL
            </isNull>
            <isNotNull property="prcListEquipConfigNm">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NM  = #prcListEquipConfigNm#
            </isNotNull>
            <isNull property = "prcListEquipConfigNm">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NM  IS NULL
            </isNull>
            <isNotNull property="prcQlfyTpCd">
            AND PLE.PRC_QLFY_TP_CD            = #prcQlfyTpCd#
            </isNotNull>
            <isNull property = "prcQlfyTpCd">
            AND PLE.PRC_QLFY_TP_CD            IS NULL
            </isNull>
            <isNotNull property="prcQlfyValTxt">
            AND PLE.PRC_QLFY_VAL_TXT          = #prcQlfyValTxt#
            </isNotNull>
            <isNull property = "prcQlfyValTxt">
            AND PLE.PRC_QLFY_VAL_TXT          IS NULL
            </isNull>
            <isNotNull property="pkgUomCd">
            AND PLE.PKG_UOM_CD                = #pkgUomCd#
            </isNotNull>
            <isNull property = "pkgUomCd">
            AND PLE.PKG_UOM_CD                IS NULL
            </isNull>
            <isNotNull property="prcTermUomCd">
            AND PLE.PRC_TERM_UOM_CD           = #prcTermUomCd#
            </isNotNull>
            <isNull property = "prcTermUomCd">
            AND PLE.PRC_TERM_UOM_CD           IS NULL
            </isNull>
            <isNotNull property="prcTermAot">
            AND PLE.PRC_TERM_AOT              = #prcTermAot#
            </isNotNull>
            <isNull property = "prcTermAot">
            AND PLE.PRC_TERM_AOT              IS NULL
            </isNull>
            AND ((PLE.EFF_FROM_DT            &gt; #effFromDt#
            AND PLE.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLE.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLE.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLE.EFF_FROM_DT              = #effFromDt#)
    </statement>
    <!-- END 2017/08/28 H.Sugawara [QC#19873,ADD] -->

    <statement id="getInEachQty" parameterClass="Map" resultClass="Map">
        SELECT MSP.IN_EACH_QTY
          FROM ORD_TAKE_MDSE OTM
             , MDSE_STORE_PKG MSP
         WHERE OTM.GLBL_CMPY_CD       = #glblCmpyCd#
           AND OTM.EZCANCELFLAG       = '0'
           AND OTM.ORD_TAKE_MDSE_CD   = #itemCd#
           <!-- Mod Start 2018/04/03 QC#25211 -->
           AND (
               (
                       MSP.PKG_UOM_CD      = #pkgUomCd#
                   AND MSP.BASE_PKG_UOM_CD IS NULL
               )
               OR MSP.BASE_PKG_UOM_CD = #pkgUomCd#
               )
           <!-- Mod End 2018/04/03 QC#25211 -->
           AND OTM.GLBL_CMPY_CD       = MSP.GLBL_CMPY_CD
           AND OTM.EZCANCELFLAG       = MSP.EZCANCELFLAG
           AND OTM.MDSE_CD            = MSP.MDSE_CD
         UNION ALL
        SELECT MSP.IN_EACH_QTY
          FROM MDSE_STORE_PKG MSP
         WHERE MSP.GLBL_CMPY_CD       = #glblCmpyCd#
           AND MSP.EZCANCELFLAG       = '0'
           AND MSP.MDSE_CD            = #itemCd#
           <!-- Mod Start 2018/04/03 QC#25211 -->
           AND (
               (
                       MSP.PKG_UOM_CD      = #pkgUomCd#
                   AND MSP.BASE_PKG_UOM_CD IS NULL
               )
               OR MSP.BASE_PKG_UOM_CD = #pkgUomCd#
               )
           <!-- Mod End 2018/04/03 QC#25211 -->
    </statement>
    
    <statement id="getPrcListEquip" parameterClass="Map" resultClass="Map">
        SELECT
            PLE.PRC_LIST_EQUIP_PRC_AMT
          , PLE.PRC_FMLA_PK
        FROM
            PRC_LIST_EQUIP PLE
        WHERE
                PLE.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLE.EZCANCELFLAG = '0'
            AND PLE.PRC_CATG_CD  = #prcCatgCd#
            AND PLE.PRC_QLFY_VAL_TXT = #prcQlfyValTxt#
    </statement>
    
    <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
    <!-- <statement id="getSvc" parameterClass="Map" resultClass="Integer"> -->
    <statement id="getSvc" parameterClass="Map" resultClass="Map">
    <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
         SELECT
          <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
          <!--   COUNT(*) -->
            PLS.PRC_LIST_SVC_PK
          , PLS.EFF_FROM_DT
          , PLS.EFF_THRU_DT
          <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        FROM
            PRC_LIST_SVC PLS
        WHERE
                PLS.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLS.EZCANCELFLAG = '0'
            AND PLS.PRC_CATG_CD  = #prcCatgCd#
            AND PLS.DEL_FLG      = 'N'
            <isNotNull property="dtlPk">
            <iterate property="dtlPk" var="elem[]" open="AND (" close=")" conjunction="AND">
                PLS.PRC_LIST_SVC_PK &lt;&gt; #elem[]#
            </iterate>
            </isNotNull>
            <isNotNull property="mdlId">
            AND PLS.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLS.MDL_ID       IS NULL
            </isNull>
            
            <isNotNull property="prcMtrPkgPk">
            AND PLS.PRC_MTR_PKG_PK = #prcMtrPkgPk#
            </isNotNull>
            <isNull property="prcMtrPkgPk">
            AND PLS.PRC_MTR_PKG_PK IS NULL
            </isNull>
            
            <isNotNull property="prcSvcPlnTpCd">
            AND PLS.PRC_SVC_PLN_TP_CD = #prcSvcPlnTpCd#
            </isNotNull>
            <isNull property="prcSvcPlnTpCd">
            AND PLS.PRC_SVC_PLN_TP_CD IS NULL
            </isNull>
            
            <isNotNull property="prcSvcContrTpCd">
            AND PLS.PRC_SVC_CONTR_TP_CD = #prcSvcContrTpCd#
            </isNotNull>
            <isNull property="prcSvcContrTpCd">
            AND PLS.PRC_SVC_CONTR_TP_CD IS NULL
            </isNull>
        
            <isNotNull property="bllgMtrLbCd">
            AND PLS.BLLG_MTR_LB_CD = #bllgMtrLbCd#
            </isNotNull>
            <isNull property="bllgMtrLbCd">
            AND PLS.BLLG_MTR_LB_CD IS NULL
            </isNull>
            
            <isNotNull property="prcListBandCd">
            AND PLS.PRC_LIST_BAND_CD = #prcListBandCd#
            </isNotNull>
            <isNull property="prcListBandCd">
            AND PLS.PRC_LIST_BAND_CD IS NULL
            </isNull>
            
            <isNotNull property="termFromMthAot">
            AND PLS.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLS.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLS.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLS.TERM_THRU_MTH_AOT IS NULL
            </isNull>
            
            <isNotNull property="prcListMdseCd">
            AND PLS.PRC_LIST_MDSE_CD = #prcListMdseCd#
            </isNotNull>
            <isNull property="prcListMdseCd">
            AND PLS.PRC_LIST_MDSE_CD IS NULL
            </isNull>
        
            AND ((PLS.EFF_FROM_DT            &gt; #effFromDt#
            AND PLS.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLS.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLS.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLS.EFF_FROM_DT              = #effFromDt#)
            <!-- START 2017/08/28 H.Sugawara [QC#19873,DEL] -->
            <!-- AND ROWNUM                        &lt;= 1 -->
            <!-- END 2017/08/28 H.Sugawara [QC#19873,DEL] -->
    </statement>
    
    <statement id="getSvcWrk" parameterClass="Map" resultClass="Integer">
         SELECT
            COUNT(*)
        FROM
            PRC_LIST_SVC_WRK PLSW
        WHERE
                PLSW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLSW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLSW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLSW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLSW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#
            <isNotNull property="mdlNm">
            AND PLSW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLSW.MDL_NM       IS NULL
            </isNull>
            
            <isNotNull property="prcMtrPkgNm">
            AND PLSW.PRC_MTR_PKG_NM = #prcMtrPkgNm#
            </isNotNull>
            <isNull property="prcMtrPkgNm">
            AND PLSW.PRC_MTR_PKG_NM IS NULL
            </isNull>
            
            <isNotNull property="prcSvcPlnTpDescTxt">
            AND PLSW.PRC_SVC_PLN_TP_DESC_TXT = #prcSvcPlnTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcPlnTpDescTxt">
            AND PLSW.PRC_SVC_PLN_TP_DESC_TXT IS NULL
            </isNull>
            
            <isNotNull property="prcSvcContrDescTxt">
            AND PLSW.PRC_SVC_CONTR_TP_DESC_TXT = #prcSvcContrDescTxt#
            </isNotNull>
            <isNull property="prcSvcContrDescTxt">
            AND PLSW.PRC_SVC_CONTR_TP_DESC_TXT IS NULL
            </isNull>
        
            <isNotNull property="mtrLbNm">
            AND PLSW.MTR_LB_NM = #mtrLbNm#
            </isNotNull>
            <isNull property="mtrLbNm">
            AND PLSW.MTR_LB_NM IS NULL
            </isNull>
            
            <isNotNull property="prcListBandDescTxt">
            AND PLSW.PRC_LIST_BAND_DESC_TXT = #prcListBandDescTxt#
            </isNotNull>
            <isNull property="prcListBandDescTxt">
            AND PLSW.PRC_LIST_BAND_DESC_TXT IS NULL
            </isNull>
            
            <isNotNull property="termFromMthAot">
            AND PLSW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLSW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
            
            <isNotNull property="prcListMdseCd">
            AND PLSW.PRC_LIST_MDSE_CD = #prcListMdseCd#
            </isNotNull>
            <isNull property="prcListMdseCd">
            AND PLSW.PRC_LIST_MDSE_CD IS NULL
            </isNull>
        
            AND ((PLSW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLSW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLSW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLSW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLSW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                        &lt;= 1
    </statement>
    
    <statement id="getMtrLb" parameterClass="Map" resultClass="String">
        SELECT DISTINCT M.MTR_LB_NM
          FROM MTR_LB M
         WHERE M.GLBL_CMPY_CD = #glblCmpyCd#
         AND M.EZCANCELFLAG = '0'
           AND M.MTR_LB_NM = #mtrLbNm#
    </statement>
    
     <statement id="getBllgMtrLb" parameterClass="Map" resultClass="String">
        SELECT
        DISTINCT
        BLLG_MTR_LB_CD
        ,BLLG_MTR_LB_NM
        FROM PRC_MTR_PKG_MTR_STRU_V MPV
        ,PRC_MTR_PKG P
        WHERE
        MPV.GLBL_CMPY_CD = #glblCmpyCd#
        AND MPV.EZCANCELFLAG = '0'
        AND MPV.MDL_MTR_EFF_FROM_DT &lt;= #slsDt#
        AND NVL(MPV.MDL_MTR_EFF_THRU_DT, '99991231') &gt;= #slsDt#
        AND MPV.BLLG_MTR_MAP_EFF_FROM_DT &lt;= #slsDt#
        AND NVL(MPV.BLLG_MTR_MAP_EFF_THRU_DT, '99991231') &gt;= #slsDt#
        AND MPV.MTR_PKG_EFF_FROM_DT &lt;= #slsDt#
        AND NVL(MPV.MTR_PKG_EFF_THRU_DT, '99991231') &gt;= #slsDt#
        AND MPV.MTR_PKG_MDL_EFF_FROM_DT &lt;= #slsDt#
        AND NVL(MPV.MTR_PKG_MDL_EFF_THRU_DT, '99991231') &gt;= #slsDt#
        AND MPV.GLBL_CMPY_CD = P.GLBL_CMPY_CD
        AND MPV.EZCANCELFLAG = P.EZCANCELFLAG
        AND MPV.PRC_MTR_PKG_PK = P.PRC_MTR_PKG_PK
        AND BLLG_MTR_LB_NM = #bllgMtrLbNm#
    </statement>
    
    <statement id="getPrcMtrPkgBllgMtr" parameterClass="Map" resultClass="BigDecimal">
        SELECT DISTINCT PMPMSV.PRC_MTR_PKG_BLLG_MTR_PK
        FROM PRC_MTR_PKG_MTR_STRU_V PMPMSV
        WHERE PMPMSV.GLBL_CMPY_CD = #glblCmpyCd# 
           AND PMPMSV.PRC_MTR_PKG_PK = #prcMtrPkgPk#
           AND PMPMSV.BLLG_MTR_LB_CD = #mtrLbCd#
           AND PMPMSV.MDL_ID = #mdlId#

           AND PMPMSV.MDL_MTR_EFF_FROM_DT &lt;= #slsDt#
           AND NVL(PMPMSV.MDL_MTR_EFF_THRU_DT, #highValDt#) &gt;= #slsDt# 

           AND PMPMSV.BLLG_MTR_MAP_EFF_FROM_DT &lt;= #slsDt#
           AND NVL(PMPMSV.BLLG_MTR_MAP_EFF_THRU_DT, #highValDt#) &gt;= #slsDt# 

           AND PMPMSV.MTR_PKG_EFF_FROM_DT &lt;= #slsDt#
           AND NVL(PMPMSV.MTR_PKG_EFF_THRU_DT, #highValDt#) &gt;= #slsDt# 

           AND PMPMSV.MTR_PKG_MDL_EFF_FROM_DT &lt;= #slsDt#
           AND NVL(PMPMSV.MTR_PKG_MDL_EFF_THRU_DT, #highValDt#) &gt;= #slsDt# 
    </statement>
    
    <statement id="getAnyColmn" parameterClass="Map" resultClass="String">
        SELECT
            $colNm$     GET_COLUMN
        FROM
            $tblNm$ A
        WHERE
                A.GLBL_CMPY_CD = #glblCmpyCd#
            AND A.EZCANCELFLAG = '0'
            AND A.$whereCol$ = #whereVal#
    </statement>
    
    <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
    <!-- <statement id="getSvcTier" parameterClass="Map" resultClass="Integer"> -->
    <statement id="getSvcTier" parameterClass="Map" resultClass="Map">
    <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
         SELECT
          <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
          <!--   COUNT(*) -->
            PLST.PRC_LIST_SVC_TIER_PK
          , PLST.EFF_FROM_DT
          , PLST.EFF_THRU_DT
          <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        FROM
            PRC_LIST_SVC_TIER PLST
        WHERE
                PLST.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLST.EZCANCELFLAG = '0'
            AND PLST.PRC_CATG_CD  = #prcCatgCd#
            AND PLST.DEL_FLG      = 'N'
            <isNotNull property="dtlPk">
            <iterate property="dtlPk" var="elem[]" open="AND (" close=")" conjunction="AND">
                PLST.PRC_LIST_SVC_TIER_PK &lt;&gt; #elem[]#
            </iterate>
            </isNotNull>
            
            <isNotNull property="mdlId">
            AND PLST.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLST.MDL_ID       IS NULL
            </isNull>
            
            <isNotNull property="prcSvcTierTpCd">
            AND PLST.PRC_SVC_TIER_TP_CD = #prcSvcTierTpCd#
            </isNotNull>
            <isNull property="prcSvcTierTpCd">
            AND PLST.PRC_SVC_TIER_TP_CD IS NULL
            </isNull>
            
            <isNotNull property="prcMtrPkgPk">
            AND PLST.PRC_MTR_PKG_PK = #prcMtrPkgPk#
            </isNotNull>
            <isNull property="prcMtrPkgPk">
            AND PLST.PRC_MTR_PKG_PK IS NULL
            </isNull>
            
            <isNotNull property="prcSvcPlnTpCd">
            AND PLST.PRC_SVC_PLN_TP_CD = #prcSvcPlnTpCd#
            </isNotNull>
            <isNull property="prcSvcPlnTpCd">
            AND PLST.PRC_SVC_PLN_TP_CD IS NULL
            </isNull>
            
            <isNotNull property="prcSvcContrTpCd">
            AND PLST.PRC_SVC_CONTR_TP_CD = #prcSvcContrTpCd#
            </isNotNull>
            <isNull property="prcSvcContrTpCd">
            AND PLST.PRC_SVC_CONTR_TP_CD IS NULL
            </isNull>
        
            <isNotNull property="bllgMtrLbCd">
            AND PLST.BLLG_MTR_LB_CD = #bllgMtrLbCd#
            </isNotNull>
            <isNull property="bllgMtrLbCd">
            AND PLST.BLLG_MTR_LB_CD IS NULL
            </isNull>
            
            <isNotNull property="prcListBandCd">
            AND PLST.PRC_LIST_BAND_CD = #prcListBandCd#
            </isNotNull>
            <isNull property="prcListBandCd">
            AND PLST.PRC_LIST_BAND_CD IS NULL
            </isNull>
            
            <isNotNull property="termFromMthAot">
            AND PLST.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLST.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLST.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLST.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        
            AND ((PLST.EFF_FROM_DT            &gt; #effFromDt#
            AND PLST.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLST.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLST.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLST.EFF_FROM_DT              = #effFromDt#)
            <!-- START 2017/08/28 H.Sugawara [QC#19873,DEL] -->
            <!-- AND ROWNUM                        &lt;= 1 -->
            <!-- END 2017/08/28 H.Sugawara [QC#19873,DEL] -->
    </statement>
    
    <statement id="getSvcTierWrk" parameterClass="Map" resultClass="Integer">
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_SVC_TIER_WRK PLSTW
        WHERE
                PLSTW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSTW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLSTW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLSTW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLSTW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLSTW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#
            
            <isNotNull property="mdlNm">
            AND PLSTW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLSTW.MDL_NM       IS NULL
            </isNull>
            
            <isNotNull property="prcMtrPkgNm">
            AND PLSTW.PRC_MTR_PKG_NM = #prcMtrPkgNm#
            </isNotNull>
            <isNull property="prcMtrPkgNm">
            AND PLSTW.PRC_MTR_PKG_NM IS NULL
            </isNull>
            
            <isNotNull property="prcSvcTierTpDescTxt">
            AND PLSTW.PRC_SVC_TIER_TP_DESC_TXT = #prcSvcTierTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcTierTpDescTxt">
            AND PLSTW.PRC_SVC_TIER_TP_DESC_TXT IS NULL
            </isNull>
            
            <isNotNull property="prcSvcPlnTpDescTxt">
            AND PLSTW.PRC_SVC_PLN_TP_DESC_TXT = #prcSvcPlnTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcPlnTpDescTxt">
            AND PLSTW.PRC_SVC_PLN_TP_DESC_TXT IS NULL
            </isNull>
            
            <isNotNull property="prcSvcContrDescTxt">
            AND PLSTW.PRC_SVC_CONTR_TP_DESC_TXT = #prcSvcContrDescTxt#
            </isNotNull>
            <isNull property="prcSvcContrDescTxt">
            AND PLSTW.PRC_SVC_CONTR_TP_DESC_TXT IS NULL
            </isNull>
        
            <isNotNull property="mtrLbNm">
            AND PLSTW.MTR_LB_NM = #mtrLbNm#
            </isNotNull>
            <isNull property="mtrLbNm">
            AND PLSTW.MTR_LB_NM IS NULL
            </isNull>
            
            <isNotNull property="prcListBandDescTxt">
            AND PLSTW.PRC_LIST_BAND_DESC_TXT = #prcListBandDescTxt#
            </isNotNull>
            <isNull property="prcListBandDescTxt">
            AND PLSTW.PRC_LIST_BAND_DESC_TXT IS NULL
            </isNull>
            
            <isNotNull property="termFromMthAot">
            AND PLSTW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSTW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLSTW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSTW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        
            AND ((PLSTW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLSTW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLSTW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLSTW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLSTW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                        &lt;= 1
    </statement>
    <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
    <!-- <statement id="getSplyPgm" parameterClass="Map" resultClass="Integer"> -->
    <statement id="getSplyPgm" parameterClass="Map" resultClass="Map">
    <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
         SELECT
          <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
          <!--   COUNT(*) -->
            PLSP.PRC_LIST_SPLY_PGM_PK
          , PLSP.EFF_FROM_DT
          , PLSP.EFF_THRU_DT
          <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        FROM
            PRC_LIST_SPLY_PGM PLSP
        WHERE
                PLSP.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSP.EZCANCELFLAG = '0'
            AND PLSP.PRC_CATG_CD  = #prcCatgCd#
            AND PLSP.DEL_FLG      = 'N'
            
            <isNotNull property="dtlPk">
            <iterate property="dtlPk" var="elem[]" open="AND (" close=")" conjunction="AND">
                PLSP.PRC_LIST_SPLY_PGM_PK &lt;&gt; #elem[]#
            </iterate>
            </isNotNull>
            
            <isNotNull property="mdlId">
            AND PLSP.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLSP.MDL_ID       IS NULL
            </isNull>
            
            <isNotNull property="prcMtrPkgPk">
            AND PLSP.PRC_MTR_PKG_PK = #prcMtrPkgPk#
            </isNotNull>
            <isNull property="prcMtrPkgPk">
            AND PLSP.PRC_MTR_PKG_PK IS NULL
            </isNull>
            
            <isNotNull property="prcSvcPlnTpCd">
            AND PLSP.PRC_SVC_PLN_TP_CD = #prcSvcPlnTpCd#
            </isNotNull>
            <isNull property="prcSvcPlnTpCd">
            AND PLSP.PRC_SVC_PLN_TP_CD IS NULL
            </isNull>
            
            <isNotNull property="prcSvcContrTpCd">
            AND PLSP.PRC_SVC_CONTR_TP_CD = #prcSvcContrTpCd#
            </isNotNull>
            <isNull property="prcSvcContrTpCd">
            AND PLSP.PRC_SVC_CONTR_TP_CD IS NULL
            </isNull>
        
            <isNotNull property="bllgMtrLbCd">
            AND PLSP.BLLG_MTR_LB_CD = #bllgMtrLbCd#
            </isNotNull>
            <isNull property="bllgMtrLbCd">
            AND PLSP.BLLG_MTR_LB_CD IS NULL
            </isNull>
            
            <isNotNull property="prcListBandCd">
            AND PLSP.PRC_LIST_BAND_CD = #prcListBandCd#
            </isNotNull>
            <isNull property="prcListBandCd">
            AND PLSP.PRC_LIST_BAND_CD IS NULL
            </isNull>
            
            <isNotNull property="termFromMthAot">
            AND PLSP.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSP.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLSP.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSP.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        
            AND ((PLSP.EFF_FROM_DT            &gt; #effFromDt#
            AND PLSP.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLSP.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLSP.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLSP.EFF_FROM_DT              = #effFromDt#)
            <!-- START 2017/08/28 H.Sugawara [QC#19873,DEL] -->
            <!-- AND ROWNUM                        &lt;= 1 -->
            <!-- END 2017/08/28 H.Sugawara [QC#19873,DEL] -->
    </statement>
    <statement id="getSplyPgmWrk" parameterClass="Map" resultClass="Integer">
         SELECT
            COUNT(*)
        FROM
            PRC_LIST_SPLY_PGM_WRK PLSPW
        WHERE
                PLSPW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSPW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLSPW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLSPW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLSPW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLSPW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#
            
            <isNotNull property="mdlNm">
            AND PLSPW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLSPW.MDL_NM       IS NULL
            </isNull>
            
            <isNotNull property="prcMtrPkgNm">
            AND PLSPW.PRC_MTR_PKG_NM = #prcMtrPkgNm#
            </isNotNull>
            <isNull property="prcMtrPkgNm">
            AND PLSPW.PRC_MTR_PKG_NM IS NULL
            </isNull>
            
            <isNotNull property="prcSvcPlnTpDescTxt">
            AND PLSPW.PRC_SVC_PLN_TP_DESC_TXT = #prcSvcPlnTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcPlnTpDescTxt">
            AND PLSPW.PRC_SVC_PLN_TP_DESC_TXT IS NULL
            </isNull>
            
            <isNotNull property="prcSvcContrDescTxt">
            AND PLSPW.PRC_SVC_CONTR_TP_DESC_TXT = #prcSvcContrDescTxt#
            </isNotNull>
            <isNull property="prcSvcContrDescTxt">
            AND PLSPW.PRC_SVC_CONTR_TP_DESC_TXT IS NULL
            </isNull>
        
            <isNotNull property="mtrLbNm">
            AND PLSPW.MTR_LB_NM = #mtrLbNm#
            </isNotNull>
            <isNull property="mtrLbNm">
            AND PLSPW.MTR_LB_NM IS NULL
            </isNull>
            
            <isNotNull property="prcListBandDescTxt">
            AND PLSPW.PRC_LIST_BAND_DESC_TXT = #prcListBandDescTxt#
            </isNotNull>
            <isNull property="prcListBandDescTxt">
            AND PLSPW.PRC_LIST_BAND_DESC_TXT IS NULL
            </isNull>
            
            <isNotNull property="termFromMthAot">
            AND PLSPW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSPW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLSPW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSPW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        
            AND ((PLSPW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLSPW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLSPW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLSPW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLSPW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                        &lt;= 1
    </statement>
    <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
    <!-- <statement id="getAddlChrg" parameterClass="Map" resultClass="Integer"> -->
    <statement id="getAddlChrg" parameterClass="Map" resultClass="Map">
    <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        SELECT
          <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
          <!--   COUNT(*) -->
            PLAC.PRC_LIST_ADDL_CHRG_PK
          , PLAC.EFF_FROM_DT
          , PLAC.EFF_THRU_DT
          <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        FROM
            PRC_LIST_ADDL_CHRG PLAC
        WHERE
                PLAC.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLAC.EZCANCELFLAG = '0'
            AND PLAC.PRC_CATG_CD  = #prcCatgCd#
            AND PLAC.DEL_FLG      = 'N'
            
            <isNotNull property="dtlPk">
            <iterate property="dtlPk" var="elem[]" open="AND (" close=")" conjunction="AND">
                PLAC.PRC_LIST_ADDL_CHRG_PK &lt;&gt; #elem[]#
            </iterate>
            </isNotNull>
        
            <isNotNull property="mdseCd">
            AND PLAC.MDSE_CD       = #mdseCd#
            </isNotNull>
            <isNull property="mdseCd">
            AND PLAC.MDSE_CD       IS NULL
            </isNull>
        
            <isNotNull property="mdlId">
            AND PLAC.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLAC.MDL_ID       IS NULL
            </isNull>
        
            <isNotNull property="mktMdlSegCd">
            AND PLAC.MKT_MDL_SEG_CD       = #mktMdlSegCd#
            </isNotNull>
            <isNull property="mktMdlSegCd">
            AND PLAC.MKT_MDL_SEG_CD       IS NULL
            </isNull>
        
            AND ((PLAC.EFF_FROM_DT            &gt; #effFromDt#
            AND PLAC.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLAC.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLAC.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLAC.EFF_FROM_DT              = #effFromDt#)
            <!-- START 2017/08/28 H.Sugawara [QC#19873,DEL] -->
            <!-- AND ROWNUM                        &lt;= 1 -->
            <!-- END 2017/08/28 H.Sugawara [QC#19873,DEL] -->
    </statement>

    <statement id="getAddlChrgWrk" parameterClass="Map" resultClass="Integer">
         SELECT
            COUNT(*)
        FROM
            PRC_LIST_ADDL_CHRG_WRK PLACW
        WHERE
                PLACW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLACW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLACW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLACW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLACW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLACW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#
        
            <isNotNull property="mdseCd">
            AND PLACW.MDSE_CD       = #mdseCd#
            </isNotNull>
            <isNull property="mdseCd">
            AND PLACW.MDSE_CD       IS NULL
            </isNull>
        
            <isNotNull property="mdlNm">
            AND PLACW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLACW.MDL_NM       IS NULL
            </isNull>
        
            <isNotNull property="mktMdlSegDescTxt">
            AND PLACW.MKT_MDL_SEG_DESC_TXT       = #mktMdlSegDescTxt#
            </isNotNull>
            <isNull property="mktMdlSegDescTxt">
            AND PLACW.MKT_MDL_SEG_DESC_TXT       IS NULL
            </isNull>
        
            AND ((PLACW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLACW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLACW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLACW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLACW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                        &lt;= 1
    </statement>
    
    <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
    <!-- <statement id="getLeaseRate" parameterClass="Map" resultClass="Integer"> -->
    <statement id="getLeaseRate" parameterClass="Map" resultClass="Map">
    <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
         SELECT
          <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
          <!--   COUNT(*) -->
            PLLR.PRC_LIST_LEASE_RATE_PK
          , PLLR.EFF_FROM_DT
          , PLLR.EFF_THRU_DT
          <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        FROM 
            PRC_LIST_LEASE_RATE PLLR
        WHERE
                PLLR.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLR.EZCANCELFLAG = '0'
            AND PLLR.PRC_CATG_CD  = #prcCatgCd#
            AND PLLR.DEL_FLG      = 'N'
            
            <isNotNull property="dtlPk">
            <iterate property="dtlPk" var="elem[]" open="AND (" close=")" conjunction="AND">
                PLLR.PRC_LIST_LEASE_RATE_PK &lt;&gt; #elem[]#
            </iterate>
            </isNotNull>
            
            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
        
            <isNotNull property="dsAcctNm">
            AND PLLR.DS_ACCT_NM       = #dsAcctNm#
            </isNotNull>
            <isNull property="dsAcctNm">
            AND PLLR.DS_ACCT_NM      IS NULL
            </isNull>
        
            <isNotNull property="prcPgmTpCd">
            AND PLLR.PRC_PGM_TP_CD      = #prcPgmTpCd#
            </isNotNull>
            <isNull property="prcPgmTpCd">
            AND PLLR.PRC_PGM_TP_CD      IS NULL
            </isNull>
        
            <isNotNull property="prcEquipTpCd">
            AND PLLR.PRC_EQUIP_TP_CD      = #prcEquipTpCd#
            </isNotNull>
            <isNull property="prcEquipTpCd">
            AND PLLR.PRC_EQUIP_TP_CD      IS NULL
            </isNull>
            
            <isNotNull property="mdlId">
            AND PLLR.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLLR.MDL_ID       IS NULL
            </isNull>
        
            <isNotNull property="termFromMthAot">
            AND PLLR.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLLR.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLLR.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLLR.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        
            AND ((PLLR.EFF_FROM_DT            &gt; #effFromDt#
            AND PLLR.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLLR.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLLR.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLLR.EFF_FROM_DT              = #effFromDt#)
            <!-- START 2017/08/28 H.Sugawara [QC#19873,DEL] -->
            <!-- AND ROWNUM                        &lt;= 1 -->
            <!-- END 2017/08/28 H.Sugawara [QC#19873,DEL] -->
    </statement>
    
    <statement id="getLeaseRateWrk" parameterClass="Map" resultClass="Integer">
         SELECT
            COUNT(*)
        FROM 
            PRC_LIST_LEASE_RATE_WRK PLLRW
        WHERE
                PLLRW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLRW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLLRW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLLRW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLLRW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLLRW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#
            
            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
        
            <isNotNull property="dsAcctNm">
            AND PLLRW.DS_ACCT_NM       = #dsAcctNm#
            </isNotNull>
            <isNull property="dsAcctNm">
            AND PLLRW.DS_ACCT_NM      IS NULL
            </isNull>
        
            <isNotNull property="prcPgmTpDescTxt">
            AND PLLRW.PRC_PGM_TP_DESC_TXT      = #prcPgmTpDescTxt#
            </isNotNull>
            <isNull property="prcPgmTpDescTxt">
            AND PLLRW.PRC_PGM_TP_DESC_TXT      IS NULL
            </isNull>
        
            <isNotNull property="prcEquipTpDescTxt">
            AND PLLRW.PRC_EQUIP_TP_DESC_TXT      = #prcEquipTpDescTxt#
            </isNotNull>
            <isNull property="prcEquipTpDescTxt">
            AND PLLRW.PRC_EQUIP_TP_DESC_TXT      IS NULL
            </isNull>

            <isNotNull property="mdlNm">
            AND PLLRW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLLRW.MDL_NM       IS NULL
            </isNull>
        
            <isNotNull property="termFromMthAot">
            AND PLLRW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLLRW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
        
            <isNotNull property="termThruMthAot">
            AND PLLRW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLLRW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        
            AND ((PLLRW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLLRW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLLRW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLLRW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLLRW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                        &lt;= 1
    </statement>
    <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
    <!-- <statement id="getLeaseRtrn" parameterClass="Map" resultClass="Integer"> -->
    <statement id="getLeaseRtrn" parameterClass="Map" resultClass="Map">
    <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        SELECT
          <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
          <!--   COUNT(*) -->
            PLLR.PRC_LIST_LEASE_RTRN_PK
          , PLLR.EFF_FROM_DT
          , PLLR.EFF_THRU_DT
          <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        FROM
            PRC_LIST_LEASE_RTRN PLLR
        WHERE
                PLLR.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLR.EZCANCELFLAG = '0'
            AND PLLR.PRC_CATG_CD  = #prcCatgCd#
            AND PLLR.DEL_FLG      = 'N'
            
            <isNotNull property="dtlPk">
            <iterate property="dtlPk" var="elem[]" open="AND (" close=")" conjunction="AND">
                PLLR.PRC_LIST_LEASE_RTRN_PK &lt;&gt; #elem[]#
            </iterate>
            </isNotNull>
            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
        
            <isNotNull property="svcSegCd">
            AND PLLR.SVC_SEG_CD  = #svcSegCd#
            </isNotNull>
            <isNull property="svcSegCd">
            AND PLLR.SVC_SEG_CD  IS NULL
            </isNull>
        
            <isNotNull property="prcInOutRgCd">
            AND PLLR.PRC_IN_OUT_RG_CD  = #prcInOutRgCd#
            </isNotNull>
            <isNull property="prcInOutRgCd">
            AND PLLR.PRC_IN_OUT_RG_CD  IS NULL
            </isNull>
        
            <isNotNull property="dstMileAmt">
            AND PLLR.DST_MILE_AMT  = #dstMileAmt#
            </isNotNull>
            <isNull property="dstMileAmt">
            AND PLLR.DST_MILE_AMT  IS NULL
            </isNull>
                
            AND ((PLLR.EFF_FROM_DT            &gt; #effFromDt#
            AND PLLR.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLLR.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLLR.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLLR.EFF_FROM_DT              = #effFromDt#)
            <!-- START 2017/08/28 H.Sugawara [QC#19873,DEL] -->
            <!-- AND ROWNUM                        &lt;= 1 -->
            <!-- END 2017/08/28 H.Sugawara [QC#19873,DEL] -->
    </statement>
    
    <statement id="getLeaseRtrnWrk" parameterClass="Map" resultClass="Integer">
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_LEASE_RTRN_WRK PLLRW
        WHERE
                PLLRW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLRW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLLRW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLLRW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLLRW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLLRW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#

            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
        
            <isNotNull property="svcSegDescTxt">
            AND PLLRW.SVC_SEG_DESC_TXT  = #svcSegDescTxt#
            </isNotNull>
            <isNull property="svcSegDescTxt">
            AND PLLRW.SVC_SEG_DESC_TXT  IS NULL
            </isNull>
        
            <isNotNull property="prcInOutRgDescTxt">
            AND PLLRW.PRC_IN_OUT_RG_DESC_TXT   = #prcInOutRgDescTxt#
            </isNotNull>
            <isNull property="prcInOutRgDescTxt">
            AND PLLRW.PRC_IN_OUT_RG_DESC_TXT  IS NULL
            </isNull>
        
            <isNotNull property="dstMileAmt">
            AND PLLRW.DST_MILE_AMT  = #dstMileAmt#
            </isNotNull>
            <isNull property="dstMileAmt">
            AND PLLRW.DST_MILE_AMT  IS NULL
            </isNull>
                
            AND ((PLLRW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLLRW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLLRW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLLRW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLLRW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                       &lt;= 1
    </statement>
    <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
    <!-- <statement id="getTradeIn" parameterClass="Map" resultClass="Integer"> -->
    <statement id="getTradeIn" parameterClass="Map" resultClass="Map">
    <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        SELECT
          <!-- START 2017/08/28 H.Sugawara [QC#19873,MOD] -->
          <!--   COUNT(*) -->
            PLTV.PRC_LIST_TI_VAL_PK
          , PLTV.EFF_FROM_DT
          , PLTV.EFF_THRU_DT
          <!-- END 2017/08/28 H.Sugawara [QC#19873,MOD] -->
        FROM
            PRC_LIST_TI_VAL PLTV
        WHERE
                PLTV.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLTV.EZCANCELFLAG = '0'
            AND PLTV.PRC_CATG_CD  = #prcCatgCd#
            AND PLTV.DEL_FLG      = 'N'
            
            <isNotNull property="dtlPk">
            <iterate property="dtlPk" var="elem[]" open="AND (" close=")" conjunction="AND">
                PLTV.PRC_LIST_TI_VAL_PK &lt;&gt; #elem[]#
            </iterate>
            </isNotNull>
            
            <isNotNull property="mdlId">
            AND PLTV.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLTV.MDL_ID       IS NULL
            </isNull>
        
            <isNotNull property="fromMtrCopyVolCnt">
            AND PLTV.FROM_MTR_COPY_VOL_CNT  = #fromMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTV.FROM_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
        
            <isNotNull property="thruMtrCopyVolCnt">
            AND PLTV.THRU_MTR_COPY_VOL_CNT  = #thruMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTV.THRU_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
        
            AND ((PLTV.EFF_FROM_DT            &gt; #effFromDt#
            AND PLTV.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLTV.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLTV.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLTV.EFF_FROM_DT              = #effFromDt#)
            <!-- START 2017/08/28 H.Sugawara [QC#19873,DEL] -->
            <!-- AND ROWNUM                        &lt;= 1 -->
            <!-- END 2017/08/28 H.Sugawara [QC#19873,DEL] -->
    </statement>
    <statement id="getTradeInWrk" parameterClass="Map" resultClass="Integer">
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_TI_VAL_WRK PLTVW
        WHERE
                PLTVW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLTVW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLTVW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLTVW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLTVW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            AND PLTVW.UPLD_CSV_RQST_ROW_NUM     &lt;&gt; #upldCsvRqstRowNum#

            
            <isNotNull property="mdlNm">
            AND PLTVW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLTVW.MDL_NM       IS NULL
            </isNull>
        
            <isNotNull property="fromMtrCopyVolCnt">
            AND PLTVW.FROM_MTR_COPY_VOL_CNT  = #fromMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTVW.FROM_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
        
            <isNotNull property="thruMtrCopyVolCnt">
            AND PLTVW.THRU_MTR_COPY_VOL_CNT  = #thruMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTVW.THRU_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
        
            AND ((PLTVW.EFF_FROM_DT            &gt; #effFromDt#
            AND PLTVW.EFF_FROM_DT              &lt;= #effThruDt#)
             OR (PLTVW.EFF_FROM_DT             &lt; #effFromDt#
            AND NVL(PLTVW.EFF_THRU_DT , '99991231') &gt;= #effFromDt#)
             OR PLTVW.EFF_FROM_DT              = #effFromDt#)
            AND ROWNUM                        &lt;= 1
    </statement>
    
    <!-- 2018/07/17 QC#20267 Add Start -->
    <statement id="getEquipmentMdseInfo" parameterClass="Map"  resultClass="Map">
        SELECT
              * 
        FROM
            ( 
                SELECT
                      AMV.MDSE_CD
                    , AMV.MDSE_DESC_SHORT_TXT
                    , AMV.MNF_ITEM_CD
                    , AMV.COA_MDSE_TP_CD
                    , CPJ.COA_PROJ_NM COA_MDSE_TP_NM
                    , MIT.MDSE_ITEM_TP_NM
                    , CP.COA_PROD_NM
                    , '' T_MDL_NM
                    , CASE 
                        WHEN AMV.ZEROTH_PROD_CTRL_CD IS NULL 
                        THEN NULL 
                        ELSE AMV.ZEROTH_PROD_CTRL_CD || ':' || ZEROTH_PROD_CTRL_NM 
                        END ZEROTH_PROD_CTRL
                    , CASE 
                        WHEN AMV.FIRST_PROD_CTRL_CD IS NULL 
                        THEN NULL 
                        ELSE AMV.FIRST_PROD_CTRL_CD || ':' || FIRST_PROD_CTRL_NM 
                        END FIRST_PROD_CTRL
                    , CASE 
                        WHEN AMV.SCD_PROD_CTRL_CD IS NULL 
                        THEN NULL 
                        ELSE AMV.SCD_PROD_CTRL_CD || ':' || SCD_PROD_CTRL_NM 
                        END SCD_PROD_CTRL
                    , CASE 
                        WHEN AMV.THIRD_PROD_CTRL_CD IS NULL 
                        THEN NULL 
                        ELSE AMV.THIRD_PROD_CTRL_CD || ':' || THIRD_PROD_CTRL_NM 
                        END THIRD_PROD_CTRL
                    , CASE 
                        WHEN AMV.FRTH_PROD_CTRL_CD IS NULL 
                        THEN NULL 
                        ELSE AMV.FRTH_PROD_CTRL_CD || ':' || FRTH_PROD_CTRL_NM 
                        END FRTH_PROD_CTRL 
                    <!-- 2018/09/04 QC#28019 Add Star -->
                    , AMV.MDSE_NM
                    , AMV.PKG_UOM_CLS_CD
                    <!-- 2018/09/04 QC#28019 Add End -->
                FROM
                    ALL_MDSE_V AMV
                    , COA_PROJ CPJ
                    , MDSE_ITEM_TP MIT
                    , COA_PROD CP 
                WHERE
                	AMV.GLBL_CMPY_CD = #glblCmpyCd#  
                    AND AMV.EZCANCELFLAG = '0' 
                    AND AMV.MNF_ITEM_CD = #mnfItemCd# 
                    AND AMV.GLBL_CMPY_CD = CPJ.GLBL_CMPY_CD(+) 
                    AND AMV.EZCANCELFLAG = CPJ.EZCANCELFLAG(+) 
                    AND AMV.COA_MDSE_TP_CD = CPJ.COA_PROJ_CD(+) 
                    AND AMV.GLBL_CMPY_CD = MIT.GLBL_CMPY_CD(+) 
                    AND AMV.EZCANCELFLAG = MIT.EZCANCELFLAG(+) 
                    AND AMV.MDSE_ITEM_TP_CD = MIT.MDSE_ITEM_TP_CD(+) 
                    AND AMV.GLBL_CMPY_CD = CP.GLBL_CMPY_CD(+) 
                    AND AMV.EZCANCELFLAG = CP.EZCANCELFLAG(+) 
                    AND AMV.COA_PROD_CD = CP.COA_PROD_CD(+)
            ) TMP 
    </statement>
    <!-- 2018/07/17 QC#20267 Add End -->
    
    <!-- 2018/08/16 QC#27716 Add Start -->
    <statement id="getPkgUomCd" parameterClass="Map" resultClass="String">
        SELECT
                PU.PKG_UOM_CD
        FROM  
                PKG_UOM PU
        WHERE   PU.GLBL_CMPY_CD = #glblCmpyCd#
            AND UPPER(PU.PKG_UOM_DESC_TXT) = UPPER(#pkgUomDescTxt#)
            <!-- 2018/09/04 QC#28019 Add Start -->
            <isNotNull property="pkgUomClsCd">
            AND PU.PKG_UOM_CLS_CD = #pkgUomClsCd#
            </isNotNull>
            <!-- 2018/09/04 QC#28019 Add End -->
            AND PU.EZCANCELFLAG = '0'
    </statement>
    <!-- 2018/08/16 QC#27716 Add End -->

    <!-- 2018/09/04 QC#28019 Add Start -->
    <statement id="getPkgUomCdForBaseUom" parameterClass="Map" resultClass="Map">
        SELECT
           MSP.PKG_UOM_CD
        FROM
           MDSE_STORE_PKG MSP
        WHERE
            MSP.GLBL_CMPY_CD    = #glblCmpyCd#
        AND MSP.EZCANCELFLAG    = '0'
        AND MSP.BASE_PKG_UOM_CD = #basePkgUomCd#
        AND MSP.MDSE_CD         = #mdseCd#
    </statement>
    <!-- 2018/09/04 QC#28019 Add End -->

    <!-- Add Start 2018/11/26 QC#29300 -->
    <statement id="getBasePkgUOM" parameterClass="Map" resultClass="Map">
        SELECT
              NVL(PU2.PKG_UOM_DESC_TXT, PU1.PKG_UOM_DESC_TXT) AS BASE_PKG_UOM_CD
        FROM
              ORD_TAKE_MDSE  OTM
            , MDSE_STORE_PKG MSP
            , PKG_UOM        PU1
            , PKG_UOM        PU2 
        WHERE
                OTM.GLBL_CMPY_CD     = #glblCmpyCd# 
            AND OTM.EZCANCELFLAG     = '0' 
            AND OTM.ORD_TAKE_MDSE_CD = #mdseCd# 

            AND OTM.GLBL_CMPY_CD     = MSP.GLBL_CMPY_CD 
            AND OTM.EZCANCELFLAG     = MSP.EZCANCELFLAG 
            AND OTM.MDSE_CD          = MSP.MDSE_CD 

            AND MSP.PKG_UOM_CD       = PU1.PKG_UOM_CD 
            AND MSP.GLBL_CMPY_CD     = PU1.GLBL_CMPY_CD 
            AND MSP.EZCANCELFLAG     = PU1.EZCANCELFLAG 

            AND MSP.BASE_PKG_UOM_CD  = PU2.PKG_UOM_CD(+) 
            AND MSP.GLBL_CMPY_CD     = PU2.GLBL_CMPY_CD(+) 
            AND MSP.EZCANCELFLAG     = PU2.EZCANCELFLAG(+) 
            AND PU2.PKG_UOM_CD is not null
        UNION ALL 
        SELECT
              NVL(PU2.PKG_UOM_DESC_TXT, PU1.PKG_UOM_DESC_TXT) AS BASE_PKG_UOM_CD
        FROM
              MDSE_STORE_PKG MSP
            , PKG_UOM PU1
            , PKG_UOM PU2 
        WHERE
                MSP.GLBL_CMPY_CD    = #glblCmpyCd# 
            AND MSP.EZCANCELFLAG    = '0' 
            AND MSP.MDSE_CD         = #mdseCd# 

            AND MSP.PKG_UOM_CD      = PU1.PKG_UOM_CD 
            AND MSP.GLBL_CMPY_CD    = PU1.GLBL_CMPY_CD 
            AND MSP.EZCANCELFLAG    = PU1.EZCANCELFLAG 

            AND MSP.BASE_PKG_UOM_CD = PU2.PKG_UOM_CD(+) 
            AND MSP.GLBL_CMPY_CD    = PU2.GLBL_CMPY_CD(+) 
            AND MSP.EZCANCELFLAG    = PU2.EZCANCELFLAG(+)
            AND PU2.PKG_UOM_CD is not null

    </statement>
    <!-- Add End 2018/11/26 QC#29300 -->

    <!-- 2023/08/22 QC#61385 Add Start -->
    <statement id="checkPrcListEquipWrkBlankPeriodCnt" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
            SELECT
                PLE.EFF_FROM_DT
              , PLE.EFF_THRU_DT
            FROM
                PRC_LIST_EQUIP PLE
            WHERE
                PLE.GLBL_CMPY_CD              = #glblCmpyCd#
            AND PLE.EZCANCELFLAG              = '0'
            AND PLE.PRC_CATG_CD               = #prcCatgCd#
            AND PLE.DEL_FLG                   = 'N'

            <isNotNull property="prcListEquipConfigNum">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NUM = #prcListEquipConfigNum#
            </isNotNull>
            <isNull property = "prcListEquipConfigNum">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NUM IS NULL
            </isNull>
            <isNotNull property="prcListEquipConfigNm">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NM  = #prcListEquipConfigNm#
            </isNotNull>
            <isNull property = "prcListEquipConfigNm">
            AND PLE.PRC_LIST_EQUIP_CONFIG_NM  IS NULL
            </isNull>
            <isNotNull property="prcQlfyTpCd">
            AND PLE.PRC_QLFY_TP_CD            = #prcQlfyTpCd#
            </isNotNull>
            <isNull property = "prcQlfyTpCd">
            AND PLE.PRC_QLFY_TP_CD            IS NULL
            </isNull>
            <isNotNull property="prcQlfyValTxt">
            AND PLE.PRC_QLFY_VAL_TXT          = #prcQlfyValTxt#
            </isNotNull>
            <isNull property = "prcQlfyValTxt">
            AND PLE.PRC_QLFY_VAL_TXT          IS NULL
            </isNull>
            <isNotNull property="pkgUomCd">
            AND PLE.PKG_UOM_CD                = #pkgUomCd#
            </isNotNull>
            <isNull property = "pkgUomCd">
            AND PLE.PKG_UOM_CD                IS NULL
            </isNull>
            <isNotNull property="prcTermUomCd">
            AND PLE.PRC_TERM_UOM_CD           = #prcTermUomCd#
            </isNotNull>
            <isNull property = "prcTermUomCd">
            AND PLE.PRC_TERM_UOM_CD           IS NULL
            </isNull>
            <isNotNull property="prcTermAot">
            AND PLE.PRC_TERM_AOT              = #prcTermAot#
            </isNotNull>
            <isNull property = "prcTermAot">
            AND PLE.PRC_TERM_AOT              IS NULL
            </isNull>
        UNION
        SELECT
            PLEW.EFF_FROM_DT
          , PLEW.EFF_THRU_DT
        FROM
            PRC_LIST_EQUIP_WRK PLEW
        WHERE
                PLEW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLEW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLEW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLEW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLEW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="prcListEquipConfigNum">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NUM = #prcListEquipConfigNum#
            </isNotNull>
            <isNull property = "prcListEquipConfigNum">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NUM IS NULL
            </isNull>
            <isNotNull property="prcListEquipConfigNm">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NM  = #prcListEquipConfigNm#
            </isNotNull>
            <isNull property = "prcListEquipConfigNm">
            AND PLEW.PRC_LIST_EQUIP_CONFIG_NM  IS NULL
            </isNull>
            <isNotNull property="prcQlfyTpDescTxt">
            AND PLEW.PRC_QLFY_TP_DESC_TXT      = #prcQlfyTpDescTxt#
            </isNotNull>
            <isNull property = "prcQlfyTpDescTxt">
            AND PLEW.PRC_QLFY_TP_DESC_TXT      IS NULL
            </isNull>
            <isNotNull property="prcQlfyValTxt">
            AND PLEW.PRC_QLFY_VAL_TXT          = #prcQlfyValTxt#
            </isNotNull>
            <isNull property = "prcQlfyValTxt">
            AND PLEW.PRC_QLFY_VAL_TXT          IS NULL
            </isNull>
            <isNotNull property="pkgUomDescTxt">
            AND PLEW.PKG_UOM_DESC_TXT          = #pkgUomDescTxt#
            </isNotNull>
            <isNull property = "pkgUomDescTxt">
            AND PLEW.PKG_UOM_DESC_TXT          IS NULL
            </isNull>
            <isNotNull property="prcTermUomDescTxt">
            AND PLEW.PRC_TERM_UOM_DESC_TXT     = #prcTermUomDescTxt#
            </isNotNull>
            <isNull property = "prcTermUomDescTxt">
            AND PLEW.PRC_TERM_UOM_DESC_TXT     IS NULL
            </isNull>
            <isNotNull property="prcTermAot">
            AND PLEW.PRC_TERM_AOT              = #prcTermAot#
            </isNotNull>
            <isNull property = "prcTermAot">
            AND PLEW.PRC_TERM_AOT              IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>

    <statement id="checkPrcListSvcWrkBlankPeriodCnt" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
            SELECT
            PLS.EFF_FROM_DT
          , PLS.EFF_THRU_DT
        FROM
            PRC_LIST_SVC PLS
        WHERE
                PLS.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLS.EZCANCELFLAG = '0'
            AND PLS.PRC_CATG_CD  = #prcCatgCd#
            AND PLS.DEL_FLG      = 'N'
            <isNotNull property="mdlId">
            AND PLS.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLS.MDL_ID       IS NULL
            </isNull>
            <isNotNull property="prcMtrPkgPk">
            AND PLS.PRC_MTR_PKG_PK = #prcMtrPkgPk#
            </isNotNull>
            <isNull property="prcMtrPkgPk">
            AND PLS.PRC_MTR_PKG_PK IS NULL
            </isNull>
            <isNotNull property="prcSvcPlnTpCd">
            AND PLS.PRC_SVC_PLN_TP_CD = #prcSvcPlnTpCd#
            </isNotNull>
            <isNull property="prcSvcPlnTpCd">
            AND PLS.PRC_SVC_PLN_TP_CD IS NULL
            </isNull>
            <isNotNull property="prcSvcContrTpCd">
            AND PLS.PRC_SVC_CONTR_TP_CD = #prcSvcContrTpCd#
            </isNotNull>
            <isNull property="prcSvcContrTpCd">
            AND PLS.PRC_SVC_CONTR_TP_CD IS NULL
            </isNull>
            <isNotNull property="bllgMtrLbCd">
            AND PLS.BLLG_MTR_LB_CD = #bllgMtrLbCd#
            </isNotNull>
            <isNull property="bllgMtrLbCd">
            AND PLS.BLLG_MTR_LB_CD IS NULL
            </isNull>
            <isNotNull property="prcListBandCd">
            AND PLS.PRC_LIST_BAND_CD = #prcListBandCd#
            </isNotNull>
            <isNull property="prcListBandCd">
            AND PLS.PRC_LIST_BAND_CD IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLS.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLS.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLS.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLS.TERM_THRU_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="prcListMdseCd">
            AND PLS.PRC_LIST_MDSE_CD = #prcListMdseCd#
            </isNotNull>
            <isNull property="prcListMdseCd">
            AND PLS.PRC_LIST_MDSE_CD IS NULL
            </isNull>
        UNION
        SELECT
            PLSW.EFF_FROM_DT
           ,PLSW.EFF_THRU_DT
        FROM
            PRC_LIST_SVC_WRK PLSW
        WHERE
                PLSW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLSW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLSW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLSW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="mdlNm">
            AND PLSW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLSW.MDL_NM       IS NULL
            </isNull>
            <isNotNull property="prcMtrPkgNm">
            AND PLSW.PRC_MTR_PKG_NM = #prcMtrPkgNm#
            </isNotNull>
            <isNull property="prcMtrPkgNm">
            AND PLSW.PRC_MTR_PKG_NM IS NULL
            </isNull>
            <isNotNull property="prcSvcPlnTpDescTxt">
            AND PLSW.PRC_SVC_PLN_TP_DESC_TXT = #prcSvcPlnTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcPlnTpDescTxt">
            AND PLSW.PRC_SVC_PLN_TP_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="prcSvcContrTpDescTxt">
            AND PLSW.PRC_SVC_CONTR_TP_DESC_TXT = #prcSvcContrTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcContrTpDescTxt">
            AND PLSW.PRC_SVC_CONTR_TP_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="mtrLbNm">
            AND PLSW.MTR_LB_NM = #mtrLbNm#
            </isNotNull>
            <isNull property="mtrLbNm">
            AND PLSW.MTR_LB_NM IS NULL
            </isNull>
            <isNotNull property="prcListBandDescTxt">
            AND PLSW.PRC_LIST_BAND_DESC_TXT = #prcListBandDescTxt#
            </isNotNull>
            <isNull property="prcListBandDescTxt">
            AND PLSW.PRC_LIST_BAND_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLSW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLSW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="prcListMdseCd">
            AND PLSW.PRC_LIST_MDSE_CD = #prcListMdseCd#
            </isNotNull>
            <isNull property="prcListMdseCd">
            AND PLSW.PRC_LIST_MDSE_CD IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>

    <statement id="checkPrcListSvcTierWrkBlankPeriodCnt" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
            SELECT
            PLST.EFF_FROM_DT
          , PLST.EFF_THRU_DT
        FROM
            PRC_LIST_SVC_TIER PLST
        WHERE
                PLST.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLST.EZCANCELFLAG = '0'
            AND PLST.PRC_CATG_CD  = #prcCatgCd#
            AND PLST.DEL_FLG      = 'N'
            <isNotNull property="mdlId">
            AND PLST.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLST.MDL_ID       IS NULL
            </isNull>
            <isNotNull property="prcSvcTierTpCd">
            AND PLST.PRC_SVC_TIER_TP_CD = #prcSvcTierTpCd#
            </isNotNull>
            <isNull property="prcSvcTierTpCd">
            AND PLST.PRC_SVC_TIER_TP_CD IS NULL
            </isNull>
            <isNotNull property="prcMtrPkgPk">
            AND PLST.PRC_MTR_PKG_PK = #prcMtrPkgPk#
            </isNotNull>
            <isNull property="prcMtrPkgPk">
            AND PLST.PRC_MTR_PKG_PK IS NULL
            </isNull>
            <isNotNull property="prcSvcPlnTpCd">
            AND PLST.PRC_SVC_PLN_TP_CD = #prcSvcPlnTpCd#
            </isNotNull>
            <isNull property="prcSvcPlnTpCd">
            AND PLST.PRC_SVC_PLN_TP_CD IS NULL
            </isNull>
            <isNotNull property="prcSvcContrTpCd">
            AND PLST.PRC_SVC_CONTR_TP_CD = #prcSvcContrTpCd#
            </isNotNull>
            <isNull property="prcSvcContrTpCd">
            AND PLST.PRC_SVC_CONTR_TP_CD IS NULL
            </isNull>
            <isNotNull property="bllgMtrLbCd">
            AND PLST.BLLG_MTR_LB_CD = #bllgMtrLbCd#
            </isNotNull>
            <isNull property="bllgMtrLbCd">
            AND PLST.BLLG_MTR_LB_CD IS NULL
            </isNull>
            <isNotNull property="prcListBandCd">
            AND PLST.PRC_LIST_BAND_CD = #prcListBandCd#
            </isNotNull>
            <isNull property="prcListBandCd">
            AND PLST.PRC_LIST_BAND_CD IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLST.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLST.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLST.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLST.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        UNION
        SELECT
            PLSTW.EFF_FROM_DT
           ,PLSTW.EFF_THRU_DT
        FROM
            PRC_LIST_SVC_TIER_WRK PLSTW
        WHERE
                PLSTW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSTW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLSTW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLSTW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLSTW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="mdlNm">
            AND PLSTW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLSTW.MDL_NM       IS NULL
            </isNull>
            <isNotNull property="prcMtrPkgNm">
            AND PLSTW.PRC_MTR_PKG_NM = #prcMtrPkgNm#
            </isNotNull>
            <isNull property="prcMtrPkgNm">
            AND PLSTW.PRC_MTR_PKG_NM IS NULL
            </isNull>
            <isNotNull property="prcSvcTierTpDescTxt">
            AND PLSTW.PRC_SVC_TIER_TP_DESC_TXT = #prcSvcTierTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcTierTpDescTxt">
            AND PLSTW.PRC_SVC_TIER_TP_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="prcSvcPlnTpDescTxt">
            AND PLSTW.PRC_SVC_PLN_TP_DESC_TXT = #prcSvcPlnTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcPlnTpDescTxt">
            AND PLSTW.PRC_SVC_PLN_TP_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="prcSvcContrTpDescTxt">
            AND PLSTW.PRC_SVC_CONTR_TP_DESC_TXT = #prcSvcContrTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcContrTpDescTxt">
            AND PLSTW.PRC_SVC_CONTR_TP_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="mtrLbNm">
            AND PLSTW.MTR_LB_NM = #mtrLbNm#
            </isNotNull>
            <isNull property="mtrLbNm">
            AND PLSTW.MTR_LB_NM IS NULL
            </isNull>
            <isNotNull property="prcListBandDescTxt">
            AND PLSTW.PRC_LIST_BAND_DESC_TXT = #prcListBandDescTxt#
            </isNotNull>
            <isNull property="prcListBandDescTxt">
            AND PLSTW.PRC_LIST_BAND_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLSTW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSTW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLSTW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSTW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>

    <statement id="checkPrcListAddlChrgWrkBlankPeriod" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
            SELECT
            PLAC.EFF_FROM_DT
          , PLAC.EFF_THRU_DT
        FROM
            PRC_LIST_ADDL_CHRG PLAC
        WHERE
                PLAC.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLAC.EZCANCELFLAG = '0'
            AND PLAC.PRC_CATG_CD  = #prcCatgCd#
            AND PLAC.DEL_FLG      = 'N'
            <isNotNull property="mdseCd">
            AND PLAC.MDSE_CD       = #mdseCd#
            </isNotNull>
            <isNull property="mdseCd">
            AND PLAC.MDSE_CD       IS NULL
            </isNull>
            <isNotNull property="mdlId">
            AND PLAC.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLAC.MDL_ID       IS NULL
            </isNull>
            <isNotNull property="mktMdlSegCd">
            AND PLAC.MKT_MDL_SEG_CD       = #mktMdlSegCd#
            </isNotNull>
            <isNull property="mktMdlSegCd">
            AND PLAC.MKT_MDL_SEG_CD       IS NULL
            </isNull>
        UNION
        SELECT
            PLACW.EFF_FROM_DT
           ,PLACW.EFF_THRU_DT
        FROM
            PRC_LIST_ADDL_CHRG_WRK PLACW
        WHERE
                PLACW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLACW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLACW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLACW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLACW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="mdseCd">
            AND PLACW.MDSE_CD       = #mdseCd#
            </isNotNull>
            <isNull property="mdseCd">
            AND PLACW.MDSE_CD       IS NULL
            </isNull>
            <isNotNull property="mdlNm">
            AND PLACW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLACW.MDL_NM       IS NULL
            </isNull>
            <isNotNull property="mktMdlSegDescTxt">
            AND PLACW.MKT_MDL_SEG_DESC_TXT       = #mktMdlSegDescTxt#
            </isNotNull>
            <isNull property="mktMdlSegDescTxt">
            AND PLACW.MKT_MDL_SEG_DESC_TXT       IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>

    <statement id="checkPrcListSplyPgmWrkBlankPeriod" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
        SELECT
            PLSP.EFF_FROM_DT
          , PLSP.EFF_THRU_DT
        FROM
            PRC_LIST_SPLY_PGM PLSP
        WHERE
                PLSP.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSP.EZCANCELFLAG = '0'
            AND PLSP.PRC_CATG_CD  = #prcCatgCd#
            AND PLSP.DEL_FLG      = 'N'
            <isNotNull property="mdlId">
            AND PLSP.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLSP.MDL_ID       IS NULL
            </isNull>
            <isNotNull property="prcMtrPkgPk">
            AND PLSP.PRC_MTR_PKG_PK = #prcMtrPkgPk#
            </isNotNull>
            <isNull property="prcMtrPkgPk">
            AND PLSP.PRC_MTR_PKG_PK IS NULL
            </isNull>
            <isNotNull property="prcSvcPlnTpCd">
            AND PLSP.PRC_SVC_PLN_TP_CD = #prcSvcPlnTpCd#
            </isNotNull>
            <isNull property="prcSvcPlnTpCd">
            AND PLSP.PRC_SVC_PLN_TP_CD IS NULL
            </isNull>
            <isNotNull property="prcSvcContrTpCd">
            AND PLSP.PRC_SVC_CONTR_TP_CD = #prcSvcContrTpCd#
            </isNotNull>
            <isNull property="prcSvcContrTpCd">
            AND PLSP.PRC_SVC_CONTR_TP_CD IS NULL
            </isNull>
            <isNotNull property="bllgMtrLbCd">
            AND PLSP.BLLG_MTR_LB_CD = #bllgMtrLbCd#
            </isNotNull>
            <isNull property="bllgMtrLbCd">
            AND PLSP.BLLG_MTR_LB_CD IS NULL
            </isNull>
            <isNotNull property="prcListBandCd">
            AND PLSP.PRC_LIST_BAND_CD = #prcListBandCd#
            </isNotNull>
            <isNull property="prcListBandCd">
            AND PLSP.PRC_LIST_BAND_CD IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLSP.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSP.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLSP.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSP.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        UNION
        SELECT
            PLSPW.EFF_FROM_DT
           ,PLSPW.EFF_THRU_DT
        FROM
            PRC_LIST_SPLY_PGM_WRK PLSPW
        WHERE
                PLSPW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLSPW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLSPW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLSPW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLSPW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="mdlNm">
            AND PLSPW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLSPW.MDL_NM       IS NULL
            </isNull>
            <isNotNull property="prcMtrPkgNm">
            AND PLSPW.PRC_MTR_PKG_NM = #prcMtrPkgNm#
            </isNotNull>
            <isNull property="prcMtrPkgNm">
            AND PLSPW.PRC_MTR_PKG_NM IS NULL
            </isNull>
            <isNotNull property="prcSvcPlnTpDescTxt">
            AND PLSPW.PRC_SVC_PLN_TP_DESC_TXT = #prcSvcPlnTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcPlnTpDescTxt">
            AND PLSPW.PRC_SVC_PLN_TP_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="prcSvcContrTpDescTxt">
            AND PLSPW.PRC_SVC_CONTR_TP_DESC_TXT = #prcSvcContrTpDescTxt#
            </isNotNull>
            <isNull property="prcSvcContrTpDescTxt">
            AND PLSPW.PRC_SVC_CONTR_TP_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="mtrLbNm">
            AND PLSPW.MTR_LB_NM = #mtrLbNm#
            </isNotNull>
            <isNull property="mtrLbNm">
            AND PLSPW.MTR_LB_NM IS NULL
            </isNull>
            <isNotNull property="prcListBandDescTxt">
            AND PLSPW.PRC_LIST_BAND_DESC_TXT = #prcListBandDescTxt#
            </isNotNull>
            <isNull property="prcListBandDescTxt">
            AND PLSPW.PRC_LIST_BAND_DESC_TXT IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLSPW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLSPW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLSPW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLSPW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>

    <statement id="checkPrcListLeaseRateWrkBlankPeriod" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
        SELECT
            PLLR.EFF_FROM_DT
          , PLLR.EFF_THRU_DT
        FROM 
            PRC_LIST_LEASE_RATE PLLR
        WHERE
                PLLR.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLR.EZCANCELFLAG = '0'
            AND PLLR.PRC_CATG_CD  = #prcCatgCd#
            AND PLLR.DEL_FLG      = 'N'
            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
            <isNotNull property="dsAcctNm">
            AND PLLR.DS_ACCT_NM       = #dsAcctNm#
            </isNotNull>
            <isNull property="dsAcctNm">
            AND PLLR.DS_ACCT_NM      IS NULL
            </isNull>
            <isNotNull property="prcPgmTpCd">
            AND PLLR.PRC_PGM_TP_CD      = #prcPgmTpCd#
            </isNotNull>
            <isNull property="prcPgmTpCd">
            AND PLLR.PRC_PGM_TP_CD      IS NULL
            </isNull>
            <isNotNull property="prcEquipTpCd">
            AND PLLR.PRC_EQUIP_TP_CD      = #prcEquipTpCd#
            </isNotNull>
            <isNull property="prcEquipTpCd">
            AND PLLR.PRC_EQUIP_TP_CD      IS NULL
            </isNull>
            <isNotNull property="mdlId">
            AND PLLR.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLLR.MDL_ID       IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLLR.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLLR.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLLR.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLLR.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        UNION
        SELECT
            PLLRW.EFF_FROM_DT
           ,PLLRW.EFF_THRU_DT
        FROM 
            PRC_LIST_LEASE_RATE_WRK PLLRW
        WHERE
                PLLRW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLRW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLLRW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLLRW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLLRW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
            <isNotNull property="dsAcctNm">
            AND PLLRW.DS_ACCT_NM       = #dsAcctNm#
            </isNotNull>
            <isNull property="dsAcctNm">
            AND PLLRW.DS_ACCT_NM      IS NULL
            </isNull>
            <isNotNull property="prcPgmTpDescTxt">
            AND PLLRW.PRC_PGM_TP_DESC_TXT      = #prcPgmTpDescTxt#
            </isNotNull>
            <isNull property="prcPgmTpDescTxt">
            AND PLLRW.PRC_PGM_TP_DESC_TXT      IS NULL
            </isNull>
            <isNotNull property="prcEquipTpDescTxt">
            AND PLLRW.PRC_EQUIP_TP_DESC_TXT      = #prcEquipTpDescTxt#
            </isNotNull>
            <isNull property="prcEquipTpDescTxt">
            AND PLLRW.PRC_EQUIP_TP_DESC_TXT      IS NULL
            </isNull>
            <isNotNull property="mdlNm">
            AND PLLRW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLLRW.MDL_NM       IS NULL
            </isNull>
            <isNotNull property="termFromMthAot">
            AND PLLRW.TERM_FROM_MTH_AOT = #termFromMthAot#
            </isNotNull>
            <isNull property="termFromMthAot">
            AND PLLRW.TERM_FROM_MTH_AOT IS NULL
            </isNull>
            <isNotNull property="termThruMthAot">
            AND PLLRW.TERM_THRU_MTH_AOT = #termThruMthAot#
            </isNotNull>
            <isNull property="termThruMthAot">
            AND PLLRW.TERM_THRU_MTH_AOT IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>

    <statement id="checkPrcListLeaseRtrnWrkBlankPeriod" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
        SELECT
            PLLR.EFF_FROM_DT
          , PLLR.EFF_THRU_DT
        FROM
            PRC_LIST_LEASE_RTRN PLLR
        WHERE
                PLLR.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLR.EZCANCELFLAG = '0'
            AND PLLR.PRC_CATG_CD  = #prcCatgCd#
            AND PLLR.DEL_FLG      = 'N'
            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLR.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
            <isNotNull property="svcSegCd">
            AND PLLR.SVC_SEG_CD  = #svcSegCd#
            </isNotNull>
            <isNull property="svcSegCd">
            AND PLLR.SVC_SEG_CD  IS NULL
            </isNull>
            <isNotNull property="prcInOutRgCd">
            AND PLLR.PRC_IN_OUT_RG_CD  = #prcInOutRgCd#
            </isNotNull>
            <isNull property="prcInOutRgCd">
            AND PLLR.PRC_IN_OUT_RG_CD  IS NULL
            </isNull>
            <isNotNull property="dstMileAmt">
            AND PLLR.DST_MILE_AMT  = #dstMileAmt#
            </isNotNull>
            <isNull property="dstMileAmt">
            AND PLLR.DST_MILE_AMT  IS NULL
            </isNull>
        UNION
        SELECT
            PLLRW.EFF_FROM_DT
           ,PLLRW.EFF_THRU_DT
        FROM
            PRC_LIST_LEASE_RTRN_WRK PLLRW
        WHERE
                PLLRW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLLRW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLLRW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLLRW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLLRW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  = #prcLeaseCmpyAbbrNm#
            </isNotNull>
            <isNull property="prcLeaseCmpyAbbrNm">
            AND PLLRW.PRC_LEASE_CMPY_ABBR_NM  IS NULL
            </isNull>
            <isNotNull property="svcSegDescTxt">
            AND PLLRW.SVC_SEG_DESC_TXT  = #svcSegDescTxt#
            </isNotNull>
            <isNull property="svcSegDescTxt">
            AND PLLRW.SVC_SEG_DESC_TXT  IS NULL
            </isNull>
            <isNotNull property="prcInOutRgDescTxt">
            AND PLLRW.PRC_IN_OUT_RG_DESC_TXT   = #prcInOutRgDescTxt#
            </isNotNull>
            <isNull property="prcInOutRgDescTxt">
            AND PLLRW.PRC_IN_OUT_RG_DESC_TXT  IS NULL
            </isNull>
            <isNotNull property="dstMileAmt">
            AND PLLRW.DST_MILE_AMT  = #dstMileAmt#
            </isNotNull>
            <isNull property="dstMileAmt">
            AND PLLRW.DST_MILE_AMT  IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>

    <statement id="checkPrcListTradeInWrkBlankPeriod" parameterClass="Map" resultClass="Integer">

        WITH PRC_LIST_V AS (
        SELECT
            PLTV.EFF_FROM_DT
          , PLTV.EFF_THRU_DT
        FROM
            PRC_LIST_TI_VAL PLTV
        WHERE
                PLTV.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLTV.EZCANCELFLAG = '0'
            AND PLTV.PRC_CATG_CD  = #prcCatgCd#
            AND PLTV.DEL_FLG      = 'N'
            <isNotNull property="mdlId">
            AND PLTV.MDL_ID       = #mdlId#
            </isNotNull>
            <isNull property="mdlId">
            AND PLTV.MDL_ID       IS NULL
            </isNull>
            <isNotNull property="fromMtrCopyVolCnt">
            AND PLTV.FROM_MTR_COPY_VOL_CNT  = #fromMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTV.FROM_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
            <isNotNull property="thruMtrCopyVolCnt">
            AND PLTV.THRU_MTR_COPY_VOL_CNT  = #thruMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTV.THRU_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
        UNION
        SELECT
            PLTVW.EFF_FROM_DT
           ,PLTVW.EFF_THRU_DT
        FROM
            PRC_LIST_TI_VAL_WRK PLTVW
        WHERE
                PLTVW.GLBL_CMPY_CD = #glblCmpyCd#
            AND PLTVW.EZCANCELFLAG = '0'
            <isNotNull property="prcCatgNm">
            AND PLTVW.PRC_CATG_NM               = #prcCatgNm#
            </isNotNull>
            <isNull property = "prcCatgNm">
            AND PLTVW.PRC_CATG_NM               IS NULL
            </isNull>
            AND PLTVW.UPLD_CSV_RQST_PK          = #upldCsvRqstPk#
            <isNotNull property="mdlNm">
            AND PLTVW.MDL_NM       = #mdlNm#
            </isNotNull>
            <isNull property="mdlNm">
            AND PLTVW.MDL_NM       IS NULL
            </isNull>
            <isNotNull property="fromMtrCopyVolCnt">
            AND PLTVW.FROM_MTR_COPY_VOL_CNT  = #fromMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTVW.FROM_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
            <isNotNull property="thruMtrCopyVolCnt">
            AND PLTVW.THRU_MTR_COPY_VOL_CNT  = #thruMtrCopyVolCnt#
            </isNotNull>
            <isNull property="fromMtrCopyVolCnt">
            AND PLTVW.THRU_MTR_COPY_VOL_CNT  IS NULL
            </isNull>
        )
        SELECT
            COUNT(*)
        FROM
            PRC_LIST_V A
        WHERE
            (
                NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &lt; A.EFF_FROM_DT AND X.EFF_THRU_DT IS NULL)
            AND     EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT &lt; A.EFF_FROM_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_THRU_DT = TO_CHAR(TO_DATE(A.EFF_FROM_DT, 'YYYYMMDD') - 1, 'YYYYMMDD'))
            )
        OR
            (
                    EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT &gt; A.EFF_THRU_DT)
            AND NOT EXISTS (SELECT 1 FROM PRC_LIST_V X WHERE X.EFF_FROM_DT = TO_CHAR(TO_DATE(A.EFF_THRU_DT, 'YYYYMMDD') + 1, 'YYYYMMDD'))
            )
    </statement>
    <!-- 2023/08/22 QC#61385 Add End -->

</sqlMap>
