<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NPXC001001GetLocRoleTpCdForPrchReq">
    
    <statement id="getLocRoleTp" parameterClass="Map" resultClass="String">
        SELECT
            LU.LOC_ROLE_TP_CD
        FROM
             PTY         P
            ,LOC_USG     LU
            ,LOC_ROLE_TP LR
        WHERE
                P.GLBL_CMPY_CD     = #glblCmpyCd#
            AND P.PTY_CD           = #ptyCd#
            AND P.EZCANCELFLAG     = '0'
            AND P.GLBL_CMPY_CD     = LU.GLBL_CMPY_CD
            AND P.PTY_LOC_PK       = LU.PTY_LOC_PK
            AND P.LOC_GRP_CD       = LU.LOC_GRP_CD
            AND LU.EZCANCELFLAG    = '0'
            AND LU.GLBL_CMPY_CD    = LR.GLBL_CMPY_CD
            AND LU.LOC_ROLE_TP_CD  = LR.LOC_ROLE_TP_CD
            AND LR.EZCANCELFLAG    = '0'
            AND LR.MRP_RUN_SQ_NUM IS NOT NULL
        ORDER BY
            LR.MRP_RUN_SQ_NUM ASC
    </statement>

</sqlMap>
