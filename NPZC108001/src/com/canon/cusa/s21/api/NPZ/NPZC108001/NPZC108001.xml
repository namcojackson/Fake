<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NPZC108001">

    <!-- Searches MRP Info. -->
    <statement id="searchMrpInfo" parameterClass="Map" resultClass="Map">
        SELECT
                MRP.SRC_LOC_CD         AS  SRC_LOC_CD
              , MRP.SRC_RTL_WH_CD      AS  SRC_RTL_WH_CD
              , MRP.SRC_RTL_SWH_CD     AS  SRC_RTL_SWH_CD
              , MRP.PROCR_TP_CD        AS  PROCR_TP_CD
          FROM
                MRP_INFO               MRP
         WHERE
                MRP.GLBL_CMPY_CD                  =     #glblCmpyCd#
            AND MRP.INVTY_LOC_CD                  =     #invtyLocCd#
            AND MRP.MDSE_CD                       =     #mdseCd#
            AND MRP.MRP_INFO_RGTN_STS_CD          =     #mrpInfoRgtnStsCd#
            AND MRP.EZCANCELFLAG                  =     '0'
    </statement>

    <!-- Searches DS Warehouse Info. -->
    <statement id="searchDsWarehouseInfo" parameterClass="Map" resultClass="Map">
        SELECT
                RWH.DEF_SRC_LOC_CD          AS  SRC_LOC_CD
              , RWH.DEF_SRC_RTL_WH_CD       AS  SRC_RTL_WH_CD
              , RWH.DEF_SRC_RTL_SWH_CD      AS  SRC_RTL_SWH_CD
              , RWH.DEF_SRC_PROCR_TP_CD     AS  PROCR_TP_CD
          FROM
                DS_INVTY_LOC_V              DIL
              , RTL_WH                      RWH
         WHERE
                DIL.GLBL_CMPY_CD                   =     #glblCmpyCd#
            AND DIL.INVTY_LOC_CD                   =     #invtyLocCd#
            AND DIL.EZCANCELFLAG                   =     '0'
            AND DIL.GLBL_CMPY_CD                   =     RWH.GLBL_CMPY_CD
            AND DIL.RTL_WH_CD                      =     RWH.RTL_WH_CD
            AND NVL(RWH.EFF_FROM_DT, '00000000')  &lt;=    #salesDate#
            AND NVL(RWH.EFF_THRU_DT, '99991231')  &gt;=    #salesDate#
            AND RWH.EZCANCELFLAG                   =     '0'
    </statement>

    <!-- Searches DS Merchandise Info. -->
    <statement id="searchDSMerchandiseInfo" parameterClass="Map" resultClass="Map">
        SELECT
                RSW.INVTY_LOC_CD            AS  SRC_LOC_CD
              , MD.DEF_SRC_WH_CD            AS  SRC_RTL_WH_CD
              , MD.DEF_SRC_SUB_WH_CD        AS  SRC_RTL_SWH_CD
              , MD.DEF_SRC_PROCR_TP_CD      AS  PROCR_TP_CD
          FROM
                MDSE                        MD
              , RTL_SWH                     RSW
         WHERE
                MD.GLBL_CMPY_CD                   =     #glblCmpyCd#
            AND MD.MDSE_CD                        =     #mdseCd#
            AND MD.EZCANCELFLAG                   =     '0'
            AND MD.GLBL_CMPY_CD                   =     RSW.GLBL_CMPY_CD(+)
            AND MD.DEF_SRC_WH_CD                  =     RSW.RTL_WH_CD(+)
            AND MD.DEF_SRC_SUB_WH_CD              =     RSW.RTL_SWH_CD(+)
            AND NVL(RSW.EFF_FROM_DT, '00000000')  &lt;=    #salesDate#
            AND NVL(RSW.EFF_THRU_DT, '99991231')  &gt;=    #salesDate#
            AND RSW.EZCANCELFLAG(+)               =     '0'
    </statement>
</sqlMap>
