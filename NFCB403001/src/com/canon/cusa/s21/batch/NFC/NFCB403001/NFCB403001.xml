<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NFCB403001">
    <statement id="truncateSnapShot" parameterClass="Map">
        TRUNCATE TABLE 
           TRTY_RULE_SNAP_SHOT
    </statement>
    
    <statement id="insertSnapShot" parameterClass="Map">
    INSERT INTO TRTY_RULE_SNAP_SHOT (
         EZTABLEID
        ,EZCANCELFLAG
        ,EZINTIME
        ,EZINTIMEZONE
        ,EZINCOMPANYCODE
        ,EZINUSERID
        ,EZINAPLID
        ,EZUPTIME
        ,EZUPTIMEZONE
        ,EZUPCOMPANYCODE
        ,EZUPUSERID
        ,EZUPAPLID
        ,GLBL_CMPY_CD
        ,TRTY_RULE_SNAP_SHOT_PK
        ,TRTY_RULE_PK
        ,ORG_STRU_TP_CD
        ,ORG_CD
        ,TRTY_RULE_FROM_VAL_TXT
        ,TRTY_RULE_THRU_VAL_TXT
        ,EFF_FROM_DT
        ,EFF_THRU_DT
        ,ORG_TIER_CD
        ,TRTY_RULE_OPRD_TP_CD
        ,TRTY_RULE_LOGIC_TP_CD
        )
        SELECT
          'TRTY_RULE_SNAP_SHOT' EZTABLEID
          ,'0'                  EZCANCELFLAG
          , #ezintime#          EZINTIME
          , #ezintimezone#      EZINTIMEZONE
          , #ezincompanycode#   EZINCOMPANYCODE
          , #ezinuserid#        EZINUSERID
          , #ezinaplid#         EZINAPLID
          , #ezuptime#          EZUPTIME
          , #ezuptimezone#      EZUPTIMEZONE
          , #ezupcompanycode#   EZUPCOMPANYCODE
          , #ezupuserid#        EZUPUSERID
          , #ezupaplid#         EZUPAPLID
          , #glblCmpyCd#        GLBL_CMPY_CD
          , TRTY_RULE_SNAP_SHOT_SQ.NEXTVAL TRTY_RULE_SNAP_SHOT_PK
          , TR.TRTY_RULE_PK
          , TR.ORG_STRU_TP_CD
          , TR.ORG_CD
          , TR.TRTY_RULE_FROM_VAL_TXT
          , TR.TRTY_RULE_THRU_VAL_TXT
          , TR.EFF_FROM_DT
          , TR.EFF_THRU_DT
          , TR.ORG_TIER_CD
          , TR.TRTY_RULE_OPRD_TP_CD
          , TR.TRTY_RULE_LOGIC_TP_CD
        FROM
          TRTY_RULE TR
        WHERE
              TR.GLBL_CMPY_CD = #glblCmpyCd#
          AND TR.EZCANCELFLAG = '0'
  
    </statement>
</sqlMap>