<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZZML0071Query">

    <typeAlias alias="ZZML0071_ASMsg" type="business.blap.ZZML0071.ZZML0071_ASMsg"/>

    <resultMap id="result.ZZML0071_ASMsg" class="ZZML0071_ASMsg">
        <result property="ezUpTime_A"      column="EZUPTIME"          javaType="EZDCStringItem"/>
        <result property="ezUpTimeZone_A"  column="EZUPTIMEZONE"      javaType="EZDCStringItem"/>
        <result property="mlUsrAddrPk_A"   column="ML_USR_ADDR_PK"    javaType="EZDSBigDecimalItem"/>
        <result property="mlGrpId_A"       column="ML_GRP_ID"         javaType="EZDCStringItem"/>
        <result property="mlKeyFirstCd_A"  column="ML_KEY_FIRST_CD"   javaType="EZDCStringItem"/>
        <result property="mlKeyScdCd_A"    column="ML_KEY_SCD_CD"     javaType="EZDCStringItem"/>
        <result property="mlKeyThirdCd_A"  column="ML_KEY_THIRD_CD"   javaType="EZDCStringItem"/>
        <result property="mlUsrId_A"       column="ML_USR_ID"         javaType="EZDCStringItem"/>
        <result property="mlUsrAddr_A"     column="ML_USR_ADDR"       javaType="EZDCStringItem"/>
        <result property="mlUsrNm_A"       column="ML_USR_NM"         javaType="EZDCStringItem"/>
        <result property="mlUsrLocId_A"    column="ML_USR_LOC_ID"     javaType="EZDCStringItem"/>
        <result property="mlUsrDescTxt_A"  column="ML_USR_DESC_TXT"   javaType="EZDCStringItem"/>
        <result property="mlGrpNm_A"       column="ML_GRP_NM"         javaType="EZDCStringItem"/>
        <result property="mlGrpDescTxt_A"  column="ML_GRP_DESC_TXT"   javaType="EZDCStringItem"/>
    </resultMap>

    <statement id="getMlUsrAddr" parameterClass="Map" resultMap="result.ZZML0071_ASMsg">
      SELECT
        A.EZUPTIME        AS EZUPTIME,
        A.EZUPTIMEZONE    AS EZUPTIMEZONE,
        A.GLBL_CMPY_CD    AS GLBL_CMPY_CD,
        A.ML_USR_ADDR_PK  AS ML_USR_ADDR_PK,
        A.ML_GRP_ID       AS ML_GRP_ID,
        A.ML_KEY_FIRST_CD AS ML_KEY_FIRST_CD,
        A.ML_KEY_SCD_CD   AS ML_KEY_SCD_CD,
        A.ML_KEY_THIRD_CD AS ML_KEY_THIRD_CD,
        A.ML_USR_ID       AS ML_USR_ID,
        A.ML_USR_ADDR     AS ML_USR_ADDR,
        A.ML_USR_NM       AS ML_USR_NM,
        A.ML_USR_LOC_ID   AS ML_USR_LOC_ID,
        A.ML_USR_DESC_TXT AS ML_USR_DESC_TXT,
        B.ML_GRP_NM       AS ML_GRP_NM,
        B.ML_GRP_DESC_TXT AS ML_GRP_DESC_TXT
      FROM
        ML_USR_ADDR A,
        (SELECT
        	GLBL_CMPY_CD, 
        	ML_GRP_ID, 
        	ML_GRP_NM, 
        	ML_GRP_DESC_TXT
         FROM
         	ML_GRP_ADDR
         WHERE
         	EZCANCELFLAG = '0'
         ) B
      WHERE
        	A.EZCANCELFLAG  = '0'
        AND	A.GLBL_CMPY_CD  = B.GLBL_CMPY_CD
        AND	A.ML_GRP_ID     = B.ML_GRP_ID
        AND A.GLBL_CMPY_CD  = #glblCmpyCd#
        AND A.ML_USR_ADDR_PK = #mlUsrAddrPk#
    </statement>

    <statement id="getMlGrpAddr" parameterClass="Map" resultClass="Map">
      SELECT
        GLBL_CMPY_CD, 
        ML_GRP_ID, 
        ML_GRP_NM, 
        ML_GRP_DESC_TXT
      FROM
        ML_GRP_ADDR
      WHERE
        EZCANCELFLAG     = '0'
        AND GLBL_CMPY_CD = #glblCmpyCd#
        AND ML_GRP_ID    = #mlGrpId#
    </statement>

</sqlMap>
