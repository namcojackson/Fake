<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NSZC101001">

    <statement id="WF_COMPLETE_CONTRACT_SQL" parameterClass="Map" resultClass="Map">
        SELECT
             A.SVC_RG_PK           AS  COND_NUM_1
            ,C.SVC_CONTR_BR_CD     AS  COND_STR_1
            ,D.PSN_CD              AS  COND_STR_2
            ,E.PSN_CD              AS  VAL_STR_1
        FROM
             SVC_RG                 A
            ,SVC_RG_BR_RELN         B
            ,SVC_CONTR_BR           C
            ,SVC_BR_RESRC_RELN      D
            ,SVC_BR_RESRC_RELN      E
        WHERE
                A.GLBL_CMPY_CD          = #glblCmpyCd#
            AND A.EZCANCELFLAG          = '0'
            AND A.SVC_RG_PK             = #condNum1#
            AND A.SVC_RG_ACTV_FLG       = 'Y'
            AND A.GLBL_CMPY_CD          = B.GLBL_CMPY_CD (+)
            AND A.SVC_RG_PK             = B.SVC_RG_PK (+)
            AND B.EZCANCELFLAG (+)      = '0'
            AND B.SVC_CONTR_BR_CD (+)   = #condStr1#
            AND B.GLBL_CMPY_CD          = C.GLBL_CMPY_CD (+)
            AND B.SVC_CONTR_BR_CD       = C.SVC_CONTR_BR_CD (+)
            AND C.SVC_CONTR_BR_ACTV_FLG (+)
                                        = 'Y'
            AND C.EZCANCELFLAG (+)      = '0'
            AND C.GLBL_CMPY_CD          = D.GLBL_CMPY_CD (+)
            AND C.SVC_CONTR_BR_CD       = D.SVC_CONTR_BR_CD (+)
            AND D.PSN_CD (+)            = #condStr2#
            AND D.SVC_BR_RESRC_ACTV_FLG (+)
                                        = 'Y'
            AND D.SVC_ORG_FUNC_ROLE_TP_CD (+)
                                        = '006'
            AND D.EZCANCELFLAG (+)      = '0'
            AND D.GLBL_CMPY_CD          = E.GLBL_CMPY_CD (+)
            AND D.SVC_CONTR_BR_CD       = E.SVC_CONTR_BR_CD (+)
            AND E.SVC_BR_RESRC_ACTV_FLG (+)
                                        = 'Y'
            AND E.SVC_ORG_FUNC_ROLE_TP_CD (+)
                                        = '005'
            AND E.EZCANCELFLAG          = '0'
        ORDER BY 
            A.SVC_RG_PK
           ,B.SVC_CONTR_BR_CD
           ,D.PSN_CD
           ,E.PSN_CD
    </statement>

    <statement id="WF_COMPLETE_CONTRACT_GRP_REASSIGN_SQL" parameterClass="Map" resultClass="Map">
        SELECT DISTINCT
             'NSWP0001'      AS BIZ_ID
            ,'GRP_REASG'     AS USER_GROUP_NAME
            ,D.PSN_CD        AS WF_USR_ID
        FROM
            SVC_BR_RESRC_RELN D 
        WHERE
                D.GLBL_CMPY_CD            = #glblCmpyCd# 
            AND D.SVC_BR_RESRC_ACTV_FLG   = 'Y' 
            AND D.SVC_ORG_FUNC_ROLE_TP_CD &lt;&gt; '006'
            AND D.EZCANCELFLAG            = '0'
        ORDER BY 
            D.PSN_CD
    </statement>

    <statement id="WF_COMPLETE_CONTRACT_GRP_MAIL_ISSUE_SQL" parameterClass="Map" resultClass="Map">
        SELECT
             'NSWP0001'       AS BIZ_ID
            ,'GRP_MAIL_ISSUE' AS USER_GROUP_NAME
            ,E.PSN_CD         AS WF_USR_ID 
        FROM
             SVC_RG                 A
            ,SVC_RG_BR_RELN         B
            ,SVC_CONTR_BR           C
            ,SVC_BR_RESRC_RELN      D
            ,SVC_BR_RESRC_RELN      E
        WHERE
                A.GLBL_CMPY_CD          = #glblCmpyCd#
            AND A.EZCANCELFLAG          = '0'
            AND A.SVC_RG_PK             = #condNum1#
            AND A.SVC_RG_ACTV_FLG       = 'Y'
            AND A.GLBL_CMPY_CD          = B.GLBL_CMPY_CD (+)
            AND A.SVC_RG_PK             = B.SVC_RG_PK (+)
            AND B.EZCANCELFLAG (+)      = '0'
            AND B.SVC_CONTR_BR_CD       = #condStr1#
            AND B.GLBL_CMPY_CD          = C.GLBL_CMPY_CD (+)
            AND B.SVC_CONTR_BR_CD       = C.SVC_CONTR_BR_CD (+)
            AND C.SVC_CONTR_BR_ACTV_FLG (+)
                                        = 'Y'
            AND C.EZCANCELFLAG (+)      = '0'
            AND C.GLBL_CMPY_CD          = D.GLBL_CMPY_CD (+)
            AND C.SVC_CONTR_BR_CD       = D.SVC_CONTR_BR_CD (+)
            AND D.PSN_CD                = #condStr2#
            AND D.SVC_BR_RESRC_ACTV_FLG (+)
                                        = 'Y'
            AND D.SVC_ORG_FUNC_ROLE_TP_CD (+)
                                        = '006'
            AND D.EZCANCELFLAG (+)      = '0'
            AND D.GLBL_CMPY_CD          = E.GLBL_CMPY_CD (+)
            AND D.SVC_CONTR_BR_CD       = E.SVC_CONTR_BR_CD (+)
            AND E.SVC_BR_RESRC_ACTV_FLG (+)
                                        = 'Y'
            AND E.SVC_ORG_FUNC_ROLE_TP_CD (+)
                                        = '005'
            AND E.EZCANCELFLAG          = '0'
        ORDER BY 
            E.PSN_CD
    </statement>

    <statement id="WF_COMPLETE_CONTRACT_GRP_MAIL_END_SQL" parameterClass="Map" resultClass="Map">
        SELECT
             'NSWP0001'     AS BIZ_ID
            ,'GRP_MAIL_END' AS USER_GROUP_NAME
            ,#condStr2#     AS WF_USR_ID
        FROM
            DUAL
    </statement>
</sqlMap>		   
