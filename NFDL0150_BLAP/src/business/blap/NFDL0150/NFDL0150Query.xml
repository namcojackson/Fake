<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NFDL0150Query">
    <typeAlias alias="NFDL0150_ACMsg" type="business.blap.NFDL0150.NFDL0150_ACMsg"/>

    <statement id="getSearchData" parameterClass="Map" resultMap="result.getSearchData">
        SELECT
             CLT_STRGY_CD
            ,CLT_STRGY_NM
            ,EZUPTIME
            ,EZUPTIMEZONE
            ,XX_TP_CD
        FROM
            (
                SELECT
                     CS.CLT_STRGY_CD
                    ,CS.CLT_STRGY_NM
                    ,CS.EZUPTIME
                    ,CS.EZUPTIMEZONE
                    ,#xxTpCd_Upd#             AS XX_TP_CD
                FROM
                    CLT_STRGY CS
                WHERE
                        CS.GLBL_CMPY_CD = #glblCmpyCd#
                    AND CS.EZCANCELFLAG = '0'
                ORDER BY
                    CS.CLT_STRGY_CD
            )
        WHERE
            ROWNUM &lt;= #rowNum#
    </statement>

    <statement id="getCltStrgyRelnCustTp" parameterClass="Map" resultMap="String">
        SELECT
            CSRCT.GLBL_CMPY_CD
        FROM
            CLT_STRGY_RELN_CUST_TP CSRCT
        WHERE
                CSRCT.GLBL_CMPY_CD = #glblCmpyCd#
            AND CSRCT.CLT_STRGY_CD = #cltStrgyCd#
            AND CSRCT.EZCANCELFLAG = '0'
            AND ROWNUM             = 1
    </statement>

    <statement id="getCltStrgyRelnWrkItem" parameterClass="Map" resultMap="String">
        SELECT
            CSRWI.GLBL_CMPY_CD
        FROM
            CLT_STRGY_RELN_WRK_ITEM CSRWI
        WHERE
                CSRWI.GLBL_CMPY_CD = #glblCmpyCd#
            AND CSRWI.CLT_STRGY_CD = #cltStrgyCd#
            AND CSRWI.EZCANCELFLAG = '0'
            AND ROWNUM             = 1
    </statement>

    <resultMap id="result.getSearchData" class="NFDL0150_ACMsg">
        <result property="cltStrgyCd_A"      column="CLT_STRGY_CD"    javaType="EZDSStringItem"/>
        <result property="cltStrgyNm_A"      column="CLT_STRGY_NM"    javaType="EZDSStringItem"/>
        <result property="ezUpTime_A"        column="EZUPTIME"        javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_A"    column="EZUPTIMEZONE"    javaType="EZDSStringItem"/>
        <result property="xxTpCd_A"          column="XX_TP_CD"        javaType="EZDSStringItem"/>
    </resultMap>
</sqlMap>
