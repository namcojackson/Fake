<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWAB412001">
    <statement id="getNWAI4120_01" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_QUOTE_NUM
            ,SOM_SHIP_TO_CUST_ID
            ,SOM_SHIP_TO_PTY_NUM
            ,SOM_FM_DEPT_ID
            ,SOM_DISC_AMT
            ,SOM_LEASE_TERM_AOT
            ,SOM_STEP_CNT
            ,SOM_SUB_SVC_AOT
            ,SOM_PRC_LIST_ID
            ,NEGO_DEAL_AMT
            ,LEASE_PMT_AMT
            ,LEASE_SVC_PMT_AMT
            ,LEASE_EQUIP_PMT_AMT
            ,LEASE_UPG_AMT
            ,SOM_REV_AMT
            ,ISTL_FEE_AMT
            ,SOM_REB_AMT
            ,LEASE_DOWN_PMT_AMT
            ,LEASE_IN_ELIG_FIN_AMT
            ,LEASE_CR_AMT
            ,DELY_CHRG_AMT
            ,SOM_DEP_AMT
            ,SEC_DEP_AMT
            ,CRAT_TS
            ,ERLST_DELY_TS
            ,LAST_UPD_TS
            ,SOM_LEASE_RATE
            ,LEASE_TAX_RATE
            ,LEASE_SOFT_COST_RATE
            ,LEASE_IN_ELIG_RATE
            ,SALES_TAX_RATE
            ,SOM_REB_RATE
            ,SOM_QUOTE_NM
            ,SOM_QUOTE_STS_NM
            ,SOM_SLS_REP_ID
            ,SOM_SLS_REP_LAST_NM
            ,SOM_SLS_REP_FIRST_NM
            ,SOM_BR_NM
            ,SOM_ACCT_MGR_TXT
            ,REB_MERC_CD
            ,CSA_PMT_FIRST_NM
            ,CSA_PMT_LAST_NM
            ,SUBSTR(CSA_PMT_PHO_TXT, 1, 20) CSA_PMT_PHO_TXT
            ,SUBSTR(CSA_PMT_PHO_EXT_TXT, 1, 4) CSA_PMT_PHO_EXT_TXT
            ,CSA_PMT_EML_TXT
            ,CSA_PMT_TP_TXT
            ,MAINT_BLLG_ST_TXT
            ,MAINT_BLLG_ZIP_TXT
            ,MAINT_BLLG_CNTY_TXT
            ,BID_PRC_LIST_NM
            ,DELY_FAX_TXT
            ,MAINT_PO_VRSN_TXT
            ,MAINT_BILL_TO_LAST_NM
            ,SUBSTR(MAINT_BILL_TO_PHO_TXT, 1, 20) MAINT_BILL_TO_PHO_TXT
            ,SUBSTR(MAINT_BILL_TO_PHO_EXT_TXT, 1, 4) MAINT_BILL_TO_PHO_EXT_TXT
            ,MAINT_BILL_TO_EML_TXT
            ,MAINT_BLLG_ADDR_DESC_TXT
            ,MAINT_BLLG_CITY_DESC_TXT
            ,SUBSTR(SUB_SVC_CTAC_PHO_TXT, 1, 20) SUB_SVC_CTAC_PHO_TXT
            ,SUB_SVC_CTAC_EML_TXT
            ,MARK_VIEW_BRCD_TXT
            ,SOM_SPIFF_DTL_TXT_01
            ,MAINT_BILL_IND_SOM_TXT
            ,MAINT_BILL_TO_FIRST_NM
            ,CHK_AGMT_IND_SOM_TXT
            ,REAL_FAIR_IND_SOM_TXT
            ,SUB_SVC_PMT_TERM_TXT
            ,SUB_SVC_AGMT_TERM_TXT
            ,SUB_SVC_CTAC_FIRST_NM
            ,SUB_SVC_CTAC_LAST_NM
            ,QTLY_PMT_TXT
            ,OTH_LEASE_IND_SOM_TXT
            ,OTH_PMT_LEASE_TXT
            ,ACH_RTE_CD
            ,ACH_ACCT_NUM
            ,NON_RF_IND_SOM_TXT
            ,DELY_INSTN_TXT
            ,ZERO_DUE_IND_SOM_TXT
            ,SVC_PRVD_TXT
            ,LEASE_TP_TXT
            ,LEASE_FAX_IND_SOM_TXT
            ,MTH_PMT_IND_SOM_TXT
            ,TAX_EXEM_IND_SOM_TXT
            ,DCLN_MAINT_IND_SOM_TXT
            ,SHIP_VIA_INSTN_TXT
            ,HRS_OP_TXT
            ,ELEV_IND_SOM_TXT
            ,LOAD_DOCK_IND_SOM_TXT
            ,SUBSTR(IT_PHO_TXT, 1, 20) IT_PHO_TXT
            ,SUBSTR(IT_PHO_EXT_TXT, 1, 4) IT_PHO_EXT_TXT
            ,IT_EML_TXT
            ,IT_CTAC_DEPT_TXT
            ,PO_REQ_IND_SOM_TXT
            ,SOM_PO_NUM
            ,DELY_FIRST_NM
            ,SUBSTR(DELY_PHO_TXT, 1, 20) DELY_PHO_TXT
            ,SUBSTR(DELY_PHO_EXT_TXT, 1, 4) DELY_PHO_EXT_TXT
            ,DELY_EML_TXT
            ,IT_LAST_NM
            ,IT_FIRST_NM
            ,OTH_PMT_TXT_AQU_TXT
            ,SOM_CHK_NUM
            ,SOM_CR_CARD_NUM
            ,SOM_CR_CARD_EXPR_TXT
            ,SOM_CR_CARD_NM
            ,DELY_LAST_NM
            ,BILL_TO_FAX_TXT
            ,BILL_TO_EML_TXT
            ,CHK_ORD_IND_SOM_TXT
            ,TRX_TP_TXT
            ,NET_THRTY_IND_SOM_TXT
            ,OTH_AQU_IND_SOM_TXT
            ,ISTL_BR_DESC_TXT
            ,SOM_SPIFF_DTL_TXT_02
            ,BILL_TO_LAST_NM
            ,BILL_TO_FIRST_NM
            ,SUBSTR(BILL_TO_PHO_TXT, 1, 20) BILL_TO_PHO_TXT
            ,SUBSTR(BILL_TO_PHO_EXT_TXT, 1, 4) BILL_TO_PHO_EXT_TXT
            ,LEASE_PRCH_ORDER_TXT
            ,LEASE_CR_APPLY_TO_TXT
            ,ISTL_REP_NM
            ,ISTL_REP_TXT
            ,ISTL_BR_DRCTR_NM
            ,ISTL_BR_DRCTR_NUM
            ,LEASE_EQUIP_TP_TXT
            ,CPC_RNTL_IND_SOM_TXT
            ,LEASE_RG_IND_SOM_TXT
            ,LEASE_TRTY_IND_SOM_TXT
            ,LEASE_CUSA_CH_TXT
            ,LEASE_APP_TXT
            ,BLLG_CITY_DESC_TXT
            ,BLLG_ST_TXT
            ,BLLG_ZIP_TXT
            ,LEASE_CMPY_NM
            ,LEASE_SVC_IND_SOM_TXT
            ,LEASE_TAX_IND_SOM_TXT
            ,CUSA_CH_TXT
            ,SVC_INCL_IND_SOM_TXT
            ,BILL_TO_CUST_LEGAL_NM
            ,BILL_TO_DBA_TXT
            ,BLLG_CMPY_TXT
            ,BLLG_ADDR_DESC_TXT
            ,SHIP_TO_CNTY_TXT
            ,SOM_SHIP_TO_ZIP_CD
            ,SHIP_TO_CUST_PTY_SITE_NUM
            ,SHIP_TO_CRM_SLS_ID
            ,SHIP_TO_CRM_SLS_NUM
            ,PRC_LIST_DESC_TXT
            ,SHIP_TO_ACCT_NUM
            ,SHIP_TO_CUST_LEGAL_NM
            ,SOM_SHIP_TO_CUST_NM
            ,SHIP_TO_ADDR_DESC_TXT_01
            ,SHIP_TO_ADDR_DESC_TXT_02
            ,SHIP_TO_CITY_TXT
            ,CRAT_BY_TXT
            ,SHIP_TO_ST_TXT
            ,PRC_CONTR_NUM
            ,PRC_CONTR_NM
            ,PRC_CONTR_PK
            ,SOM_CSMP_NUM
            ,CSMP_CR_AMT
            ,CUST_ISS_PO_DT
            ,CSMP_IND_SOM_TXT
            ,SOM_MAINT_PO_NUM
        FROM
            NWAI4120_01
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            <!-- NOT EXISTS CPO -->
            AND NOT EXISTS (SELECT '1' FROM CPO C
            WHERE C.EZCANCELFLAG = '0' AND C.GLBL_CMPY_CD = #glblCmpyCd#
            AND C.CPO_SRC_TP_CD = #cpoSrcTpCd# AND C.ORD_SRC_REF_NUM = 'S' || LPAD(SOM_QUOTE_ID,7,'0'))
            <!-- NOT EXISTS IMPT_STS NOT IN (Not Processed, Reject) -->
            AND NOT EXISTS (SELECT '1' FROM DS_IMPT_ORD DIO
            WHERE DIO.EZCANCELFLAG = '0' AND DIO.GLBL_CMPY_CD = #glblCmpyCd#
            AND DIO.CPO_SRC_TP_CD = #cpoSrcTpCd# AND DIO.ORD_SRC_REF_NUM = 'S' || LPAD(SOM_QUOTE_ID,7,'0')
            AND DIO.IMPT_STS_CD NOT IN ('01','02','05'))
        ORDER BY
            SOM_QUOTE_ID
    </statement>

    <statement id="getNWAI4120_02" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_APVL_ID
            ,SOM_QUOTE_ID
            ,SOM_VRSN_ID
            ,APVL_TP_ID
            ,WF_START_TS
            ,WF_END_TS
            ,SOM_APVL_TP_TXT
            ,SOM_STS_TXT
            ,SOM_APVL_DESC_TXT
            ,SHIP_TO_ADDR_KEY_TXT
            ,SPLIT_REP_TXT
            ,SOM_APVR_NM
            ,APVL_ACTV_TXT
            ,WF_START_USR_ID
            ,WF_END_USR_ID
            ,APVL_ADD_USR_ID
        FROM
            NWAI4120_02
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_APVL_ID
    </statement>

    <statement id="getNWAI4120_03" parameterClass="Map" resultClass="Map">
        SELECT
             I03.INTERFACE_ID
            ,I03.TRANSACTION_ID
            ,I03.SEGMENT_ID
            ,I03.UNIT_ID
            ,I03.SEQ_NUMBER
            ,I03.SOM_APVL_NOTE_ID
            ,I03.SOM_APVL_ID
            ,I03.APVL_ADD_TS
            ,I03.APVL_NOTE_TXT
            ,I03.APVL_ADD_USR_ID
            ,I02.SOM_QUOTE_ID
        FROM
            NWAI4120_02 I02
           ,NWAI4120_03 I03
        WHERE
            I02.EZCANCELFLAG         = '0'
            AND I02.INTERFACE_ID     = #interfaceId#
            AND I02.TRANSACTION_ID   = #transactionId#
            AND I02.SOM_QUOTE_ID     = #somQuoteId#
            AND I02.INTERFACE_ID     = I03.INTERFACE_ID
            AND I02.TRANSACTION_ID   = I03.TRANSACTION_ID
            AND I02.SOM_APVL_ID      = I03.SOM_APVL_ID
            AND I03.EZCANCELFLAG     = '0'
        ORDER BY
             I02.SOM_QUOTE_ID
            ,I02.SOM_APVL_ID
            ,I03.SOM_APVL_NOTE_ID
    </statement>

    <statement id="getNWAI4120_04" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_CMSN_AMT
            ,SVC_COST_AMT
            ,SVC_COST_PMT_AMT
            ,SVC_COST_TRNSF_AMT
            ,SOM_MKUP_AMT
            ,ORD_TOT_AMT
            ,SOM_TOT_REV_AMT
            ,SOM_TOT_EARN_AMT
            ,INTER_RG_EARN_AMT
            ,INTER_TRTY_REV_AMT
            ,INTER_TRTY_EARN_AMT
            ,SPIFF_REV_AMT
            ,SPIFF_EARN_AMT
            ,UNIT_SOLD_EARN_AMT
            ,SBSCR_SVC_AMT
            ,GP_EQUIP_REV_AMT
            ,GP_EQUIP_EARN_AMT
            ,SBSCR_SVC_REV_AMT
            ,SBSCR_SVC_EARN_AMT
            ,INTER_RG_REV_AMT
            ,REP_EQUIP_REV_AMT
            ,GP_EQUIP_AMT
            ,EXT_FL_PRC_AMT
            ,SOM_PRMO_AMT
            ,SOM_TRADE_IN_AMT
            ,SOM_TAX_AMT
            ,SOM_CBS_INV_AMT
            ,SOM_FINAL_FL_AMT
            ,GP_COST_TRNSF_AMT
            ,TOT_REP_REV_AMT
            ,SBSCR_SVC_REP_REV_AMT
            ,SOM_BYOT_FIN_AMT
            ,MISC_NON_TAX_ABLE_AMT
            ,SOM_OTH_EQUIP_AMT
            ,MSRP_LIST_PRC_AMT
            ,SOM_TAX_ABLE_AMT
            ,NON_TAX_ABLE_AMT
            ,SOM_TOT_FIN_AMT
            ,SOM_EQUIP_FIN_AMT
            ,SOM_EQUIP_PAY_AMT
            ,SOM_SVC_FIN_AMT
            ,SOM_SPLY_FIN_AMT
            ,SOM_UPG_FIN_AMT
            ,SOM_PCT_MKUP_RATE
            ,SOM_SOFT_PCT_COST_RATE
            ,SOM_FIN_VS_LIST_RATE
            ,GP_COST_PCT_TRNSF_RATE
            ,GP_PCT_EQUIP_RATE
            ,UNIT_SOLD_REV_AMT
            ,GP_WOT_COST_TRNSF_AMT
            ,FL_ADJ_AMT
            ,SOM_SVC_REV_TRNSF_AMT
            ,SOM_TOT_COST_TRNSF_AMT
            ,PRO_SVC_AMT
            ,GP_WOT_COST_TRNSF_RATE <!-- QC#17120 add -->
        FROM
            NWAI4120_04
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
    </statement>

    <statement id="getNWAI4120_05" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_SOFT_COST_ID
            ,SOM_ORD_QTY
            ,MTR_READ_CNT
            ,SOM_STEP_CNT
            ,SOM_PRC_AMT
            ,SOM_EXT_PRC_AMT
            ,ERLST_DELY_TS
            ,SOM_ELEV_CNT
            ,LOAD_DOCK_CNT
            ,SOM_TAX_RATE
            <!-- QC#24069 -->
            ,CASE WHEN QUOTE_LINE_TP_TXT = 'OTHEREQUIPMENT' THEN
                UPPER(SOM_MERC_ITEM_CD)
             ELSE
                SOM_MERC_ITEM_CD
             END SOM_MERC_ITEM_CD
            ,SOM_ITEM_DESC_TXT
            ,SOM_DESC_TXT
            ,SOM_MDL_TXT
            ,QUOTE_LINE_TP_TXT
            ,SOM_DESC_SER_NUM
            ,SOM_BYOT_ST_CD
            ,SOM_BYOT_ZIP_CD
            ,SOM_BYOT_LAST_NM
            ,SUBSTR(SOM_BYOT_PHO_TXT, 1, 20) SOM_BYOT_PHO_TXT
            ,SUBSTR(SOM_BYOT_PHO_EXT_TXT, 1, 4) SOM_BYOT_PHO_EXT_TXT
            ,SOM_BYOT_ADDR_01
            ,SOM_BYOT_ADDR_02
            ,SOM_BYOT_CITY_TXT
            ,SOM_SOFT_COST_DLR_TXT
            ,MTR_METH_TXT
            ,SPLIT_TP_TXT
            ,SOM_BYOT_NM
            ,SOM_MNF_TXT
            ,SOM_BYOT_FIRST_NM
            ,SUBSTR(SCD_PHO_TXT, 1, 20) SCD_PHO_TXT
            ,SUBSTR(SCD_PHO_EXT_TXT, 1, 4) SCD_PHO_EXT_TXT
            ,SCD_EML_TXT
            ,ISTL_REP_TXT
            ,ISTL_BR_TXT
            ,BR_DRCTR_TXT
            ,PRIM_CTAC_LAST_NM
            ,SUBSTR(PRIM_PHO_TXT, 1, 20) PRIM_PHO_TXT
            ,SUBSTR(PRIM_PHO_EXT_TXT, 1, 4) PRIM_PHO_EXT_TXT
            ,PRIM_EML_TXT
            ,SCD_CTAC_FIRST_NM
            ,SCD_CTAC_LAST_NM
            ,SOM_SOFT_COST_CNTY_NM
            ,SOM_SOFT_COST_ZIP_CD
            ,SHIP_VIA_TXT
            ,HRS_OP_TXT
            ,SOM_SOFT_COST_INSTN_TXT
            ,PRIM_CTAC_FIRST_NM
            ,SOM_CRM_SLS_TXT
            ,SOM_ACCT_NUM
            ,SOM_SOFT_COST_ADDR_01
            ,SOM_SOFT_COST_ADDR_02
            ,SOM_SOFT_COST_CITY_TXT
            ,SOM_SOFT_COST_ST_CD
            ,RTRN_TP_TXT
            ,RTRN_ISTL_TXT
            ,DTL_DESC_TXT
            ,CFS_IND_SOM_TXT
            ,NON_CFS_LEASE_CMPY_TXT
            ,SOM_PSN_TXT
            ,SOM_PRC_TP_TXT
        FROM
            NWAI4120_05
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_SOFT_COST_ID
    </statement>

    <statement id="getNWAI4120_06" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,RTRN_CMPY_ID
            ,SOM_QUOTE_ID
            ,SOM_SOFT_COST_ITEM_ID
            ,ORIG_ORD_TS
            ,PICK_UP_DT_OTH_TS
            ,MTR_READ_CNT
            ,RTRN_OTH_TXT
            ,PICK_UP_DT_SAME_TXT
            ,PICK_UP_DT_OTH_TXT
            ,PICK_UP_CTAC_FIRST_NM
            ,PICK_UP_CTAC_LAST_NM
            ,SUBSTR(PICK_UP_PHO_TXT, 1, 20) PICK_UP_PHO_TXT
            ,SOM_MDL_TXT
            ,SOM_LEASE_NUM
            ,SOM_LEASE_COMP_TXT
            ,PICK_UP_ST_CD
            ,PICK_UP_CNTY_NM
            ,PICK_UP_ZIP_CD
            ,SOM_DESC_SER_NUM
            ,SOM_PSN_DESC_TXT
            ,SOM_TP_DESC_TXT
            ,SUBSTR(PICK_UP_PHO_EXT_TXT, 1, 4) PICK_UP_PHO_EXT_TXT
            ,PICK_UP_EML_TXT
            ,RMV_INSTN_TXT
            ,PICK_UP_ADDR_01
            ,PICK_UP_ADDR_02
            ,PICK_UP_CITY_ADDR
        FROM
            NWAI4120_06
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_SOFT_COST_ITEM_ID
    </statement>

    <statement id="getNWAI4120_08" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_DTL_ID
            ,SOM_QUOTE_ID
            ,SPIFF_DTL_AMT
            ,SOM_ITEM_CD
            ,SOM_ITEM_TXT
        FROM
            NWAI4120_08
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_DTL_ID
    </statement>

    <statement id="getNWAI4120_10" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,SOM_SORT_ORD_NUM
            ,SOM_ORD_QTY
            ,SOM_CONFIG_QTY
            ,USED_DEMO_ID
            ,FL_PRC_AMT
            ,PRF_PRC_AMT
            ,MSRP_LIST_PRC_AMT
            ,SELL_PRC_LIST_AMT
            ,EXT_SELL_PRC_AMT
            ,LTST_PRC_AMT
            ,EXT_FL_PRC_AMT
            ,ENGNR_BDL_CNT
            ,SOM_MERC_CD
            ,SOM_MERC_NM
            ,SOM_MDL_DESC_TXT
            ,SOM_MDSE_TP_TXT
            ,SOM_SEG_TXT
            ,SOM_DESC_SER_NUM
            ,SOM_INVTY_CONFIG_ID
        FROM
            NWAI4120_10
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
            AND SOM_SORT_ORD_NUM &lt; 1000  <!-- QC#24113, QC#24080 -->
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,TO_NUMBER(SOM_SORT_ORD_NUM)
    </statement>

    <statement id="getNWAI4120_12" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,SOM_CONFIG_LTR_TXT
            ,SOM_ORD_QTY
            ,SOM_PSN_CNT
            ,SOM_STEP_CNT
            ,FL_PRC_LIST_ID
            ,BID_PRC_LIST_ID
            ,LAST_UPD_TS
            ,ERLST_DELY_TS
            ,SOM_ELEV_CNT
            ,LOAD_DOCK_CNT
            ,SOM_TAX_RATE
            ,SOM_CRM_SLS_TXT
            ,SOM_ACCT_NUM
            ,SOM_SHIP_TO_ADDR_01
            ,SOM_SHIP_TO_ADDR_02
            ,SOM_CITY_ADDR
            ,SOM_ST_CD
            ,CSA_PMT_TP_TXT
            ,BID_PRC_LIST_NM
            ,CSA_PMT_FIRST_NM
            ,CSA_PMT_LAST_NM
            ,SUBSTR(CSA_PMT_PHO_TXT, 1, 20) CSA_PMT_PHO_TXT
            ,SUBSTR(CSA_PMT_PHO_EXT_DESC_TXT, 1, 4) CSA_PMT_PHO_EXT_DESC_TXT
            ,CSA_PMT_EML_TXT
            ,SOM_DLR_TXT
            ,MTR_METH_TXT
            ,SPLIT_TP_TXT
            ,ADDR_LB_TXT
            ,PRC_BOOK_NM
            ,SOM_FL_PRC_LIST_NM
            ,SUBSTR(SCD_PHO_TXT, 1, 20) SCD_PHO_TXT
            ,SUBSTR(SCD_PHO_EXT_TXT, 1, 4) SCD_PHO_EXT_TXT
            ,SCD_EML_TXT
            ,ISTL_REP_DESC_TXT
            ,ISTL_BR_DESC_TXT
            ,BR_DRCTR_DESC_TXT
            ,PRIM_CTAC_LAST_NM
            ,SUBSTR(PRIM_PHO_TXT, 1, 20) PRIM_PHO_TXT
            ,SUBSTR(PRIM_PHO_EXT_TXT, 1, 4) PRIM_PHO_EXT_TXT
            ,PRIM_EML_TXT
            ,SCD_CTAC_FIRST_NM
            ,SCD_CTAC_LAST_NM
            ,SOM_CNTY_NM
            ,SOM_ZIP_CD
            ,SOM_SHIP_VIA_TXT
            ,HRS_OP_TXT
            ,SOM_INSTN_TXT
            ,PRIM_CTAC_FIRST_NM
        FROM
            NWAI4120_12
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_CONFIG_ID
    </statement>

    <statement id="getNWAI4120_13" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,SOM_ITEM_CD
            ,SOM_SER_NUM
        FROM
            NWAI4120_13
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_CONFIG_ID
    </statement>

    <statement id="getNWAI4120_14" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,RTRN_CMPY_ID
            ,SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,EQUIP_COND_ID
            ,ACK_DESC_ID
            ,SOM_PRMO_AMT
            ,ORIG_ORD_TS
            ,PICK_UP_DT_OTH_DESC_TXT
            ,PICK_UP_DT_SAME_CNT
            ,PICK_UP_DT_OTH_CNT
            ,SOM_PRMO_SER_NUM
            ,SOM_PRMO_CD
            ,SOM_PRMO_MDL_NM
            ,RTRN_OTH_TXT
            ,PICK_UP_CTAC_FIRST_NM
            ,PICK_UP_CTAC_LAST_NM
            ,SOM_PRMO_CITY_TXT
            ,SOM_PRMO_ST_CD
            ,SOM_PRMO_CNTY_NM
            ,SOM_PRMO_ZIP_CD
            ,SUBSTR(PICK_UP_PHO_TXT, 1, 20) PICK_UP_PHO_TXT
            ,SUBSTR(PICK_UP_PHO_EXT_TXT, 1, 4) PICK_UP_PHO_EXT_TXT
            ,PICK_UP_EML_TXT
            ,SOM_RMV_INSTN_TXT
            ,SOM_PRMO_ADDR_01
            ,SOM_PRMO_ADDR_02
        FROM
            NWAI4120_14
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_CONFIG_ID
    </statement>

    <statement id="getNWAI4120_16" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_SRV_ID
            ,SOM_QUOTE_ID
            ,FLEET_TERM_NUM
            ,FLEET_VOL_CLR_CNT
            ,FLEET_VOL_BW_CNT
            ,SVC_COST_ID
            ,SVC_COST_TRNSF_AMT
            ,CLR_OVAG_COST_TRNSF_AMT
            ,BW_OVAG_COST_TRNSF_AMT
            ,FIN_SVC_COST_AMT
            ,TOT_SVC_COST_AMT
            ,TOT_SVC_COST_TRNSF_AMT
            ,TOT_SVC_REV_TRNSF_AMT
            ,FLEET_BW_REQ_BASE_AMT
            ,FLEET_CLR_REQ_BASE_AMT
            ,ADDL_PRMO_ID
            ,FLEET_CLR_CPC_CNT
            ,FLEET_BW_CPC_CNT
            ,FLEET_PLAN_DESC_TXT
            ,FLEET_BILL_BY_TXT
            ,FLEET_BLLG_CYCLE_TXT
            ,CONTR_TP_TXT
            ,SVC_COST_TRNSF_TXT
            ,SVC_COST_APVL_TXT
            ,STPL_IND_SOM_TXT
            ,CT_WAV_IND_SOM_TXT
            ,CONTR_IND_SOM_TXT
            ,SOM_CONTR_NUM
            ,TRNSF_OVRD_IND_SOM_TXT
            ,SOM_MAINT_PO_DT
        FROM
            NWAI4120_16
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_SRV_ID
    </statement>

    <statement id="getNWAI4120_17" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_SRV_ID
            ,SOM_CONFIG_ID
            ,SOM_DURN_ID
            ,SOM_UNIT_ID
            ,SVC_CONTR_ID
            ,QUOTE_STS_ID
            ,REQ_BASE_AMT
            ,PUB_BASE_AMT
            ,ENGNR_ITEM_CD
            ,SOM_MDL_DESC_LONG_TXT
            ,DCLN_MAINT_IND_SOM_TXT
            ,ORCL_MDL_NM
            ,SOM_SVC_ITEM_CD
            ,SOM_PKG_NM
            ,BLLG_CYCLE_TXT
            ,PRC_CATG_CD
            ,SVC_CONTR_IND_SOM_TXT
        FROM
            NWAI4120_17
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_SRV_ID
            ,SOM_CONFIG_ID
    </statement>

    <statement id="getNWAI4120_18" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_SRV_ID
            ,SOM_SRV_LINE_ID
            ,SOM_SRV_TERM_ID
            ,SOM_SRV_UNIT_ID
            ,SOM_VOL_MTH_SRV_CNT
            ,SOM_VOL_TOT_SRV_CNT
            ,SOM_QUOTE_ID
            ,SOM_SRV_VOL_COMIT_CNT
            ,BASE_CLICK_REQ_BASE_AMT
            ,SVC_PRMO_ID
            ,BAND_MAX_CNT
            ,TERM_MIN_CNT
            ,TERM_MAX_CNT
            ,REQ_BASE_AMT
            ,COST_TRNSF_AMT
            ,OVAG_COST_TRNSF_AMT
            ,TOT_COST_TRNSF_AMT
            ,BASE_CLICK_PUB_BASE_AMT
            ,BASE_CLICK_COST_TRNSF_AMT
            ,BASE_SVC_REV_TRNSF_AMT
            ,OVAG_SVC_REV_TRNSF_AMT
            ,TOT_SVC_REV_TRNSF_AMT
            ,ORIG_COST_TRNSF_AMT
            ,ORIG_SVC_REV_TRNSF_AMT
            ,REQ_CPC_CNT
            ,SVC_PUB_BASE_AMT
            ,PUB_CPC_CNT
            ,SOM_MULT_CNT
            ,BAND_MIN_CNT
            ,CONTR_OPT_TXT
            ,PRMO_BT_IND_SOM_TXT
            ,IS_CLR_BT_IND_SOM_TXT
            ,PLAN_DESC_TXT
            ,SOM_BLLG_CYCLE_DESC_TXT
            ,USG_CYCLE_DESC_TXT
            ,SVC_CONTR_IND_SOM_TXT
            ,SOM_PKG_NM
            ,SOM_SRV_MTR_TP_NM
            ,SOM_SRV_CNTR_NM
            ,SVC_CLICK_TP_TXT
            ,CLICK_TP_DESC_TXT
            ,SVC_PRC_BOOK_DESC_TXT
            ,SOM_BAND_DESC_TXT
            ,ORCL_MDL_NM
            ,SOM_SVC_ITEM_CD
            ,SOM_SRV_PRMO_CD
            ,SOM_SRV_PRMO_NM
            ,SVC_PRMO_TXT
            ,DBL_CLICK_IND_SOM_TXT
            ,RATE_IND_SOM_TXT
            ,SVC_PRC_BOOK_TXT
            ,WITH_RMT_IND_SOM_TXT
            ,SOM_BAND_CD
            ,DCLN_MAINT_IND_SOM_TXT
            ,MTR_READ_METH_TXT
            ,PRMO_IND_SOM_TXT
            ,IS_PRMO_IND_SOM_TXT
            ,CONTR_TP_DESC_TXT
            ,SOM_MDL_ID
            ,SOM_MDL_GRP_ID
            ,SOM_MDL_DESC_TXT
            ,IS_FLEET_IND_SOM_TXT
            ,IS_BASE_CLICK_IND_SOM_TXT
            ,PRC_CATG_CD
        FROM
            NWAI4120_18
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_SRV_ID
            ,SOM_SRV_LINE_ID
    </statement>

    <statement id="getNWAI4120_19" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_SRV_ID
            ,SOM_SRV_LINE_ID
            ,SOM_DURN_ID
            ,SOM_UNIT_ID
            ,SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,REQ_BASE_AMT
            ,PUB_BASE_AMT
            ,REQ_SVC_PRC_AMT
            ,PUB_SVC_PRC_AMT
            ,TOT_COST_TRNSF_AMT
            ,TOT_SVC_REV_TRNSF_AMT
            ,ORIG_COST_TRNSF_AMT
            ,ORIG_SVC_REV_TRNSF_AMT
            ,SOM_ITEM_CD
            ,SOM_MDL_DESC_LONG_TXT
            ,DCLN_MAINT_IND_SOM_TXT
            ,ORCL_MDL_NM
            ,SVC_CONTR_IND_SOM_TXT
            ,SOM_PKG_NM
            ,PRC_CATG_CD
        FROM
            NWAI4120_19
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_SRV_ID
            ,SOM_SRV_LINE_ID
    </statement>

    <statement id="getNWAI4120_20" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_SRV_ID
            ,SOM_CONFIG_ID
            ,SOM_UNIT_ID
            ,QUOTE_STS_ID
            ,REQ_SVC_PRC_AMT
            ,PUB_SVC_PRC_AMT
            ,ENGNR_ITEM_CD
            ,SOM_MDL_DESC_LONG_TXT
            ,DCLN_MAINT_IND_SOM_TXT
            ,ORCL_MDL_NM
            ,SOM_SVC_ITEM_CD
            ,SOM_PKG_NM
            ,BLLG_CYCLE_TXT
            ,PRC_CATG_CD
            ,SVC_CONTR_IND_SOM_TXT
        FROM
            NWAI4120_20
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_SRV_ID
            ,SOM_CONFIG_ID
    </statement>

    <statement id="getNWAI4120_21" parameterClass="Map" resultClass="Map">
        SELECT
             INTERFACE_ID
            ,TRANSACTION_ID
            ,SEGMENT_ID
            ,UNIT_ID
            ,SEQ_NUMBER
            ,SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,SOM_CONFIG_LINE_ID
            ,SOM_EQUIP_PRC_LIST_NM
            ,SOM_SVC_PRC_LIST_NM
            ,SOM_REP_REV_AMT
            ,SOM_EQUIP_BASE_AMT
            ,SOM_EQUIP_PMT_AMT
            ,SOM_SVC_BASE_AMT
            ,SOM_SVC_PMT_AMT
        FROM
            NWAI4120_21
        WHERE
            EZCANCELFLAG         = '0'
            AND INTERFACE_ID     = #interfaceId#
            AND TRANSACTION_ID   = #transactionId#
            AND SOM_QUOTE_ID     = #somQuoteId#
        ORDER BY
             SOM_QUOTE_ID
            ,SOM_CONFIG_ID
            ,SOM_CONFIG_LINE_ID
    </statement>
    
    <statement id="getTrnsfAmtCnt" parameterClass="Map" resultClass="Map">
        SELECT
            NVL ((
                SELECT
                    COUNT(*)
                FROM
                    NWAI4120_18 N18
                WHERE
                        N18.EZCANCELFLAG        = '0'
                    AND N18.INTERFACE_ID        = #interfaceId#
                    AND N18.TRANSACTION_ID      = #transactionId#
                    AND N18.SOM_QUOTE_ID        = #somQuoteId#
                    AND N18.ORIG_COST_TRNSF_AMT &lt; 0), 0) 
            + NVL ((
                SELECT
                    COUNT (*)
                FROM
                    NWAI4120_19 N19
                WHERE
                        N19.EZCANCELFLAG        = '0'
                    AND N19.INTERFACE_ID        = #interfaceId#
                    AND N19.TRANSACTION_ID      = #transactionId#
                    AND N19.SOM_QUOTE_ID        = #somQuoteId#
                    AND N19.ORIG_COST_TRNSF_AMT &lt; 0
            ), 0) AS L_POSITIVE_EXISTS_CNT
            ,NVL ((
                SELECT
                    COUNT (*)
                FROM
                    NWAI4120_18 N18
                WHERE
                        N18.EZCANCELFLAG        = '0'
                    AND N18.INTERFACE_ID        = #interfaceId#
                    AND N18.TRANSACTION_ID      = #transactionId#
                    AND N18.SOM_QUOTE_ID        = #somQuoteId#
                    AND N18.ORIG_SVC_REV_TRNSF_AMT &gt; 0), 0) 
            + NVL ((
                SELECT
                    COUNT (*)
                FROM
                    NWAI4120_19 N19
                WHERE
                        N19.EZCANCELFLAG        = '0'
                    AND N19.INTERFACE_ID        = #interfaceId#
                    AND N19.TRANSACTION_ID      = #transactionId#
                    AND N19.SOM_QUOTE_ID        = #somQuoteId#
                    AND N19.ORIG_SVC_REV_TRNSF_AMT &gt; 0
            ), 0) AS L_SRT_EXISTS_CNT
        FROM
            DUAL
    </statement>
    <statement id="getSrtCtAmt" parameterClass="Map" resultClass="Map">
        SELECT
            SUM(LINE.ORIG_SVC_REV_TRNSF_AMT) ORIG_SVC_REV_TRNSF_AMT
           ,SUM(LINE.ORIG_COST_TRNSF_AMT) ORIG_COST_TRNSF_AMT
           ,SUM(LINE.TOT_SVC_REV_TRNSF_AMT) TOT_SVC_REV_TRNSF_AMT
           ,SUM(LINE.TOT_COST_TRNSF_AMT) TOT_COST_TRNSF_AMT
        FROM 
        (
        SELECT
            SUM(N18.ORIG_SVC_REV_TRNSF_AMT) ORIG_SVC_REV_TRNSF_AMT
           ,SUM(N18.ORIG_COST_TRNSF_AMT) ORIG_COST_TRNSF_AMT
           ,SUM(N18.TOT_SVC_REV_TRNSF_AMT) TOT_SVC_REV_TRNSF_AMT
           ,SUM(N18.TOT_COST_TRNSF_AMT) TOT_COST_TRNSF_AMT
        FROM
            NWAI4120_18 N18
        WHERE
            N18.EZCANCELFLAG        = '0'
        AND N18.INTERFACE_ID        = #interfaceId#
        AND N18.TRANSACTION_ID      = #transactionId#
        AND N18.SOM_QUOTE_ID        = #somQuoteId#
        AND N18.SOM_SRV_LINE_ID     = #somSrvLineId#
        UNION
        SELECT
            SUM(N19.ORIG_SVC_REV_TRNSF_AMT) ORIG_SVC_REV_TRNSF_AMT
           ,SUM(N19.ORIG_COST_TRNSF_AMT) ORIG_COST_TRNSF_AMT
           ,SUM(N19.TOT_SVC_REV_TRNSF_AMT) TOT_SVC_REV_TRNSF_AMT
           ,SUM(N19.TOT_COST_TRNSF_AMT) TOT_COST_TRNSF_AMT
        FROM
            NWAI4120_19 N19
        WHERE
            N19.EZCANCELFLAG        = '0'
        AND N19.INTERFACE_ID        = #interfaceId#
        AND N19.TRANSACTION_ID      = #transactionId#
        AND N19.SOM_QUOTE_ID        = #somQuoteId#
        AND N19.SOM_SRV_LINE_ID     = #somSrvLineId#
        ) LINE
    </statement>

    <statement id="getSearchDocMgtFld" parameterClass="Map" resultClass="Map">
        SELECT
            DMD.DOC_MGT_CATG_CD
            ,DMC.DOC_MGT_CATG_DESC_TXT
            ,DMC.DOC_MGT_CATG_NUM
            ,DMD.DOC_MGT_FLD_CD
            ,DMF.DOC_MGT_FLD_DESC_TXT
            ,DMF.DOC_MGT_FLD_NUM 
        FROM
            DOC_MGT_IDX_ATTRB_DFN DMD
            ,DOC_MGT_CATG         DMC
            ,DOC_MGT_FLD          DMF
        WHERE
            DMD.GLBL_CMPY_CD    = #glblCmpyCd#
        AND DMD.DOC_MGT_CATG_CD = #docMgtCatgCd#
        AND DMD.EZCANCELFLAG    = '0'

        AND DMD.GLBL_CMPY_CD    = DMC.GLBL_CMPY_CD
        AND DMD.DOC_MGT_CATG_CD = DMC.DOC_MGT_CATG_CD
        AND DMC.EZCANCELFLAG    = '0'

        AND DMD.GLBL_CMPY_CD    = DMF.GLBL_CMPY_CD
        AND DMD.DOC_MGT_FLD_CD  = DMF.DOC_MGT_FLD_CD 
            <iterate property="docMgtFldDescTxtList" var="docMgtFldDescTxt[]" open="AND DMF.DOC_MGT_FLD_DESC_TXT IN (" close=")" conjunction= ", " >
                #docMgtFldDescTxt[]#
            </iterate>
        AND DMF.EZCANCELFLAG    = '0'
        ORDER BY
            DMF.DOC_MGT_FLD_CD
    </statement>

    <!-- START 2018/05/10 Hd.Sugawara [QC#20343,ADD] -->
    <statement id="getSwMdlFlg" parameterClass="Map" resultClass="String">
        SELECT
            SMT.SW_MDL_FLG
        FROM
            DS_MDL              DM
            ,SVC_MDL_TP         SMT
        WHERE
            DM.GLBL_CMPY_CD   = #glblCmpyCd#
        AND DM.MDL_ID         = #mdlId#
        AND DM.EZCANCELFLAG   = '0'

        AND SMT.GLBL_CMPY_CD  = DM.GLBL_CMPY_CD
        AND SMT.SVC_MDL_TP_CD = DM.SVC_MDL_TP_CD
        AND SMT.EZCANCELFLAG  = '0'
    </statement>
    <!-- END 2018/05/10 Hd.Sugawara [QC#20343,ADD] -->
</sqlMap>

