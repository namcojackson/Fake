<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NSAL0880Query">
    <typeAlias alias="NSAL0880_ACMsg"  type="business.blap.NSAL0880.NSAL0880_ACMsg"/>
    
    <statement id="getMtrIntfc" parameterClass="Map" resultMap="result.getSearchData">
            SELECT
                 DS_MTR_INTFC_PK
                ,SER_NUM
                ,MTR_LB_DESC_TXT
                ,READ_MTR_CNT
                ,DS_MSG_TXT
                ,DS_MTR_PROC_STS_DESC_TXT
            FROM (
                SELECT
                     DMI.DS_MTR_INTFC_PK                AS DS_MTR_INTFC_PK
                    ,DMI.SER_NUM                        AS SER_NUM
                    ,MTL.MTR_LB_DESC_TXT                AS MTR_LB_DESC_TXT
                    ,DMI.READ_MTR_CNT                   AS READ_MTR_CNT
                    ,MSG.DS_MSG_TXT                     AS DS_MSG_TXT
                    ,STS.DS_MTR_PROC_STS_DESC_TXT       AS DS_MTR_PROC_STS_DESC_TXT
                FROM
                     DS_MTR_INTFC       DMI
                    ,MTR_LB             MTL
                    ,DS_MTR_PROC_STS    STS
                    ,DS_MSG             MSG
                WHERE
                        DMI.GLBL_CMPY_CD                = #glblCmpyCd#
                    AND DMI.SVC_MACH_MSTR_PK            = #svcMachMstrPk#
                    AND DMI.SVC_PHYS_MTR_READ_GRP_SQ    = #svcPhysMtrReadGrpSq#
                    AND DMI.EZCANCELFLAG                = '0'
                    AND DMI.GLBL_CMPY_CD                = MTL.GLBL_CMPY_CD(+)
                    AND DMI.MDL_MTR_LB_CD               = MTL.MTR_LB_CD(+)
                    AND MTL.EZCANCELFLAG(+)             = '0'
                    AND DMI.GLBL_CMPY_CD                = STS.GLBL_CMPY_CD
                    AND DMI.DS_MTR_PROC_STS_CD          = STS.DS_MTR_PROC_STS_CD
                    AND STS.EZCANCELFLAG                = '0'
                    AND DMI.GLBL_CMPY_CD                = MSG.GLBL_CMPY_CD(+)
                    AND DMI.DS_MTR_INTFC_PK             = MSG.DS_MSG_TRX_NUM(+)
                    AND MSG.DS_MSG_TRX_NM(+)            = #dsMsgTrxNm#
                    AND MSG.EZCANCELFLAG(+)             = '0'
                ORDER BY
                        MTL.MTR_LB_SORT_NUM
                       ,MSG.DS_MSG_TXT
            ) WHERE
                ROWNUM        &lt;= #rowNum#
    </statement>

    <resultMap id="result.getSearchData"        class="NSAL0880_ACMsg">
        <result property="dsMtrIntfcPk_A" column="DS_MTR_INTFC_PK"  javaType="EZDCBigDecimalItem" />
        <result property="serNum_A" column="SER_NUM"  javaType="EZDCStringItem" />
        <result property="mtrLbDescTxt_A" column="MTR_LB_DESC_TXT"  javaType="EZDCStringItem" />
        <result property="readMtrCnt_A" column="READ_MTR_CNT"  javaType="EZDCBigDecimalItem" />
        <result property="dsMsgTxt_A" column="DS_MSG_TXT"  javaType="EZDCStringItem" />
        <result property="dsMtrProcStsDescTxt_A" column="DS_MTR_PROC_STS_DESC_TXT"  javaType="EZDCStringItem" />
    </resultMap>

</sqlMap>
