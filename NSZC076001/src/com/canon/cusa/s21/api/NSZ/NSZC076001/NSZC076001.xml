<?xml version="1.0" encoding="UTF-8"?>
<sqlMap namespace="NSZC076001">

    <statement id="getS21SupplTpInfo" parameterClass="Map" resultClass="Map">
        SELECT
                 SMIX.SVC_MBL_S21_VAL_TXT      AS SVC_MBL_S21_VAL_TXT
                ,SSTT.END_DAY_TASK_FLG         AS END_DAY_TASK_FLG
                ,SSTT.SVC_SUPPL_TASK_TP_NM     AS SVC_SUPPL_TASK_TP_NM
        FROM
                 SVC_MBL_INTFC_XREF SMIX
                ,SVC_SUPPL_TASK_TP SSTT
        WHERE
                SMIX.GLBL_CMPY_CD          =   #glblCmpyCd#
            AND SMIX.SVC_MBL_INTFC_KEY_TXT =   #tpCdKey#
            AND SMIX.SVC_MBL_INTFC_VAL_TXT =   #svcSupplTaskTpDescTxt#
            AND SSTT.GLBL_CMPY_CD          =   SMIX.GLBL_CMPY_CD
            AND SSTT.SVC_SUPPL_TASK_TP_CD  =   SMIX.SVC_MBL_S21_VAL_TXT
            AND SMIX.EZCANCELFLAG          =   '0'
            AND SSTT.EZCANCELFLAG          =   '0'
    </statement>

    <statement id="getSvcSupplTaskNum" parameterClass="Map" resultClass="String">
        SELECT
                 SST.SVC_SUPPL_TASK_NUM       AS SVC_SUPPL_TASK_NUM
        FROM
                 SVC_SUPPL_TASK SST
        WHERE
                SST.GLBL_CMPY_CD           =   #glblCmpyCd#
            AND SST.TECH_CD                =   #psnCd#
            AND SST.SVC_SUPPL_TASK_STS_CD  =   #stsCd#
            AND SST.SVC_SUPPL_TASK_TP_CD   =   #valTxt#
            AND SST.SVC_SUPPL_FROM_DT      =   #startDate#
            AND SST.SVC_SUPPL_FROM_TM	   =   #startTime#
            AND SST.EZCANCELFLAG           =   '0'
    </statement>
    <statement id="getSvcMemoTpCd" parameterClass="Map" resultClass="String">
        SELECT
                 SMIX.SVC_MBL_S21_VAL_TXT
        FROM
                 SVC_MBL_INTFC_XREF SMIX
        WHERE
                SMIX.GLBL_CMPY_CD           =   #glblCmpyCd#
            AND SMIX.SVC_MBL_INTFC_KEY_TXT  =   #keyTxt#
            AND SMIX.SVC_MBL_INTFC_VAL_TXT  =   #valTxt#
            AND SMIX.EZCANCELFLAG           =   '0'
    </statement>

<!-- QC#3727 ADD Start -->
    <statement id="getShipToCustBySvcSupplTaskNum" parameterClass="Map" resultClass="Map">
        SELECT
                 SHIP.CTRY_CD
                ,SHIP.POST_CD
            FROM
                 SVC_SUPPL_TASK SUPL
                ,SVC_TASK TASK
                ,FSR
                ,SHIP_TO_CUST SHIP
            WHERE
                SUPL.GLBL_CMPY_CD = #glblCmpyCd#
            AND
                SUPL.SVC_SUPPL_TASK_NUM = #svcSupplTaskNum#
            AND
                SUPL.EZCANCELFLAG    = '0'
            AND
                SUPL.GLBL_CMPY_CD    = TASK.GLBL_CMPY_CD
            AND
                SUPL.SVC_TASK_NUM    = TASK.SVC_TASK_NUM
            AND
                TASK.EZCANCELFLAG    = '0'
            AND
                TASK.GLBL_CMPY_CD    = FSR.GLBL_CMPY_CD
            AND
                TASK.FSR_NUM         = FSR.FSR_NUM
            AND
                FSR.EZCANCELFLAG     = '0'
            AND
                FSR.SHIP_TO_CUST_CD  = SHIP.SHIP_TO_CUST_CD
            AND
                FSR.GLBL_CMPY_CD     = SHIP.GLBL_CMPY_CD
            AND 
                SHIP.EZCANCELFLAG    = '0'
            AND
                SHIP.RGTN_STS_CD     = #rgtnStsCd#
    </statement>
<!-- QC#3727 ADD End -->

</sqlMap>
