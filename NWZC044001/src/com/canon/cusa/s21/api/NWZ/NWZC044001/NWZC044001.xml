<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NWZC044001">
    <typeAlias alias="NWZC044001PMsg" type="business.parts.NWZC044001PMsg"/>

    <statement id ="checkInstalBase" parameterClass="NWZC044001PMsg"  resultClass="String">
        SELECT
            M.INSTL_BASE_CTRL_FLG
        FROM
            CPO_DTL CD
           ,ORD_TAKE_MDSE OTM
           ,MDSE M
        WHERE
                CD.GLBL_CMPY_CD              = #glblCmpyCd#
            AND CD.EZCANCELFLAG              = '0'
            AND CD.CPO_ORD_NUM               = #cpoOrdNum#
            AND CD.CPO_DTL_LINE_NUM          = #cpoDtlLineNum#
            AND CD.CPO_DTL_LINE_SUB_NUM      = #cpoDtlLineSubNum#
            AND CD.GLBL_CMPY_CD              = OTM.GLBL_CMPY_CD(+)
            AND CD.MDSE_CD                   = OTM.ORD_TAKE_MDSE_CD(+)
            AND OTM.EZCANCELFLAG(+)          = '0'
            AND CD.GLBL_CMPY_CD              = M.GLBL_CMPY_CD
            AND NVL(OTM.MDSE_CD, CD.MDSE_CD) = M.MDSE_CD
            AND M.EZCANCELFLAG               = '0'
    </statement>
</sqlMap>