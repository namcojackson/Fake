<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NSBL0420Query">
    <typeAlias alias="NSBL0420_ASMsg" type="business.blap.NSBL0420.NSBL0420_ASMsg"/>

    <statement id="getDtlItemInfo" parameterClass="Map" resultMap="result.getDtlItemInfo">
        SELECT
             SVC_MOD_QTY                    AS SVC_MOD_QTY
            ,MDSE_CD                        AS MDSE_CD
            ,MDSE_DESC_SHORT_TXT            AS MDSE_DESC_SHORT_TXT
            <!-- START 2016/12/05 K.Kojima [QC#14204, ADD] -->
            ,XX_REC_HIST_CRAT_TS_A
            ,XX_REC_HIST_CRAT_BY_NM_A
            ,XX_REC_HIST_UPD_TS_A
            ,XX_REC_HIST_UPD_BY_NM_A
            ,XX_REC_HIST_TBL_NM_A
            <!-- END 2016/12/05 K.Kojima [QC#14204, ADD] -->
        FROM(
             SELECT
                 SMD.SVC_MOD_QTY                    AS SVC_MOD_QTY
                ,SMD.MDSE_CD                        AS MDSE_CD
                ,AMV.MDSE_DESC_SHORT_TXT            AS MDSE_DESC_SHORT_TXT
                <!-- START 2016/12/05 K.Kojima [QC#14204, ADD] -->
                ,SMD.EZINTIME                       AS XX_REC_HIST_CRAT_TS_A
                ,SMD.EZINUSERID                     AS XX_REC_HIST_CRAT_BY_NM_A
                ,SMD.EZUPTIME                       AS XX_REC_HIST_UPD_TS_A
                ,SMD.EZUPUSERID                     AS XX_REC_HIST_UPD_BY_NM_A
                ,SMD.EZTABLEID                      AS XX_REC_HIST_TBL_NM_A
                <!-- END 2016/12/05 K.Kojima [QC#14204, ADD] -->
             FROM
                 SVC_MOD_DTL_ITEM   SMD
                ,ALL_MDSE_V         AMV
             WHERE
                    SMD.GLBL_CMPY_CD        = #glblCmpyCd#
                AND SMD.SVC_MOD_DTL_PK      = #svcModDtlPk#
                AND SMD.MDSE_CD             = AMV.MDSE_CD
                AND SMD.GLBL_CMPY_CD        = AMV.GLBL_CMPY_CD
                AND SMD.EZCANCELFLAG        = '0'
             ORDER BY
                 SMD.MDSE_CD ASC
             )
             WHERE
                 ROWNUM                      &lt;=#limitCnt#
    </statement>
    <resultMap id="result.getDtlItemInfo" class="NSBL0420_ASMsg">
        <result property="svcModQty_A"         column="SVC_MOD_QTY"            javaType="EZDCBigDecimalItem" />
        <result property="mdseCd_A"            column="MDSE_CD"                javaType="EZDCStringItem" />
        <result property="mdseDescShortTxt_A"  column="MDSE_DESC_SHORT_TXT"    javaType="EZDCStringItem" />
        <!-- START 2016/12/05 K.Kojima [QC#14204, ADD] -->
        <result property="xxRecHistCratTs_A"   column="XX_REC_HIST_CRAT_TS_A"    javaType="EZDSStringItem"/>
        <result property="xxRecHistCratByNm_A" column="XX_REC_HIST_CRAT_BY_NM_A" javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdTs_A"    column="XX_REC_HIST_UPD_TS_A"     javaType="EZDSStringItem"/>
        <result property="xxRecHistUpdByNm_A"  column="XX_REC_HIST_UPD_BY_NM_A"  javaType="EZDSStringItem"/>
        <result property="xxRecHistTblNm_A"    column="XX_REC_HIST_TBL_NM_A"     javaType="EZDSStringItem"/>
        <!-- END 2016/12/05 K.Kojima [QC#14204, ADD] -->
    </resultMap>
</sqlMap>