<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NMAL7270Query">

    <typeAlias alias="NMAL7270CMsg"    type="business.blap.NMAL7270.NMAL7270CMsg"/>
    <typeAlias alias="NMAL7270_ACMsg"  type="business.blap.NMAL7270.NMAL7270_ACMsg"/>
    <typeAlias alias="NMAL7270_BCMsg"  type="business.blap.NMAL7270.NMAL7270_BCMsg"/>

    <statement id="search" parameterClass="Map" resultMap="result.search">
        SELECT PRH.PRC_RULE_HDR_PK
             , PRH.PRC_RULE_NM
             , PRH.PRC_RULE_DESC_TXT
             , PRH.LINE_BIZ_TP_CD
             , PRH.PRC_RULE_CATG_CD
             , PRH.APPLY_AUTO_FLG
             , PRH.OVRD_FLG
             , PRH.ACTV_FLG
             , PRH.EFF_FROM_DT
             , PRH.EFF_THRU_DT
             , PRH.DEF_RULE_PRCD_NUM
             , SUBSTR(PRH.EZINTIME, 1, 8)    CRAT_DT
             , CASE
                 WHEN AP1.FIRST_NM IS NOT NULL THEN PRH.EZINUSERID || '(' || AP1.FIRST_NM || ' ' || AP1.LAST_NM || ')'
                 ELSE PRH.EZINUSERID
               END CRAT_USR_NM
             , SUBSTR(PRH.EZUPTIME, 1, 8)    UPD_DT
             , CASE
                 WHEN AP2.FIRST_NM IS NOT NULL THEN PRH.EZUPUSERID || '(' || AP2.FIRST_NM || ' ' || AP2.LAST_NM || ')'
                 ELSE PRH.EZUPUSERID
               END UPD_USR_NM
             , PRH.EZUPTIME
             , PRH.EZUPTIMEZONE
             , PRP.PRC_RULE_PRCD_PK
             , PRP.PRC_RULE_PRCD_GRP_NM
             <!-- 2018/09/12 QC#9700 add start  -->
             ,PRH.PRC_GRP_TRX_TP_CD
             <!-- 2018/09/12 QC#9700 add end  -->
          FROM PRC_RULE_HDR PRH
             , AUTH_PSN AP1
             , AUTH_PSN AP2
             , PRC_RULE_PRCD_DTL PRPD
             , PRC_RULE_PRCD PRP
         WHERE PRH.GLBL_CMPY_CD = #glblCmpyCd#
           AND PRH.EZCANCELFLAG = '0'
           AND PRH.PRC_RULE_HDR_PK = #prcRuleHdrPk#
           AND PRH.PRC_RULE_COND_TP_CD = #prcRuleCondTpCd#
           AND PRH.GLBL_CMPY_CD = AP1.GLBL_CMPY_CD(+)
           AND PRH.EZCANCELFLAG = AP1.EZCANCELFLAG(+)
           AND PRH.EZINUSERID   = AP1.USR_NM(+)
           AND PRH.GLBL_CMPY_CD = AP2.GLBL_CMPY_CD(+)
           AND PRH.EZCANCELFLAG = AP2.EZCANCELFLAG(+)
           AND PRH.EZUPUSERID   = AP2.USR_NM(+)
           AND PRH.GLBL_CMPY_CD = PRPD.GLBL_CMPY_CD(+)
           AND PRH.EZCANCELFLAG = PRPD.EZCANCELFLAG(+)
           AND PRH.PRC_RULE_HDR_PK = PRPD.PRC_RULE_HDR_PK(+)
           AND PRPD.GLBL_CMPY_CD = PRP.GLBL_CMPY_CD(+)
           AND PRPD.EZCANCELFLAG = PRP.EZCANCELFLAG(+)
           AND PRPD.PRC_RULE_PRCD_PK = PRP.PRC_RULE_PRCD_PK(+)
    </statement>

    <resultMap id="result.search" class="NMAL7270CMsg">
        <result property="prcRuleHdrPk_BK"     column="PRC_RULE_HDR_PK"       javaType="EZDCBigDecimalItem"/>
        <result property="prcRuleNm_H1"        column="PRC_RULE_NM"           javaType="EZDCStringItem"/>
        <result property="prcRuleDescTxt_H1"   column="PRC_RULE_DESC_TXT"     javaType="EZDCStringItem"/>
        <result property="lineBizTpCd_H1"      column="LINE_BIZ_TP_CD"        javaType="EZDCStringItem"/>
        <result property="prcRuleCatgCd_H1"    column="PRC_RULE_CATG_CD"      javaType="EZDCStringItem"/>
        <result property="applyAutoFlg_H1"     column="APPLY_AUTO_FLG"        javaType="EZDCStringItem"/>
        <result property="ovrdFlg_H1"          column="OVRD_FLG"              javaType="EZDCStringItem"/>
        <result property="actvFlg_H1"          column="ACTV_FLG"              javaType="EZDCStringItem"/>
        <result property="effFromDt_H1"        column="EFF_FROM_DT"           javaType="EZDCDateItem"/>
        <result property="effThruDt_H1"        column="EFF_THRU_DT"           javaType="EZDCDateItem"/>
        <result property="defRulePrcdNum_H1"   column="DEF_RULE_PRCD_NUM"     javaType="EZDCBigDecimalItem"/>
        <result property="cratDt_H1"           column="CRAT_DT"               javaType="EZDCDateItem"/>
        <result property="xxFullNm_H1"         column="CRAT_USR_NM"           javaType="EZDCStringItem"/>
        <result property="lastUpdDt_H1"        column="UPD_DT"                javaType="EZDCDateItem"/>
        <result property="xxFullNm_H2"         column="UPD_USR_NM"            javaType="EZDCStringItem"/>
        <result property="ezUpTime_H1"         column="EZUPTIME"              javaType="EZDCStringItem"/>
        <result property="ezUpTimeZone_H1"     column="EZUPTIMEZONE"          javaType="EZDCStringItem"/>
        <result property="prcRulePrcdPk_H1"    column="PRC_RULE_PRCD_PK"      javaType="EZDCBigDecimalItem"/>
        <result property="prcRulePrcdGrpNm_H1" column="PRC_RULE_PRCD_GRP_NM"  javaType="EZDCStringItem"/>
        <!-- 2018/09/12 QC#9700 add start  -->
        <result property="prcGrpTrxTpCd_H1"     column="PRC_GRP_TRX_TP_CD"      javaType="EZDCStringItem"/>
        <!-- 2018/09/12 QC#9700 add end  -->
    </resultMap>

    <statement id="searchTrxCond" parameterClass="Map" resultMap="result.searchTrxCond">
        SELECT PRTC.PRC_RULE_TRX_COND_PK
             , PRTC.PRC_RULE_TRX_CATG_CD
             , PRTC.PRC_RULE_ATTRB_CD
             , CASE PRC_RULE_ATTRB_CD
                 WHEN #callDt# THEN NULL
                 WHEN #prcDt# THEN NULL
                 WHEN #reqDt# THEN NULL
                 ELSE PRTC.PRC_RULE_COND_FROM_TXT
               END PRC_RULE_COND_FROM_TXT
             , CASE PRC_RULE_ATTRB_CD
                 WHEN #callDt# THEN PRTC.PRC_RULE_COND_FROM_TXT
                 WHEN #prcDt# THEN PRTC.PRC_RULE_COND_FROM_TXT
                 WHEN #reqDt# THEN PRTC.PRC_RULE_COND_FROM_TXT
                 ELSE NULL
               END XX_FROM_DT
             , CASE PRC_RULE_ATTRB_CD
                 WHEN #callDt# THEN NULL
                 WHEN #prcDt# THEN NULL
                 WHEN #reqDt# THEN NULL
                 ELSE PRTC.PRC_RULE_COND_THRU_TXT
               END PRC_RULE_COND_THRU_TXT
             , CASE PRC_RULE_ATTRB_CD
                 WHEN #callDt# THEN PRTC.PRC_RULE_COND_THRU_TXT
                 WHEN #prcDt# THEN PRTC.PRC_RULE_COND_THRU_TXT
                 WHEN #reqDt# THEN PRTC.PRC_RULE_COND_THRU_TXT
                 ELSE NULL
               END XX_THRU_DT
             , PRTC.PRC_RULE_COND_NUM
             , PRTC.EFF_FROM_DT
             , PRTC.EFF_THRU_DT
             , SUBSTR(PRTC.EZINTIME, 1, 8)    CRAT_DT
             , CASE
                 WHEN AP1.FIRST_NM IS NOT NULL THEN PRTC.EZINUSERID || '(' || AP1.FIRST_NM || ' ' || AP1.LAST_NM || ')'
                 ELSE PRTC.EZINUSERID
               END CRAT_USR_NM
             , SUBSTR(PRTC.EZUPTIME, 1, 8)    UPD_DT
             , CASE
                 WHEN AP2.FIRST_NM IS NOT NULL THEN PRTC.EZUPUSERID || '(' || AP2.FIRST_NM || ' ' || AP2.LAST_NM || ')'
                 ELSE PRTC.EZUPUSERID
               END UPD_USR_NM
             , PRTC.EZUPTIME
             , PRTC.EZUPTIMEZONE
             , PRTC.EZINTIME                    AS XX_REC_HIST_CRAT_TS
             , PRTC.EZINUSERID                  AS XX_REC_HIST_CRAT_BY_NM
             , PRTC.EZUPTIME                    AS XX_REC_HIST_UPD_TS
             , PRTC.EZUPUSERID                  AS XX_REC_HIST_UPD_BY_NM
             , PRTC.EZTABLEID                   AS XX_REC_HIST_TBL_NM
          FROM PRC_RULE_TRX_COND PRTC
             , AUTH_PSN AP1
             , AUTH_PSN AP2
         WHERE PRTC.GLBL_CMPY_CD = #glblCmpyCd#
           AND PRTC.EZCANCELFLAG = '0'
           AND PRTC.PRC_RULE_HDR_PK = #prcRuleHdrPk#
           AND PRTC.GLBL_CMPY_CD = AP1.GLBL_CMPY_CD(+)
           AND PRTC.EZCANCELFLAG = AP1.EZCANCELFLAG(+)
           AND PRTC.EZINUSERID   = AP1.USR_NM(+)
           AND PRTC.GLBL_CMPY_CD = AP2.GLBL_CMPY_CD(+)
           AND PRTC.EZCANCELFLAG = AP2.EZCANCELFLAG(+)
           AND PRTC.EZUPUSERID   = AP2.USR_NM(+)
         ORDER BY PRTC.PRC_RULE_COND_NUM
    </statement>

    <resultMap id="result.searchTrxCond" class="NMAL7270_ACMsg">
        <result property="prcRuleTrxCondPk_A1"    column="PRC_RULE_TRX_COND_PK"    javaType="EZDCBigDecimalItem"/>
        <result property="prcRuleTrxCatgCd_A1"    column="PRC_RULE_TRX_CATG_CD"    javaType="EZDCStringItem"/>
        <result property="prcRuleAttrbCd_A1"      column="PRC_RULE_ATTRB_CD"       javaType="EZDCStringItem"/>
        <result property="prcRuleCondFromTxt_A1"  column="PRC_RULE_COND_FROM_TXT"  javaType="EZDCStringItem"/>
        <result property="xxFromDt_A1"            column="XX_FROM_DT"              javaType="EZDCDateItem"/>
        <result property="prcRuleCondThruTxt_A1"  column="PRC_RULE_COND_THRU_TXT"  javaType="EZDCStringItem"/>
        <result property="xxThruDt_A1"            column="XX_THRU_DT"              javaType="EZDCDateItem"/>
        <result property="prcRuleCondNum_A1"      column="PRC_RULE_COND_NUM"       javaType="EZDCBigDecimalItem"/>
        <result property="effFromDt_A1"           column="EFF_FROM_DT"             javaType="EZDCDateItem"/>
        <result property="effThruDt_A1"           column="EFF_THRU_DT"             javaType="EZDCDateItem"/>
        <result property="ezUpTime_A1"            column="EZUPTIME"                javaType="EZDCStringItem"/>
        <result property="ezUpTimeZone_A1"        column="EZUPTIMEZONE"            javaType="EZDCStringItem"/>
        <!-- QC#6931 -->
        <result property="cratDt_A1"              column="CRAT_DT"                 javaType="EZDCDateItem"/>
        <result property="xxFullNm_A1"            column="CRAT_USR_NM"             javaType="EZDCStringItem"/>
        <result property="lastUpdDt_A1"           column="UPD_DT"                  javaType="EZDCDateItem"/>
        <result property="xxFullNm_A2"            column="UPD_USR_NM"              javaType="EZDCStringItem"/>
        <result property="xxRecHistCratTs_A1"     column="XX_REC_HIST_CRAT_TS"        javaType="EZDCStringItem"/>
        <result property="xxRecHistCratByNm_A1"   column="XX_REC_HIST_CRAT_BY_NM"     javaType="EZDCStringItem"/>
        <result property="xxRecHistUpdTs_A1"      column="XX_REC_HIST_UPD_TS"         javaType="EZDCStringItem"/>
        <result property="xxRecHistUpdByNm_A1"    column="XX_REC_HIST_UPD_BY_NM"      javaType="EZDCStringItem"/>
        <result property="xxRecHistTblNm_A1"      column="XX_REC_HIST_TBL_NM"         javaType="EZDCStringItem"/>
    </resultMap>

    <statement id="searchPrcDtl" parameterClass="Map" resultMap="result.searchPrcDtl">
        SELECT PRD.PRC_RULE_DTL_PK
             , PRD.PRC_RULE_DTL_CHRG_NM
             , PRD.PRC_RULE_MOD_TP_CD
             , PRD.PRC_RULE_ADJ_TP_CD
             , PRD.PRC_RULE_ATTRB_CD
             , PRD.PRC_RULE_ADJ_LVL_CD
             , PRD.PRC_FMLA_PK
             , PF.PRC_FMLA_NM
             , PRD.PRC_RULE_DTL_RATE
             , PRD.PRC_RULE_DTL_TXT
             , PRD.EFF_FROM_DT
             , PRD.EFF_THRU_DT
             , PRCH.PRC_RULE_COND_GRP_CD
             , SCP.SPEC_COND_PRC_PK
             , SUBSTR(PRD.EZINTIME, 1, 8)    CRAT_DT
             , CASE
                 WHEN AP1.FIRST_NM IS NOT NULL THEN PRD.EZINUSERID || '(' || AP1.FIRST_NM || ' ' || AP1.LAST_NM || ')'
                 ELSE PRD.EZINUSERID
               END CRAT_USR_NM
             , SUBSTR(PRD.EZUPTIME, 1, 8)    UPD_DT
             , CASE
                 WHEN AP2.FIRST_NM IS NOT NULL THEN PRD.EZUPUSERID || '(' || AP2.FIRST_NM || ' ' || AP2.LAST_NM || ')'
                 ELSE PRD.EZUPUSERID
               END UPD_USR_NM
             , PRD.EZUPTIME
             , PRD.EZUPTIMEZONE
             , PRD.EZINTIME                    AS XX_REC_HIST_CRAT_TS
             , PRD.EZINUSERID                  AS XX_REC_HIST_CRAT_BY_NM
             , PRD.EZUPTIME                    AS XX_REC_HIST_UPD_TS
             , PRD.EZUPUSERID                  AS XX_REC_HIST_UPD_BY_NM
             , PRD.EZTABLEID                   AS XX_REC_HIST_TBL_NM
          FROM PRC_RULE_DTL PRD
             , PRC_RULE_COND_HDR PRCH
             , SPEC_COND_PRC SCP
             , PRC_FMLA PF
             , AUTH_PSN AP1
             , AUTH_PSN AP2
         WHERE PRD.GLBL_CMPY_CD = #glblCmpyCd#
           AND PRD.EZCANCELFLAG = '0'
           AND PRD.PRC_RULE_HDR_PK = #prcRuleHdrPk#
           AND PRD.GLBL_CMPY_CD = PRCH.GLBL_CMPY_CD
           AND PRD.EZCANCELFLAG = PRCH.EZCANCELFLAG
           AND PRD.PRC_RULE_COND_HDR_PK = PRCH.PRC_RULE_COND_HDR_PK
           AND PRD.GLBL_CMPY_CD = SCP.GLBL_CMPY_CD
           AND PRD.EZCANCELFLAG = SCP.EZCANCELFLAG
           AND PRD.PRC_RULE_DTL_PK = SCP.PRC_RULE_DTL_PK
           AND PRD.GLBL_CMPY_CD = PF.GLBL_CMPY_CD(+)
           AND PRD.EZCANCELFLAG = PF.EZCANCELFLAG(+)
           AND PRD.PRC_FMLA_PK = PF.PRC_FMLA_PK(+)
           AND PRD.GLBL_CMPY_CD = AP1.GLBL_CMPY_CD(+)
           AND PRD.EZCANCELFLAG = AP1.EZCANCELFLAG(+)
           AND PRD.EZINUSERID   = AP1.USR_NM(+)
           AND PRD.GLBL_CMPY_CD = AP2.GLBL_CMPY_CD(+)
           AND PRD.EZCANCELFLAG = AP2.EZCANCELFLAG(+)
           AND PRD.EZUPUSERID   = AP2.USR_NM(+)
         ORDER BY PRD.PRC_RULE_DTL_PK
    </statement>

    <resultMap id="result.searchPrcDtl" class="NMAL7270_BCMsg">
        <result property="prcRuleDtlPk_B1"       column="PRC_RULE_DTL_PK"         javaType="EZDCBigDecimalItem"/>
        <result property="prcRuleDtlChrgNm_B1"   column="PRC_RULE_DTL_CHRG_NM"    javaType="EZDCStringItem"/>
        <result property="prcRuleModTpCd_B1"     column="PRC_RULE_MOD_TP_CD"      javaType="EZDCStringItem"/>
        <result property="prcRuleAdjTpCd_B1"     column="PRC_RULE_ADJ_TP_CD"      javaType="EZDCStringItem"/>
        <result property="prcRuleAttrbCd_B1"     column="PRC_RULE_ATTRB_CD"       javaType="EZDCStringItem"/>
        <result property="prcRuleAdjLvlCd_B1"    column="PRC_RULE_ADJ_LVL_CD"     javaType="EZDCStringItem"/>
        <result property="prcFmlaPk_B1"          column="PRC_FMLA_PK"             javaType="EZDCBigDecimalItem"/>
        <result property="prcFmlaNm_B1"          column="PRC_FMLA_NM"             javaType="EZDCStringItem"/>
        <result property="prcRuleDtlRate_B1"     column="PRC_RULE_DTL_RATE"       javaType="EZDCBigDecimalItem"/>
        <result property="prcRuleDtlTxt_B1"      column="PRC_RULE_DTL_TXT"        javaType="EZDCStringItem"/>
        <result property="effFromDt_B1"          column="EFF_FROM_DT"             javaType="EZDCDateItem"/>
        <result property="effThruDt_B1"          column="EFF_THRU_DT"             javaType="EZDCDateItem"/>
        <result property="prcRuleCondGrpCd_B1"   column="PRC_RULE_COND_GRP_CD"    javaType="EZDCStringItem"/>
        <result property="specCondPrcPk_B1"      column="SPEC_COND_PRC_PK"        javaType="EZDCBigDecimalItem"/>
        <result property="ezUpTime_B1"           column="EZUPTIME"                javaType="EZDCStringItem"/>
        <result property="ezUpTimeZone_B1"       column="EZUPTIMEZONE"            javaType="EZDCStringItem"/>
        <result property="cratDt_B1"             column="CRAT_DT"                 javaType="EZDCDateItem"/>
        <result property="xxFullNm_B1"           column="CRAT_USR_NM"             javaType="EZDCStringItem"/>
        <result property="lastUpdDt_B1"          column="UPD_DT"                  javaType="EZDCDateItem"/>
        <result property="xxFullNm_B2"           column="UPD_USR_NM"              javaType="EZDCStringItem"/>
        <result property="xxRecHistCratTs_B1"    column="XX_REC_HIST_CRAT_TS"     javaType="EZDCStringItem"/>
        <result property="xxRecHistCratByNm_B1"  column="XX_REC_HIST_CRAT_BY_NM"  javaType="EZDCStringItem"/>
        <result property="xxRecHistUpdTs_B1"     column="XX_REC_HIST_UPD_TS"      javaType="EZDCStringItem"/>
        <result property="xxRecHistUpdByNm_B1"   column="XX_REC_HIST_UPD_BY_NM"   javaType="EZDCStringItem"/>
        <result property="xxRecHistTblNm_B1"     column="XX_REC_HIST_TBL_NM"      javaType="EZDCStringItem"/>
    </resultMap>

    <statement id="getPrcRuleCondHdr" parameterClass="Map" resultClass="BigDecimal">
        SELECT PRC_RULE_COND_HDR_PK
          FROM PRC_RULE_COND_HDR  PRCH
         WHERE PRCH.GLBL_CMPY_CD   = #glblCmpyCd#
           AND PRCH.EZCANCELFLAG   = '0'
           AND PRCH.PRC_RULE_HDR_PK = #prcRuleHdrPk#
           AND PRCH.PRC_RULE_COND_GRP_CD = #prcRuleCondGrpCd#
    </statement>

    <statement id="isExistRuleNm" parameterClass="Map" resultClass="String">
        SELECT 'Y'  EXIST_FLG
          FROM PRC_RULE_HDR  PRH
         WHERE PRH.GLBL_CMPY_CD   = #glblCmpyCd#
           AND PRH.EZCANCELFLAG   = '0'
        <isNotNull property="prcRuleHdrPk">
           AND PRH.PRC_RULE_HDR_PK &lt;&gt; #prcRuleHdrPk#
        </isNotNull>
           AND PRH.PRC_RULE_NM = #prcRuleNm#
    </statement>

    <statement id="isExistsPrcRuleCmbnExcl" parameterClass="Map" resultClass="String">
        SELECT 'Y'  EXIST_FLG
          FROM PRC_RULE_CMBN_EXCL PRCE
         WHERE PRCE.GLBL_CMPY_CD  = #glblCmpyCd#
           AND PRCE.EZCANCELFLAG  = '0'
           AND PRCE.PRC_RULE_MOD_TP_CD  IN (#prcRuleModTpCd#,  #all#)
           AND PRCE.PRC_RULE_ADJ_TP_CD  IN (#prcRuleAdjTpCd#,  #all#)
           AND PRCE.PRC_RULE_ADJ_LVL_CD IN (#prcRuleAdjLvlCd#, #all#)
           AND PRCE.PRC_RULE_ATTRB_CD   IN (#prcRuleAttrbCd#,  #all#)
        <isNotNull property="prcFmlaTpCd">
           AND PRCE.PRC_FMLA_TP_CD IN (#prcFmlaTpCd#, #all#)
        </isNotNull>
        <isNull property="prcFmlaTpCd">
           AND PRCE.PRC_FMLA_TP_CD IN (#all#)
        </isNull>
        <isNotNull property="prcFuncTpCd">
           AND PRCE.PRC_FUNC_TP_CD IN (#prcFuncTpCd#, #all#)
        </isNotNull>
        <isNull property="prcFuncTpCd">
           AND PRCE.PRC_FUNC_TP_CD IN (#all#)
        </isNull>
    </statement>

    <statement id="getUsingRuleCondGrp" parameterClass="Map" resultClass="String">
        SELECT PRCH.PRC_RULE_COND_GRP_CD
          FROM PRC_RULE_COND_HDR  PRCH
              ,PRC_RULE_COND_DTL  PRCD
         WHERE PRCH.GLBL_CMPY_CD   = #glblCmpyCd#
           AND PRCH.PRC_RULE_HDR_PK = #prcRuleHdrPk#
           AND PRCH.EZCANCELFLAG   = '0'
           AND PRCH.GLBL_CMPY_CD = PRCD.GLBL_CMPY_CD
           AND PRCH.EZCANCELFLAG = PRCD.EZCANCELFLAG
           AND PRCH.PRC_RULE_COND_HDR_PK = PRCD.PRC_RULE_COND_HDR_PK
           AND PRCD.PRC_RULE_TRX_COND_PK  = #prcRuleTrxCondPk#
    </statement>

    <statement id="getAnyColmn" parameterClass="Map" resultClass="String">
        SELECT
            $colNm$     GET_COLUMN
        FROM
            $tblNm$ A
        WHERE
                A.GLBL_CMPY_CD = #glblCmpyCd#
            AND A.EZCANCELFLAG = '0'
            AND A.$whereCol$ = #whereVal#
    </statement>

    <statement id="getCountDefPrcd" parameterClass="Map" resultClass="Integer">
        SELECT
               COUNT(*)
        FROM
               PRC_RULE_HDR PRH
        WHERE
               PRH.GLBL_CMPY_CD    = #glblCmpyCd#
           AND PRH.EZCANCELFLAG    = '0'
           AND PRH.DEF_RULE_PRCD_NUM = #defRulePrcd#
           AND PRH.ACTV_FLG = #actvFlg#
    </statement>
</sqlMap>
