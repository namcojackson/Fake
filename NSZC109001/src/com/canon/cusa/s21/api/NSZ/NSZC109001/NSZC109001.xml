<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NSZC109001">
    <statement id="getmachineMasterInfo" parameterClass="Map" resultClass="Map">
        SELECT
             SVC.SVC_MACH_MSTR_PK
             ,MDL.MTR_REQ_MDL_FLG
        FROM
             SVC_MACH_MSTR             SVC
            ,SVC_CONFIG_MSTR           CON
            ,DS_MDL                    MDL
        WHERE
                SVC.GLBL_CMPY_CD                    = #glblCmpyCd#
            AND SVC.SER_NUM                         = #serNum#
            AND SVC.MDSE_CD                         = #mdseCd#
            AND SVC.EZCANCELFLAG                    = '0'
            AND SVC.GLBL_CMPY_CD                    = CON.GLBL_CMPY_CD(+)
            AND SVC.SVC_CONFIG_MSTR_PK              = CON.SVC_CONFIG_MSTR_PK(+)
            AND CON.EZCANCELFLAG(+)                 = '0'
            AND CON.GLBL_CMPY_CD                    = MDL.GLBL_CMPY_CD(+)
            AND CON.MDL_ID                          = MDL.MDL_ID(+)
            AND MDL.EZCANCELFLAG(+)                 = '0'
            
    </statement>
    <statement id="getMeterInfo" parameterClass="Map" resultClass="Map">
        SELECT
             SVC.MDL_MTR_LB_CD
             ,SVC.MTR_ENTRY_MND_FLG
             ,READ.READ_MTR_CNT
             ,MTR.TOT_MTR_FLG
        FROM
             SVC_PHYS_MTR             SVC
            ,SVC_PHYS_MTR_READ        READ
            ,MTR_LB                   MTR
        WHERE
                SVC.GLBL_CMPY_CD                    = #glblCmpyCd#
            AND SVC.SVC_MACH_MSTR_PK                = #svcMachMstrPk#
            AND SVC.EZCANCELFLAG                    = '0'
            AND SVC.GLBL_CMPY_CD                    = READ.GLBL_CMPY_CD(+)
            AND SVC.MDL_MTR_LB_CD                   = READ.MTR_LB_CD(+)
            AND SVC.SVC_MACH_MSTR_PK                = READ.SVC_MACH_MSTR_PK(+)
            AND READ.SVC_PHYS_MTR_READ_GRP_SQ(+)    = #svcPhysMtrReadGrpSq#
            AND READ.EZCANCELFLAG(+)                = '0'
            AND SVC.GLBL_CMPY_CD                    = MTR.GLBL_CMPY_CD
            AND SVC.MDL_MTR_LB_CD                   = MTR.MTR_LB_CD
            AND MTR.EZCANCELFLAG                    = '0'
    </statement>
</sqlMap>
