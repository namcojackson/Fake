<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZZLL0010Query">

	<typeAlias alias="ZZLL0010CMsg"		type="business.blap.ZZLL0010.ZZLL0010CMsg"/>
	<typeAlias alias="ZZLL0010_ASMsg"	type="business.blap.ZZLL0010.ZZLL0010_ASMsg"/>
	
	<statement id="getMntLogData" parameterClass="Map" resultMap="result.getMntLogData">
		SELECT
	        EZINTIME
	    ,   EZINTIMEZONE
	    ,   EZINCOMPANYCODE
	    ,   EZINUSERID
	    ,   EZINAPLID
	    ,   MNT_TRX_TP
	    ,	MNT_TBL_NM
	    ,   MNT_COLUMN_NM
	    ,	MNT_OLD_VAL
	    ,	MNT_NEW_VAL
	    ,   MNT_PRIMARY_KEY
		FROM
		        MNT_LOG

		WHERE
			EZCANCELFLAG = 0 
		<isNotNull property="cMsg.glblCmpyCd">
			AND EZINCOMPANYCODE = #cMsg.glblCmpyCd#
		</isNotNull>
		
		<isNotNull property="cMsg.ezInUserID">
			AND EZINUSERID = #cMsg.ezInUserID#
		</isNotNull>
		
		<isNotNull property="cMsg.ezInAplID">
			AND EZINAPLID LIKE  #cMsg.ezInAplID#
		</isNotNull>
		
		<isNotNull property="cMsg.mntTrxTp">
			AND MNT_TRX_TP = #cMsg.mntTrxTp#
		</isNotNull>
		
		<isNotNull property="cMsg.mntTblNm">
			AND MNT_TBL_NM LIKE #cMsg.mntTblNm#
		</isNotNull>
		
		<isNotNull property="cMsg.mntColumnNm">
			AND MNT_COLUMN_NM = #cMsg.mntColumnNm#
		</isNotNull>
		
		<isNotNull property="cMsg.mntOldVal">
			AND MNT_OLD_VAL = #cMsg.mntOldVal#
		</isNotNull>
		
		<isNotNull property="cMsg.mntNewVal">
			AND MNT_NEW_VAL = #cMsg.mntNewVal#
		</isNotNull>
		
		<isNotNull property="cMsg.mntPrimaryKey">
			AND MNT_PRIMARY_KEY LIKE #cMsg.mntPrimaryKey#
		</isNotNull>
		
		<isNotNull property="cMsg.ezInTime_FR">
			AND EZINTIME &gt;= #cMsg.ezInTime_FR#
		</isNotNull>
		
		<isNotNull property="cMsg.ezInTime_TO">
			AND EZINTIME &lt;= #cMsg.ezInTime_TO#
		</isNotNull>
			AND ROWNUM &lt;= 1001
		
		ORDER BY
			EZINTIME ASC,
			EZINTIMEZONE ASC,
			EZINCOMPANYCODE ASC,
			EZINUSERID ASC,
			EZINAPLID ASC,
			MNT_TRX_TP ASC,
			MNT_TBL_NM ASC,
			MNT_COLUMN_NM ASC,
			MNT_OLD_VAL ASC,
			MNT_NEW_VAL ASC,
			MNT_PRIMARY_KEY ASC
	</statement>
	
	<resultMap id="result.getMntLogData"     class="ZZLL0010_ASMsg">
		<result property="ezInTime_TR"			column="EZINTIME"        	javaType="EZDSStringItem"/>
		<result property="ezInTimeZone_TR"		column="EZINTIMEZONE"       javaType="EZDSStringItem"/>
		<result property="glblCmpyCd_TR"		column="EZINCOMPANYCODE"    javaType="EZDSStringItem"/>
		<result property="ezInUserID_TR"		column="EZINUSERID"        	javaType="EZDSStringItem"/>
		<result property="ezInAplID_TR"			column="EZINAPLID"       	javaType="EZDSStringItem"/>
		<result property="mntTrxTp_TR"			column="MNT_TRX_TP"      	javaType="EZDSStringItem"/>
		<result property="mntTblNm_TR"      	column="MNT_TBL_NM"        	javaType="EZDSStringItem"/>
		<result property="mntColumnNm_TR"      	column="MNT_COLUMN_NM"      javaType="EZDSStringItem"/>
		<result property="mntOldVal_TR"      	column="MNT_OLD_VAL"        javaType="EZDSStringItem"/>
		<result property="mntNewVal_TR"      	column="MNT_NEW_VAL"        javaType="EZDSStringItem"/>
		<result property="mntPrimaryKey_TR"      column="MNT_PRIMARY_KEY"   javaType="EZDSStringItem"/>
	</resultMap>

</sqlMap>
