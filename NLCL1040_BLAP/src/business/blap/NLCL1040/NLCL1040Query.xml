<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="NLCL1040Query">

    <typeAlias alias="NLCL1040CMsg"       type="business.blap.NLCL1040.NLCL1040CMsg" />
    <typeAlias alias="NLCL1040SMsg"       type="business.blap.NLCL1040.NLCL1040SMsg" />
    <typeAlias alias="NLCL1040_ASMsg"     type="business.blap.NLCL1040.NLCL1040_ASMsg" />

    <statement id="getRtlWhCatgList" parameterClass="Map" resultClass="Map">
    SELECT
        RWC.RTL_WH_CATG_CD
        ,RWC.RTL_WH_CATG_DESC_TXT AS RTL_WH_CATG_DESC_TXT
    FROM
        RTL_WH_CATG RWC
    WHERE 1=1
    AND RWC.GLBL_CMPY_CD = #glblCmpyCd#
    AND RWC.EZCANCELFLAG = '0'
    ORDER BY
        RWC.RTL_WH_CATG_SORT_NUM
    </statement>

    <statement id="getMdseItemTpList" parameterClass="Map" resultClass="Map">
    SELECT
        MIP.MDSE_ITEM_TP_CD
       ,MIP.MDSE_ITEM_TP_DESC_TXT AS MDSE_ITEM_TP_DESC_TXT
    FROM
        MDSE_ITEM_TP MIP
    WHERE 1=1
    AND MIP.GLBL_CMPY_CD = #glblCmpyCd#
    AND MIP.EZCANCELFLAG = '0'
    ORDER BY
        MIP.MDSE_ITEM_TP_SORT_NUM
    </statement>

    <statement id="geAnalysisCriteriaList" parameterClass="Map" resultClass="Map">
    SELECT
         AAC.ABC_ANLS_CRIT_CD         AS ABC_ANLS_CRIT_CD
        ,AAC.ABC_ANLS_CRIT_DESC_TXT   AS ABC_ANLS_CRIT_DESC_TXT
       ,AAC.INVTY_TRX_HIST_ANLS_FLG  AS INVTY_TRX_HIST_ANLS_FLG
    FROM
        ABC_ANLS_CRIT AAC
    WHERE 1=1
    AND AAC.GLBL_CMPY_CD = #glblCmpyCd#
    AND AAC.EZCANCELFLAG = '0'
    ORDER BY
        AAC.ABC_ANLS_CRIT_SORT_NUM
    </statement>

    <statement id="getAbcClassNameList" parameterClass="Map" resultClass="Map">
    SELECT
         DISTINCT AAC.ABC_ANLS_CLS_NM AS ABC_ANLS_CLS_NM
        ,AAC.ABC_ANLS_CLS_NUM AS ABC_ANLS_CLS_NUM
    FROM
        ABC_ANLS_CLS AAC
    WHERE 1=1
    AND AAC.GLBL_CMPY_CD    = #glblCmpyCd#
    <isNotNull property="abcAnlsClsNm">
    AND AAC.ABC_ANLS_CLS_NM = #abcAnlsClsNm#
    </isNotNull>
    AND AAC.EZCANCELFLAG    = '0'
    ORDER BY
        AAC.ABC_ANLS_CLS_NM
    </statement>

    <statement id="getAbcHeader" parameterClass="Map" resultMap="result.NLCL1040SMsg">
    SELECT
        AA.GLBL_CMPY_CD                 AS GLBL_CMPY_CD
       ,AA.ABC_ASG_NM                   AS ABC_ASG_NM
       ,AA.ABC_ASG_DESC_TXT             AS ABC_ASG_DESC_TXT
       ,AA.ABC_ASG_PK                   AS ABC_ASG_PK
       ,AA.RTL_WH_CATG_CD               AS RTL_WH_CATG_CD
       ,AA.MDSE_ITEM_TP_CD              AS MDSE_ITEM_TP_CD
       ,AA.ABC_ANLS_CRIT_CD             AS ABC_ANLS_CRIT_CD
       ,AA.EFF_FROM_DT                  AS EFF_FROM_DT
       ,AA.EFF_THRU_DT                  AS EFF_THRU_DT
       ,AA.ABC_ANLS_CLS_NUM             AS ABC_ANLS_CLS_NUM
       ,AAR.ABC_ANLS_LAST_PROC_TS       AS ABC_ANLS_LAST_PROC_TS
       ,AAR.ABC_ANLS_RQST_PK            AS ABC_ANLS_RQST_PK
       ,AARS.ABC_ANLS_RQST_STS_DESC_TXT AS ABC_ANLS_RQST_STS_DESC_TXT
       ,AA.EZUPTIME                     AS AA_EZUPTIME
       ,AA.EZUPTIMEZONE                 AS AA_EZUPTIMEZONE
       ,AAR.EZUPTIME                    AS AR_EZUPTIME
       ,AAR.EZUPTIMEZONE                AS AR_EZUPTIMEZONE
    FROM
        ABC_ASG           AA
       ,ABC_ANLS_RQST     AAR
       ,ABC_ANLS_RQST_STS AARS
    WHERE 1=1
    AND AA.GLBL_CMPY_CD           = #glblCmpyCd#
    AND AA.ABC_ASG_NM             = #cMsg.abcAsgNm#
    AND AA.EZCANCELFLAG           = '0'
    AND AA.GLBL_CMPY_CD           = AAR.GLBL_CMPY_CD(+)
    AND AA.ABC_ASG_PK             = AAR.ABC_ASG_PK(+)
    AND AAR.RQST_LTST_FLG(+)      = 'Y'
    AND AAR.EZCANCELFLAG(+)       = '0'
    AND AAR.GLBL_CMPY_CD          = AARS.GLBL_CMPY_CD(+)
    AND AAR.ABC_ANLS_RQST_STS_CD  = AARS.ABC_ANLS_RQST_STS_CD(+)
    AND AARS.EZCANCELFLAG(+)      = '0'
    AND ROWNUM                    =  1
    </statement>

    <statement id="getWhHeader" parameterClass="Map" resultClass="Map">
    SELECT
        AAW.RTL_WH_CD   AS RTL_WH_CD
       ,RW.RTL_WH_NM    AS RTL_WH_NM
    FROM
        ABC_ASG_WH AAW
       ,RTL_WH     RW
    WHERE 1=1
    AND AAW.GLBL_CMPY_CD  = #glblCmpyCd#
    AND AAW.ABC_ASG_PK    = #abcAsgPk#
    AND AAW.EZCANCELFLAG  = '0'
    AND AAW.GLBL_CMPY_CD  = RW.GLBL_CMPY_CD
    AND AAW.RTL_WH_CD     = RW.RTL_WH_CD
    AND RW.EZCANCELFLAG   = '0'
    ORDER BY 
        RW.RTL_WH_CD
    </statement>

    <statement id="getSubWhHeader" parameterClass="Map" resultClass="Map">
    SELECT
         AAS.RTL_SWH_CD AS RTL_SWH_CD
        ,SWH.RTL_SWH_NM AS RTL_SWH_NM
    FROM
        ABC_ASG_SWH AAS
       ,SWH         SWH
    WHERE 1=1
    AND AAS.GLBL_CMPY_CD = #glblCmpyCd#
    AND AAS.ABC_ASG_PK   = #abcAsgPk#
    AND AAS.EZCANCELFLAG = '0'
    AND AAS.GLBL_CMPY_CD = SWH.GLBL_CMPY_CD
    AND AAS.RTL_SWH_CD   = SWH.RTL_SWH_CD
    AND SWH.EZCANCELFLAG = '0'
    ORDER BY 
        SWH.RTL_SWH_SORT_NUM
    </statement>

    <statement id="getstockStatusHeader" parameterClass="Map" resultClass="Map">
    SELECT
        AASS.STK_STS_CD AS STK_STS_CD
    FROM
        ABC_ASG_STK_STS AASS
    WHERE 1=1
    AND AASS.GLBL_CMPY_CD  = #glblCmpyCd#
    AND AASS.ABC_ASG_PK    = #abcAsgPk#
    AND AASS.EZCANCELFLAG  = '0'
    ORDER BY
        AASS.STK_STS_CD
    </statement>

    <statement id="getAbcDetail" parameterClass="Map" resultMap="result.NLCL1040_ASMsg">
    SELECT
         MDSE_CD
        ,MDSE_DESC_SHORT_TXT
        ,RTL_WH_CATG_DESC_TXT
        ,RTL_WH_CD
        ,RTL_WH_NM
        ,RTL_SWH_CD
        ,STK_STS_CD
        ,STK_STS_DESC_TXT
        ,CUR_INVTY_QTY
        ,CUR_INVTY_COST_AMT
        ,HIST_INVTY_TRX_QTY
        ,HIST_INVTY_TRX_COST_AMT
        ,HIST_INVTY_TRX_REC_CNT
        ,ABC_ANLS_CLS_TAG_CD
        ,ABC_ANLS_CLS_NM
        ,ABC_ANLS_RSLT_DTL_PK
        ,ABC_ANLS_RSLT_PK
        ,RTL_WH_CATG_CD
        ,INVTY_CTRL_FLG
        ,AD_EZUPTIME
        ,AD_EZUPTIMEZONE
    FROM
        (
        SELECT
             AARD.MDSE_CD                   AS MDSE_CD
            ,M.MDSE_DESC_SHORT_TXT          AS MDSE_DESC_SHORT_TXT
            ,RWC.RTL_WH_CATG_DESC_TXT       AS RTL_WH_CATG_DESC_TXT
            ,RW.RTL_WH_CD                   AS RTL_WH_CD
            ,RW.RTL_WH_NM                   AS RTL_WH_NM
            ,AARD.RTL_SWH_CD                AS RTL_SWH_CD
            ,SS.STK_STS_CD                  AS STK_STS_CD
            ,SS.STK_STS_DESC_TXT            AS STK_STS_DESC_TXT
            ,AARD.CUR_INVTY_QTY             AS CUR_INVTY_QTY
            ,AARD.CUR_INVTY_COST_AMT        AS CUR_INVTY_COST_AMT
            ,AARD.HIST_INVTY_TRX_QTY        AS HIST_INVTY_TRX_QTY
            ,AARD.HIST_INVTY_TRX_COST_AMT   AS HIST_INVTY_TRX_COST_AMT
            ,AARD.HIST_INVTY_TRX_REC_CNT    AS HIST_INVTY_TRX_REC_CNT
            ,AARD.ABC_ANLS_CLS_TAG_CD       AS ABC_ANLS_CLS_TAG_CD
            ,AAC.ABC_ANLS_CLS_NM            AS ABC_ANLS_CLS_NM
            ,AARD.ABC_ANLS_RSLT_DTL_PK      AS ABC_ANLS_RSLT_DTL_PK
            ,AAR.ABC_ANLS_RSLT_PK           AS ABC_ANLS_RSLT_PK
            ,RWC.RTL_WH_CATG_CD             AS RTL_WH_CATG_CD
            ,M.INVTY_CTRL_FLG               AS INVTY_CTRL_FLG
            ,AARD.EZUPTIME                  AS AD_EZUPTIME
            ,AARD.EZUPTIMEZONE              AS AD_EZUPTIMEZONE
        FROM
             ABC_ANLS_RSLT_DTL    AARD
            ,ABC_ANLS_RSLT        AAR
            ,MDSE                 M
            ,RTL_WH               RW
            ,RTL_WH_CATG          RWC
            ,RTL_WH_CATG_SWH_RELN RWCSR
            ,STK_STS              SS
            ,ABC_ANLS_CLS         AAC
        WHERE 1=1
        AND AARD.GLBL_CMPY_CD        = #glblCmpyCd#
        AND AARD.ABC_ASG_PK          = #sMsg.abcAsgPk#
        <isNotNull property="sMsg.abcAnlsRqstPk">
        AND AARD.ABC_ANLS_RQST_PK    = #sMsg.abcAnlsRqstPk#
        </isNotNull>
        AND AARD.EZCANCELFLAG        = '0'
        AND AARD.GLBL_CMPY_CD        = AAR.GLBL_CMPY_CD
        AND AARD.ABC_ASG_PK          = AAR.ABC_ASG_PK
        AND AARD.ABC_ANLS_RQST_PK    = AAR.ABC_ANLS_RQST_PK
        AND AARD.RTL_WH_CD           = AAR.RTL_WH_CD
        AND AARD.MDSE_CD             = AAR.MDSE_CD
        AND AAR.EZCANCELFLAG         = '0'
        AND AARD.GLBL_CMPY_CD        = M.GLBL_CMPY_CD
        AND AARD.MDSE_CD             = M.MDSE_CD
        AND M.EZCANCELFLAG           = '0'
        <isNotNull property="mdseCd">
        AND AARD.MDSE_CD             = #mdseCd#
        </isNotNull>
        AND AARD.GLBL_CMPY_CD        = RW.GLBL_CMPY_CD
        AND AARD.RTL_WH_CD           = RW.RTL_WH_CD
        AND RW.EZCANCELFLAG          = '0'
        AND RW.GLBL_CMPY_CD          = RWC.GLBL_CMPY_CD(+)
        AND RW.RTL_WH_CATG_CD        = RWC.RTL_WH_CATG_CD(+)
        AND RWC.EZCANCELFLAG(+)      = '0'
        AND RWC.GLBL_CMPY_CD         = RWCSR.GLBL_CMPY_CD(+)
        AND RWC.RTL_WH_CATG_CD       = RWCSR.RTL_WH_CATG_CD(+)
        AND AARD.RTL_SWH_CD          = RWCSR.RTL_SWH_CD(+)
        AND RWCSR.EZCANCELFLAG(+)    = '0'
        AND AARD.GLBL_CMPY_CD        = SS.GLBL_CMPY_CD(+)
        AND AARD.STK_STS_CD          = SS.STK_STS_CD(+)
        AND SS.EZCANCELFLAG(+)       = '0'
        <isNotNull property="sMsg.abcAnlsClsNum">
        AND AARD.GLBL_CMPY_CD        = AAC.GLBL_CMPY_CD(+)
        AND AARD.ABC_ANLS_CLS_TAG_CD = AAC.ABC_ANLS_CLS_TAG_CD(+)
        AND AAC.ABC_ANLS_CLS_NUM(+)   = #sMsg.abcAnlsClsNum#
        </isNotNull>
        AND AAC.EZCANCELFLAG(+)      = '0'
        ORDER BY
            AARD.RTL_WH_CD
           ,AAC.ABC_ANLS_CLS_PRTY_NUM
           ,AARD.MDSE_CD
           ,RWCSR.RTL_SWH_SORT_NUM
           ,SS.STK_STS_CD
       )
       WHERE
            ROWNUM &lt;= #rowNum#
    </statement>

    <statement id="getItemDescription" parameterClass="Map" resultClass="Map">
    SELECT
        MDSE.MDSE_DESC_SHORT_TXT AS MDSE_DESC_SHORT_TXT
    FROM
        MDSE         MDSE
    WHERE 1=1
    AND MDSE.GLBL_CMPY_CD        = #glblCmpyCd#
    AND MDSE.MDSE_CD             = #mdseCd#
    AND MDSE.EZCANCELFLAG        = '0'
    </statement>

    <statement id="getabcClassTag" parameterClass="Map" resultClass="Map">
    SELECT
         AAC.ABC_ANLS_CLS_TAG_CD         AS ABC_ANLS_CLS_TAG_CD
        ,AAC.ABC_ANLS_CLS_NUM            AS ABC_ANLS_CLS_NUM
        ,AAC.ABC_ANLS_CLS_NM             AS ABC_ANLS_CLS_NM
        ,AAC.CYCLE_CNT_FREQ_DAYS_AOT     AS CYCLE_CNT_FREQ_DAYS_AOT
    FROM
        ABC_ANLS_CLS AAC
    WHERE 1=1
    AND AAC.GLBL_CMPY_CD        = #glblCmpyCd#
    AND AAC.ABC_ANLS_CLS_NUM    = #abcAnlsClsNum#
    AND AAC.EZCANCELFLAG        = '0'
    ORDER BY
        AAC.ABC_ANLS_CLS_PRTY_NUM
    </statement>

    <statement id="getWarehouseInfoList" parameterClass="Map" resultClass="Map">
        SELECT DISTINCT
            RW.RTL_WH_CATG_CD AS RTL_WH_CATG_CD
           ,RW.RTL_WH_NM      AS RTL_WH_NM
        FROM
            RTL_WH RW
        WHERE 1=1
        AND RW.GLBL_CMPY_CD = #glblCmpyCd#
        <isNotNull property="whCdList">
            <iterate property="whCdList" var="whCdList[]" open="AND RW.RTL_WH_CD IN ( " conjunction= ", " close=")">
                #whCdList[]#
            </iterate>
        </isNotNull>
        AND RW.EFF_FROM_DT                 &lt;= #salesDate#
        AND NVL(RW.EFF_THRU_DT,#limitEffThruDt#) &gt;=  #salesDate#
        AND RW.EZCANCELFLAG = '0'
    </statement>

    <statement id="getSubWarehouseInfoList" parameterClass="Map" resultClass="Map">
        SELECT DISTINCT
            RS.RTL_SWH_CD AS RTL_SWH_CD
         FROM
            RTL_SWH              RS
           ,RTL_WH_CATG_SWH_RELN RC
        WHERE 1=1
        AND RS.GLBL_CMPY_CD   = #glblCmpyCd#
        <isNotNull property="whCdList">
            <iterate property="whCdList" var="whCdList[]" open="AND RS.RTL_WH_CD IN ( " conjunction= ", " close=")">
                #whCdList[]#
            </iterate>
        </isNotNull>
        <isNotNull property="subWhCdList">
            <iterate property="subWhCdList" var="subWhCdList[]" open="AND RS.RTL_SWH_CD IN ( " conjunction= "," close=")">
                #subWhCdList[]#
            </iterate>
        </isNotNull>
        AND RS.EFF_FROM_DT                       &lt;= #salesDate#
        AND NVL(RS.EFF_THRU_DT,#limitEffThruDt#) &gt;= #salesDate#
        AND RS.EZCANCELFLAG   = '0'
        AND RS.GLBL_CMPY_CD   = RC.GLBL_CMPY_CD
        AND RS.RTL_SWH_CD     = RC.RTL_SWH_CD
        AND RC.RTL_WH_CATG_CD = #rtlWhCatgCd#
        AND RC.EZCANCELFLAG   = '0'
    </statement>

    <statement id="getAbcName" parameterClass="Map" resultClass="Map">
    SELECT
        AA.ABC_ASG_NM
    FROM
        ABC_ASG AA
    WHERE 1=1
    AND AA.GLBL_CMPY_CD           = #glblCmpyCd#
    <isNotNull property="abcAsgNm">
    AND AA.ABC_ASG_NM             = #abcAsgNm#
    </isNotNull>
    <isNotNull property="abcAsgPk">
    AND AA.ABC_ASG_PK            != #abcAsgPk#
    </isNotNull>
    AND AA.EZCANCELFLAG           = '0'
    AND ROWNUM                    =  1
    </statement>

    <statement id="whDuplicate" parameterClass="Map" resultClass="Map">
    SELECT
        AAW.RTL_WH_CD AS RTL_WH_CD
    FROM
        ABC_ASG_WH AAW
    WHERE 1=1
    AND AAW.GLBL_CMPY_CD         = #glblCmpyCd#
    <iterate property="whCdList" var="whCdList[]" open="AND AAW.RTL_WH_CD IN ( " conjunction= "," close=")">
            #whCdList[]#
    </iterate>
    AND AAW.EZCANCELFLAG         = '0'
    <isNotNull property="abcAsgPk">
    AND AAW.ABC_ASG_PK          != #abcAsgPk#
    </isNotNull>
    <isNull property="abcAsgPk">
    AND AAW.ABC_ASG_PK          IS NULL
    </isNull>
    AND ROWNUM                   =  1
    </statement>

    <statement id="abcAsgWhRemoveList" parameterClass="Map" resultClass="Map">
    SELECT
         AAW.ABC_ASG_PK AS ABC_ASG_PK
        ,AAW.RTL_WH_CD  AS RTL_WH_CD
    FROM
        ABC_ASG_WH AAW
    WHERE 1=1
    AND AAW.GLBL_CMPY_CD         = #glblCmpyCd#
    AND AAW.ABC_ASG_PK           = #abcAsgPk#
    AND AAW.EZCANCELFLAG         = '0'
    </statement>

    <statement id="abcAsgSubWhRemoveList" parameterClass="Map" resultClass="Map">
    SELECT
         AAS.ABC_ASG_PK AS ABC_ASG_PK
        ,AAS.RTL_SWH_CD AS RTL_SWH_CD
    FROM
        ABC_ASG_SWH AAS
    WHERE 1=1
    AND AAS.GLBL_CMPY_CD         = #glblCmpyCd#
    AND AAS.ABC_ASG_PK           = #abcAsgPk#
    AND AAS.EZCANCELFLAG         = '0'
    </statement>

    <statement id="abcAsgStkStsRemoveList" parameterClass="Map" resultClass="Map">
    SELECT
         AASS.ABC_ASG_PK AS ABC_ASG_PK
        ,AASS.STK_STS_CD AS STK_STS_CD
    FROM
        ABC_ASG_STK_STS AASS
    WHERE 1=1
    AND AASS.GLBL_CMPY_CD        = #glblCmpyCd#
    AND AASS.ABC_ASG_PK          = #abcAsgPk#
    AND AASS.EZCANCELFLAG        = '0'
    </statement>

    <statement id="getRequestStatus" parameterClass="Map" resultClass="Map">
    SELECT
        AAR.ABC_ANLS_RQST_PK AS ABC_ANLS_RQST_PK
       ,AARS.OPEN_STS_FLG    AS OPEN_STS_FLG
    FROM
        ABC_ANLS_RQST     AAR 
       ,ABC_ANLS_RQST_STS AARS
    WHERE 1=1
    AND AAR.GLBL_CMPY_CD           = #glblCmpyCd#
    AND AAR.ABC_ASG_PK             = #abcAsgPk#
    AND AAR.RQST_LTST_FLG          = 'Y'
    AND AAR.EZCANCELFLAG           = '0'
    AND AAR.GLBL_CMPY_CD           = AARS.GLBL_CMPY_CD
    AND AAR.ABC_ANLS_RQST_STS_CD   = AARS.ABC_ANLS_RQST_STS_CD
    <isNotNull property="abcAnlsRqstStsCd">
    AND AAR.ABC_ANLS_RQST_STS_CD  != #abcAnlsRqstStsCd#
    </isNotNull>
    AND AARS.EZCANCELFLAG          = '0'
    </statement>

    <statement id="checkMdseInvtyCtrl" parameterClass="Map" resultClass="Map">
    SELECT
        M.INVTY_CTRL_FLG AS INVTY_CTRL_FLG
    FROM
      MDSE          M
    WHERE 1=1
    AND M.GLBL_CMPY_CD             = #glblCmpyCd#
    AND M.MDSE_CD                  = #mdseCd#
    AND M.EZCANCELFLAG             = '0'
    AND ROWNUM                     = 1
    </statement>

    <statement id="getAbcAnlsRslt" parameterClass="Map" resultClass="Map">
    SELECT
        DISTINCT  AAR.ABC_ANLS_CLS_TAG_CD
    FROM
        ABC_ANLS_RSLT AAR
    WHERE 1=1
    AND AAR.GLBL_CMPY_CD           = #glblCmpyCd#
    AND AAR.ABC_ANLS_RQST_PK       = #abcAnlsRqstPk#
    AND AAR.ABC_ASG_PK             = #abcAsgPk#
    AND AAR.MDSE_CD                = #mdseCd#
    AND AAR.RTL_WH_CD              = #rtlWhCd#
    AND AAR.EZCANCELFLAG           = '0'
    </statement>

    <statement id="historicaCheckt" parameterClass="Map" resultClass="Map">
    SELECT
         AAC.ABC_ANLS_CRIT_CD
        ,AAC.ABC_ANLS_CRIT_NM
    FROM
        ABC_ANLS_CRIT AAC
    WHERE 1=1
    AND AAC.GLBL_CMPY_CD            = #glblCmpyCd#
    AND AAC.ABC_ANLS_CRIT_CD        = #abcAnlsCritCd#
    AND AAC.INVTY_TRX_HIST_ANLS_FLG = 'Y'
    AND AAC.EZCANCELFLAG            = '0'
    </statement>

    <statement id="duplicateCheckWithAnlsDtl" parameterClass="Map" resultClass="Map">
    SELECT
        ABC_ANLS_RSLT_DTL_PK
    FROM
        ABC_ANLS_RSLT_DTL AARC
    WHERE 1=1
    AND AARC.GLBL_CMPY_CD   = #glblCmpyCd#
    AND AARC.MDSE_CD        = #mdseCd#
    AND AARC.RTL_WH_CD      = #rtlWhCd#
    AND AARC.RTL_SWH_CD     = #rtlSwhCd#
    AND AARC.STK_STS_CD     = #stkStsCd#
    AND AARC.EZCANCELFLAG   = '0'
    </statement>

    <statement id="getLatestAnlsRequest" parameterClass="Map" resultMap="result.NLCL1040SMsg">
    SELECT
        AAR.ABC_ANLS_LAST_PROC_TS
       ,AARS.ABC_ANLS_RQST_STS_DESC_TXT
    FROM
        ABC_ANLS_RQST     AAR 
       ,ABC_ANLS_RQST_STS AARS
    WHERE 1=1
    AND AAR.GLBL_CMPY_CD           = #glblCmpyCd#
    AND AAR.ABC_ASG_PK             = #abcAsgPk#
    AND AAR.RQST_LTST_FLG          = 'Y'
    AND AAR.EZCANCELFLAG           = '0'
    AND AAR.GLBL_CMPY_CD           = AARS.GLBL_CMPY_CD
    AND AAR.ABC_ANLS_RQST_STS_CD   = AARS.ABC_ANLS_RQST_STS_CD
    AND AARS.EZCANCELFLAG          = '0'
    </statement>
    
    <statement id="getAllRtlSwhList" parameterClass="Map" resultClass="Map">
    SELECT
        RS.RTL_SWH_CD AS RTL_SWH_CD
    FROM
        RTL_SWH       RS
    WHERE 1=1
    AND RS.GLBL_CMPY_CD = #glblCmpyCd#
    AND RS.EZCANCELFLAG = '0'
    GROUP BY
        RS.RTL_SWH_CD
    ORDER BY 
        RS.RTL_SWH_CD
    </statement>

    <resultMap id="result.NLCL1040SMsg"           class="NLCL1040SMsg">
        <result property="glblCmpyCd"             column="GLBL_CMPY_CD"                javaType="EZDSStringItem"/>
        <result property="abcAsgNm"               column="ABC_ASG_NM"                  javaType="EZDSStringItem"/>
        <result property="abcAsgDescTxt"          column="ABC_ASG_DESC_TXT"            javaType="EZDSStringItem"/>
        <result property="abcAsgPk"               column="ABC_ASG_PK"                  javaType="EZDSBigDecimalItem"/>
        <result property="rtlWhCatgCd_H1"         column="RTL_WH_CATG_CD"              javaType="EZDSStringItem"/>
        <result property="mdseItemTpCd_H1"        column="MDSE_ITEM_TP_CD"             javaType="EZDSStringItem"/>
        <result property="rtlWhCatgCd"            column="RTL_WH_CATG_CD"              javaType="EZDSStringItem"/>
        <result property="mdseItemTpCd"           column="MDSE_ITEM_TP_CD"             javaType="EZDSStringItem"/>
        <result property="abcAnlsCritCd_H1"       column="ABC_ANLS_CRIT_CD"            javaType="EZDSStringItem"/>
        <result property="abcAnlsCritCd"          column="ABC_ANLS_CRIT_CD"            javaType="EZDSStringItem"/>
        <result property="effFromDt"              column="EFF_FROM_DT"                 javaType="EZDSStringItem"/>
        <result property="effThruDt"              column="EFF_THRU_DT"                 javaType="EZDSStringItem"/>
        <result property="abcAnlsClsNum_H1"       column="ABC_ANLS_CLS_NUM"            javaType="EZDSStringItem"/>
        <result property="abcAnlsClsNum"          column="ABC_ANLS_CLS_NUM"            javaType="EZDSStringItem"/>
        <result property="abcAnlsLastProcTs"      column="ABC_ANLS_LAST_PROC_TS"       javaType="EZDSStringItem"/>
        <result property="abcAnlsRqstPk"          column="ABC_ANLS_RQST_PK"            javaType="EZDCBigDecimalItem"/>
        <result property="abcAnlsRqstStsDescTxt"  column="ABC_ANLS_RQST_STS_DESC_TXT"  javaType="EZDSStringItem"/>
        <result property="ezUpTime_AA"            column="AA_EZUPTIME"                 javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_AA"        column="AA_EZUPTIMEZONE"             javaType="EZDSStringItem"/>
        <result property="ezUpTime_AR"            column="AR_EZUPTIME"                 javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_AR"        column="AR_EZUPTIMEZONE"             javaType="EZDSStringItem"/>
    </resultMap>

    <resultMap id="result.NLCL1040_ASMsg"          class="NLCL1040_ASMsg">
        <result property="abcAsgNm_A"              column="ABC_ASG_NM"                 javaType="EZDSStringItem"/>
        <result property="mdseCd_A"                column="MDSE_CD"                    javaType="EZDCStringItem"/>
        <result property="rtlSwhCd_A"              column="RTL_SWH_CD"                 javaType="EZDCStringItem"/>
        <result property="curInvtyQty_A"           column="CUR_INVTY_QTY"              javaType="EZDCBigDecimalItem"/>
        <result property="curInvtyCostAmt_A"       column="CUR_INVTY_COST_AMT"         javaType="EZDCBigDecimalItem"/>
        <result property="histInvtyTrxQty_A"       column="HIST_INVTY_TRX_QTY"         javaType="EZDCBigDecimalItem"/>
        <result property="histInvtyTrxCostAmt_A"   column="HIST_INVTY_TRX_COST_AMT"    javaType="EZDCBigDecimalItem"/>
        <result property="histInvtyTrxRecCnt_A"    column="HIST_INVTY_TRX_REC_CNT"     javaType="EZDCBigDecimalItem"/>
        <result property="abcAnlsClsTagCd_A"       column="ABC_ANLS_CLS_TAG_CD"        javaType="EZDCStringItem"/>
        <result property="abcAnlsRsltPk_A"         column="ABC_ANLS_RSLT_PK"           javaType="EZDCBigDecimalItem"/>
        <result property="abcAnlsRsltDtlPk_A"      column="ABC_ANLS_RSLT_DTL_PK"       javaType="EZDCBigDecimalItem"/>
        <result property="mdseDescShortTxt_A"      column="MDSE_DESC_SHORT_TXT"        javaType="EZDCStringItem"/>
        <result property="rtlWhNm_A"               column="RTL_WH_NM"                  javaType="EZDCStringItem"/>
        <result property="rtlWhCd_A"               column="RTL_WH_CD"                  javaType="EZDCStringItem"/>
        <result property="stkStsDescTxt_A"         column="STK_STS_DESC_TXT"           javaType="EZDCStringItem"/>
        <result property="stkStsCd_A"              column="STK_STS_CD"                 javaType="EZDCStringItem"/>
        <result property="abcAnlsClsNm_A"          column="ABC_ANLS_CLS_NM"            javaType="EZDCStringItem"/>
        <result property="rtlWhCatgCd_A"           column="RTL_WH_CATG_CD"             javaType="EZDCStringItem"/>
        <result property="invtyCtrlFlg_A"          column="INVTY_CTRL_FLG"             javaType="EZDCStringItem"/>
        <result property="ezUpTime_AD"             column="AD_EZUPTIME"                javaType="EZDSStringItem"/>
        <result property="ezUpTimeZone_AD"         column="AD_EZUPTIMEZONE"            javaType="EZDSStringItem"/>
    </resultMap>
 
</sqlMap>
