<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<sqlMap namespace="ZZXL0050Query">

	<typeAlias alias="ZZXL0050_ASMsg"	type="business.blap.ZZXL0050.ZZXL0050_ASMsg"/>

	<!-- Mail Template Configuration -->
	<statement id="getList" parameterClass="Map" resultMap="result.ZZXL0050_ASMsg">
		SELECT
				CASE DT_PROC_CD
				WHEN 'B' THEN 'Batch Process Date'
				WHEN 'S' THEN 'Sales Date'
				END AS DT_PROC_NM
			,	DT_MGT_PGM_ID
			,	DT_PROC_CD
			,	MGT_DT
			,	EZUPTIME
			,	EZUPTIMEZONE
		FROM
		        DT_MGT
		WHERE
				EZCANCELFLAG  = '0'
			AND GLBL_CMPY_CD  = #glblCmpyCd#

		<!-- Date Type -->
		<isNotNull property="dtProcCd">
			AND DT_PROC_CD = #dtProcCd#
		</isNotNull>

		<!-- Program ID -->
		<isNotNull property="dtMgtPgmId">
			AND DT_MGT_PGM_ID LIKE #dtMgtPgmId#
		</isNotNull>
		ORDER BY
			DT_PROC_CD, DT_MGT_PGM_ID, MGT_DT
	
	</statement>
	
	<resultMap id="result.ZZXL0050_ASMsg" 		class="ZZXL0050_ASMsg">
		<result property="xxDsplTpTxt_A"		column="DT_PROC_NM"			javaType="EZDSStringItem"/>
		<result property="dtProcCd_A"			column="DT_PROC_CD"			javaType="EZDSStringItem"/>
		<result property="dtMgtPgmId_A"			column="DT_MGT_PGM_ID"		javaType="EZDSStringItem"/>
		<result property="mgtDt_A"				column="MGT_DT"				javaType="EZDSDateItem"/>
		<result property="ezUpTime_A"			column="EZUPTIME"			javaType="EZDSStringItem"/>
		<result property="ezUpTimeZone_A"		column="EZUPTIMEZONE"		javaType="EZDSStringItem"/>
	</resultMap>
	
</sqlMap>