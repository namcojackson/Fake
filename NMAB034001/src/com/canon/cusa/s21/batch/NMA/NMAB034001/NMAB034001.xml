<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<sqlMap namespace="NMAB034001">
    <statement id="getTaxUpldWrk" parameterClass="Map" resultClass="Map">
        SELECT
             TUW.MDSE_CD                    AS MDSE_CD
            ,TUW.TAX_EXEM_TP_DESC_TXT       AS TAX_EXEM_TP_DESC_TXT
            ,TUW.UPLD_CSV_RQST_CMNT_TXT     AS UPLD_CSV_RQST_CMNT_TXT
            ,TUW.UPLD_CSV_RQST_PK           AS UPLD_CSV_RQST_PK
            ,TUW.UPLD_CSV_RQST_ROW_NUM      AS UPLD_CSV_RQST_ROW_NUM
        FROM
            TAX_UPLD_WRK TUW
        WHERE
            TUW.GLBL_CMPY_CD                = #glblCmpyCd#
            AND TUW.UPLD_CSV_RQST_PK        = #upldCsvRqstPk#
            AND TUW.EZCANCELFLAG            = '0'
        ORDER BY
            TUW.UPLD_CSV_RQST_ROW_NUM
    </statement>

    <statement id="countMdse" parameterClass="Map" resultClass="Integer">
        SELECT
            COUNT(1) AS COUNT
        FROM
            MDSE M
        WHERE
            M.GLBL_CMPY_CD                = #glblCmpyCd#
            AND M.MDSE_CD                 = #mdseCd#
            AND M.EZCANCELFLAG            = '0'
    </statement>

    <statement id="getTaxExemTp" parameterClass="Map" resultClass="String">
        SELECT
            TET.TAX_EXEM_TP_CD
        FROM
            TAX_EXEM_TP TET
        WHERE
            TET.GLBL_CMPY_CD                     = #glblCmpyCd#
        AND TET.EZCANCELFLAG                     = '0'
        AND UPPER(TET.TAX_EXEM_TP_DESC_TXT) = UPPER(#taxExemTpDescTxt#)
    </statement>
</sqlMap>
